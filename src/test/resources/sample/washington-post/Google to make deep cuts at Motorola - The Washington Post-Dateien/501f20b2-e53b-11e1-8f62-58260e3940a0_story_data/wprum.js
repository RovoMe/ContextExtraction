/*! rumjs - v0.0.7 - 2014-10-27T18:09:00 */function BOOMR_check_doc_domain(a){var b;if(!a){if(window.parent===window||!document.getElementById("boomr-if-as"))return!0;a=document.domain}if(-1===a.indexOf("."))return!1;try{return b=window.parent.document,void 0!==b}catch(c){document.domain=a}try{return b=window.parent.document,void 0!==b}catch(c){a=a.replace(/^[\w\-]+\./,"")}return BOOMR_check_doc_domain(a)}BOOMR_start=(new Date).getTime(),BOOMR_check_doc_domain(),function(a){function b(a,b){var c=g(a,{detail:b});c&&BOOMR.setImmediate(function(){e.dispatchEvent?e.dispatchEvent(c):e.fireEvent&&e.fireEvent("onpropertychange",c)})}var c,d,e,f,g;a.parent!==a&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(a=a.parent,f=document.getElementById("boomr-if-as").src),e=a.document,void 0===a.BOOMR&&(a.BOOMR={}),BOOMR=a.BOOMR,BOOMR.version||(BOOMR.version="0.9",BOOMR.window=a,function(){try{void 0!==new a.CustomEvent("CustomEvent")&&(g=function(b,c){return new a.CustomEvent(b,c)})}catch(b){e.createEvent?g=function(a,b){var c=e.createEvent("CustomEvent");return b=b||{cancelable:!1,bubbles:!1},c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}:e.createEventObject&&(g=function(a,b){var c=e.createEventObject();return c.type=c.propertyName=a,c.detail=b.detail,c})}g||(g=function(){return void 0})}(),c={beacon_url:"",beacon_type:"AUTO",site_domain:a.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",strip_query_string:!1,onloadfired:!1,handlers_attached:!1,events:{page_ready:[],page_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[],onbeacon:[],xhr_load:[],click:[],form_submit:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",onbeacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},vars:{},disabled_plugins:{},onclick_handler:function(b){var d;b||(b=a.event),b.target?d=b.target:b.srcElement&&(d=b.srcElement),3===d.nodeType&&(d=d.parentNode),d&&"OBJECT"===d.nodeName.toUpperCase()&&"application/x-shockwave-flash"===d.type||c.fireEvent("click",d)},onsubmit_handler:function(b){var d;b||(b=a.event),b.target?d=b.target:b.srcElement&&(d=b.srcElement),3===d.nodeType&&(d=d.parentNode),c.fireEvent("form_submit",d)},fireEvent:function(a,c){var d,e,f;if(a=a.toLowerCase(),!this.events.hasOwnProperty(a))return!1;for(f=this.events[a],d=0;d<f.length;d++)e=f[d],e[0].call(e[2],c,e[1]);return this.public_events.hasOwnProperty(a)&&b(this.public_events[a],c),!0}},d={t_lstart:null,t_start:BOOMR_start,t_end:null,url:f,utils:{objectToString:function(a,b,c){var d,e=[];if(!a||"object"!=typeof a)return a;if(void 0===b&&(b="\n	"),c||(c=0),"[object Array]"===Object.prototype.toString.call(a)){for(d=0;d<a.length;d++)e.push(c>0&&null!==a[d]&&"object"==typeof a[d]?this.objectToString(a[d],b+("\n	"===b?"	":""),c-1):encodeURIComponent(a[d]));b=","}else for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&e.push(c>0&&null!==a[d]&&"object"==typeof a[d]?encodeURIComponent(d)+"="+this.objectToString(a[d],b+("\n	"===b?"	":""),c-1):encodeURIComponent(d)+"="+encodeURIComponent(a[d]));return e.join(b)},getCookie:function(a){if(!a)return null;a=" "+a+"=";var b,c;return c=" "+e.cookie+";",(b=c.indexOf(a))>=0?(b+=a.length,c=c.substring(b,c.indexOf(";",b))):null},setCookie:function(a,b,d){var f,g,h,i,j;if(!a||!c.site_domain)return BOOMR.debug("No cookie name or site domain: "+a+"/"+c.site_domain),!1;if(f=this.objectToString(b,"&"),g=a+"="+f,i=[g,"path=/","domain="+c.site_domain],d&&(j=new Date,j.setTime(j.getTime()+1e3*d),j=j.toGMTString(),i.push("expires="+j)),g.length<500){if(e.cookie=i.join("; "),h=this.getCookie(a),f===h)return!0;BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+f+"\n"+h)}else BOOMR.warn("Cookie too long: "+g.length+" "+g);return!1},getSubCookies:function(a){var b,c,d,e,f=!1,g={};if(!a)return null;if("string"!=typeof a)return BOOMR.debug("TypeError: cookie is not a string: "+typeof a),null;for(b=a.split("&"),c=0,d=b.length;d>c;c++)e=b[c].split("="),e[0]&&(e.push(""),g[decodeURIComponent(e[0])]=decodeURIComponent(e[1]),f=!0);return f?g:null},removeCookie:function(a){return this.setCookie(a,{},-86400)},cleanupURL:function(a){return a?c.strip_query_string?a.replace(/\?.*/,"?qs-redacted"):a:""},hashQueryString:function(a,b){return a?(a.match(/^\/\//)&&(a=location.protocol+a),a.match(/^(https?|file):/)?(b&&(a=a.replace(/#.*/,"")),BOOMR.utils.MD5?a.replace(/\?([^#]*)/,function(a,b){return"?"+(b.length>10?BOOMR.utils.MD5(b):b)}):a):(BOOMR.error("Passed in URL is invalid: "+a),"")):a},pluginConfig:function(a,b,c,d){var e,f=0;if(!b||!b[c])return!1;for(e=0;e<d.length;e++)void 0!==b[c][d[e]]&&(a[d[e]]=b[c][d[e]],f++);return f>0},addListener:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},removeListener:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)},pushVars:function(a,b,c){var d,e,f=0;for(d in b)if(b.hasOwnProperty(d))if("[object Array]"===Object.prototype.toString.call(b[d]))for(e=0;e<b[d].length;++e)f+=BOOMR.utils.pushVars(a,b[d][e],d+"["+e+"]");else++f,a.push(encodeURIComponent(c?c+"["+d+"]":d)+"="+(void 0===b[d]||null===b[d]?"":encodeURIComponent(b[d])));return f},postData:function(a){var b=document.createElement("iframe"),d=document.createElement("form"),e=document.createElement("input");b.name="boomerang_post",b.style.display=d.style.display="none",d.method="POST",d.action=c.beacon_url,d.target=b.name,e.name="data",window.JSON?(d.enctype="text/plain",e.value=JSON.stringify(c.vars)):(d.enctype="application/x-www-form-urlencoded",e.value=a),document.body.appendChild(b),d.appendChild(e),document.body.appendChild(d),BOOMR.utils.addListener(b,"load",function(){document.body.removeChild(d),document.body.removeChild(b)}),d.submit()}},init:function(b){var f,g,h=["beacon_url","beacon_type","site_domain","user_ip","strip_query_string"];for(BOOMR_check_doc_domain(),b||(b={}),f=0;f<h.length;f++)void 0!==b[h[f]]&&(c[h[f]]=b[h[f]]);void 0!==b.log&&(this.log=b.log),this.log||(this.log=function(){});for(g in this.plugins)if(this.plugins.hasOwnProperty(g)){if(b[g]&&b[g].hasOwnProperty("enabled")&&b[g].enabled===!1){c.disabled_plugins[g]=1;continue}c.disabled_plugins[g]&&delete c.disabled_plugins[g],"function"==typeof this.plugins[g].init&&this.plugins[g].init(b)}return c.handlers_attached?this:(c.onloadfired||void 0!==b.autorun&&b.autorun===!1||(e.readyState&&"complete"===e.readyState?this.setImmediate(BOOMR.page_ready,null,null,BOOMR):a.onpagehide||null===a.onpagehide?d.utils.addListener(a,"pageshow",BOOMR.page_ready):d.utils.addListener(a,"load",BOOMR.page_ready)),d.utils.addListener(a,"DOMContentLoaded",function(){c.fireEvent("dom_loaded")}),function(){var b,f,g;for(b=function(){c.fireEvent("visibility_changed")},e.webkitVisibilityState?d.utils.addListener(e,"webkitvisibilitychange",b):e.msVisibilityState?d.utils.addListener(e,"msvisibilitychange",b):e.visibilityState&&d.utils.addListener(e,"visibilitychange",b),d.utils.addListener(e,"mouseup",c.onclick_handler),f=e.getElementsByTagName("form"),g=0;g<f.length;g++)d.utils.addListener(f[g],"submit",c.onsubmit_handler);a.onpagehide||null===a.onpagehide||d.utils.addListener(a,"unload",function(){BOOMR.window=a=null})}(),c.handlers_attached=!0,this)},page_ready:function(b){return b||(b=a.event),b||(b={name:"load"}),c.onloadfired?this:(c.fireEvent("page_ready",b),c.onloadfired=!0,this)},setImmediate:function(b,c,d,e){var f=function(){b.call(e||null,c,d||{}),f=null};a.setImmediate?a.setImmediate(f):a.msSetImmediate?a.msSetImmediate(f):a.webkitSetImmediate?a.webkitSetImmediate(f):a.mozSetImmediate?a.mozSetImmediate(f):setTimeout(f,10)},subscribe:function(b,e,f,g){var h,i,j,k;if(b=b.toLowerCase(),!c.events.hasOwnProperty(b))return this;for(j=c.events[b],h=0;h<j.length;h++)if(i=j[h],i[0]===e&&i[1]===f&&i[2]===g)return this;return j.push([e,f||{},g||null]),"page_ready"===b&&c.onloadfired&&this.setImmediate(e,null,f,g),"page_unload"===b&&(k=function(b){e&&e.call(g,b||a.event,f)},a.onpagehide||null===a.onpagehide?d.utils.addListener(a,"pagehide",k):d.utils.addListener(a,"unload",k),d.utils.addListener(a,"beforeunload",k)),this},addVar:function(a,b){if("string"==typeof a)c.vars[a]=b;else if("object"==typeof a){var d,e=a;for(d in e)e.hasOwnProperty(d)&&(c.vars[d]=e[d])}return this},removeVar:function(a){var b,d;if(!arguments.length)return this;for(d=1===arguments.length&&"[object Array]"===Object.prototype.toString.apply(a)?a:arguments,b=0;b<d.length;b++)c.vars.hasOwnProperty(d[b])&&delete c.vars[d[b]];return this},requestStart:function(a){var b=(new Date).getTime();return BOOMR.plugins.RT.startTimer("xhr_"+a,b),{loaded:function(){BOOMR.responseEnd(a,b)}}},responseEnd:function(a,b){BOOMR.plugins.RT.startTimer("xhr_"+a,b),c.fireEvent("xhr_load",{name:"xhr_"+a})},sendBeacon:function(){var b,d,f,g,h;BOOMR.debug("Checking if we can send beacon");for(b in this.plugins)if(this.plugins.hasOwnProperty(b)){if(c.disabled_plugins[b])continue;if(!this.plugins[b].is_complete())return BOOMR.debug("Plugin "+b+" is not complete, deferring beacon send"),!1}return c.vars.v=BOOMR.version,c.vars.u=BOOMR.utils.cleanupURL(e.URL.replace(/#.*/,"")),a!==window&&(c.vars["if"]=""),c.fireEvent("before_beacon",c.vars),c.beacon_url?(d=[],h=BOOMR.utils.pushVars(d,c.vars),this.setImmediate(c.fireEvent,"onbeacon",c.vars,c),h?(d=d.join("&"),"POST"===c.beacon_type?BOOMR.utils.postData(d):(f=c.beacon_url+(c.beacon_url.indexOf("?")>-1?"&":"?")+d,f.length>2e3&&"AUTO"===c.beacon_type?BOOMR.utils.postData(d):(BOOMR.debug("Sending url: "+f.replace(/&/g,"\n	")),g=new Image,g.src=f)),!0):this):(BOOMR.debug("No beacon_url, but would have sent: "+BOOMR.utils.objectToString(c.vars)),!0)}},delete BOOMR_start,"number"==typeof BOOMR_lstart?(d.t_lstart=BOOMR_lstart,delete BOOMR_lstart):"number"==typeof BOOMR.window.BOOMR_lstart&&(d.t_lstart=BOOMR.window.BOOMR_lstart),function(){var b;a.YAHOO&&a.YAHOO.widget&&a.YAHOO.widget.Logger?d.log=a.YAHOO.log:a.Y&&a.Y.log?d.log=a.Y.log:"object"==typeof console&&void 0!==console.log&&(d.log=function(a,b,c){console.log(c+": ["+b+"] "+a)}),b=function(a){return function(b,c){return this.log(b,a,"boomerang"+(c?"."+c:"")),this}},d.debug=b("debug"),d.info=b("info"),d.warn=b("warn"),d.error=b("error")}(),function(){var a;for(a in d)d.hasOwnProperty(a)&&(BOOMR[a]=d[a])}(),BOOMR.plugins=BOOMR.plugins||{},b("onBoomerangLoaded",{BOOMR:BOOMR}))}(window),function(){BOOMR=BOOMR||{},BOOMR.plugins=BOOMR.plugins||{};var a={complete:!1,done:function(){var a,b,c,e,f,g=BOOMR.window;if(d=g.document,a=g.performance||g.msPerformance||g.webkitPerformance||g.mozPerformance,a&&a.timing&&a.navigation){if(BOOMR.info("This user agent supports NavigationTiming.","nt"),b=a.navigation,c=a.timing,f=(new Date).getTime()-86400,console.log("pt.fetchStart: "+c.fetchStart),c.fetchStart<f)return console.log("no valid rum data: fetchStart:"+c.fetchStart),void(this.complete=!0);e={redt:c.redirectEnd-c.redirectStart,nl:c.responseEnd-c.fetchStart,dns:c.domainLookupEnd-c.domainLookupStart,tcp:c.connectEnd-c.connectStart,rest:c.responseEnd-c.requestStart,domt:c.domContentLoadedEventEnd-c.fetchStart,uplt:c.loadEventEnd-c.fetchStart,url:g.location.href,site:g.location.host,title:d.title,domn:d.getElementsByTagName("*").length},e.uplt<0&&(e.uplt=e.domt+1),c.msFirstPaint&&(e.fpt=c.msFirstPaint)}a&&a.memory&&(e.jhs=a.memory.usedJSHeapSize),g.chrome&&g.chrome.loadTimes&&(c=g.chrome.loadTimes(),c&&(e.fpt=c.firstPaintTime)),g.JSON?BOOMR.addVar("rum",JSON.stringify(e)):BOOMR.addVar(e),this.complete=!0,BOOMR.sendBeacon()}};BOOMR.plugins.WPRUM={init:function(){return BOOMR.subscribe("page_ready",a.done,null,a),this},is_complete:function(){return a.complete}}}(),BOOMR.t_end=(new Date).getTime(),BOOMR.init({beacon_url:"//rumds.wpdigital.net/metrics/"});