/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 1.109.0_widgets_494
 -*- Capture UI Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 1.109.0_widgets_494
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var Wb,Gb,Hb,Cc,id,qe,re,Fa,Nd,se,te,ue,ve,ib,jb;function Xb(a){janrain.ready?a():document.addEventListener?document.addEventListener("DOMContentLoaded",a,!1):window.attachEvent("onload",a)}function Yb(a){C().setUseLocalStorage(!1).setDomain("."+document.location.host).setName(a).setValue("").remove();C().setUseLocalStorage(!1).setName(a).setValue("").remove()}function jd(){var a;a="http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.2.21/":"https://d3hmp0045zy3cs.cloudfront.net/2.2.21/";
if(janrain.settings.capture&&janrain.settings.capture.quiltVersion){a=a.split("/");if("cdn.quilt.janrain.com"===a[2]||"d3hmp0045zy3cs.cloudfront.net"===a[2])a[a.length-2]=janrain.settings.capture.quiltVersion;a=a.join("/")}janrain.settings.capture&&janrain.settings.capture.quiltUrl&&(a=janrain.settings.capture.quiltUrl+"/2.2.21/");return a}function pa(a){function b(Wa){var M=a(Wa);i&&0===Wa%i&&n.error(p);M||(Wa<h?c=setTimeout(function(){b(Wa+1)},e):(n.warn("A poll operation failed."),J()))}var c,
e=100,h=1,i=0,p="",J=function(){},a="function"===typeof a?a:function(){return!0};return{start:function(){b(1);return this},stop:function(){clearTimeout(c);return this},setDelay:function(a){"number"===typeof a&&0<a&&(e=a);return this},setMaxAttempts:function(a){"number"===typeof a&&0<a&&(h=a);return this},setFailCallback:function(a){"function"===typeof a&&(J=a);return this},errorEvery:function(a,b){"number"===typeof a&&0<a&&"string"===typeof b&&(i=a,p=b);return this}}}function Dc(a,b,c){var e;if(document.getElementById(a))return!1;
if(g){e="";var h=document.createElement("div");h.innerHTML=e+"<iframe "+('name="'+a+'" ')+('id="'+a+'" ')+('src="'+b+'" ')+'style="display: none;"></iframe>';document.body&&document.body.appendChild(h);e=document.getElementById(a)}else e=document.createElement("iframe"),e.setAttribute("name",a),e.id=a,e.setAttribute("src",b),e.style.display="none",document.body&&document.body.appendChild(e);"function"===typeof c&&c();return e}function ta(a){for(var b="",c=0;c<a;)b+=ta.possible[Math.floor(Math.random()*
ta.possible.length)],c++;return b}function Ec(){function a(a,b,c,e){b={action:a,key:b,messageId:c};"set"===a&&(b.value=e);return"janrainCapture:"+K.stringify(b)}function b(a,b){pa(function(){return"undefined"!==typeof p[a]?("get"===p[a].action&&"function"===typeof b&&b(p[a].storedValue),!0):!1}).setDelay(50).setMaxAttempts(10).setFailCallback(function(){n.warn("Poll that checks message queue for request failed. requestId: "+a)}).start()}function c(c,e){var i=ta(40);window.setTimeout(function(){J.contentWindow.postMessage(a("get",
c,i),Wa)});b(i,e)}function e(a,b){if(i)kd?c(a,b):setTimeout(function(){e(a,b)},50);else return window.localStorage.getItem(a)}function h(a){if(0!==a.data.indexOf("janrainCapture:")||!A(M,a.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;a=K.parse(a.data.replace("janrainCapture:",""));p[a.messageId]=a}var i=!1,p={},J,Wa,M=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(c,e){if(i){var h=ta(40);window.setTimeout(function(){J.contentWindow.postMessage(a("set",
c,h,e),Wa)});return b(h)}return window.localStorage.setItem(c,e)},removeItem:function(c){if(i){var e=ta(40);window.setTimeout(function(){J.contentWindow.postMessage(a("remove",c,e),Wa)});return b(e)}return window.localStorage.removeItem(c)},getItem:e,setMultiDomain:function(a){if(i=a)window.addEventListener?window.addEventListener("message",h,!1):window.attachEvent?window.attachEvent("onmessage",h):document.attachEvent&&document.attachEvent("onmessage",h),J=document.getElementById("xDomainLocalStorageJanrain"),
Wa=janrain.settings.storageServerDomain}}}function C(){function a(){if(h&&Fc){var a=new Ec;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.removeItem(e);a.removeItem(e+"_Expires")}else{var a=p?"; domain="+p:"",b=new Date;b.setTime(b.getTime()+-864E6);document.cookie=e+"="+i+";expires="+b.toUTCString()+a+"; path="+J}}function b(b,c,i){var p,J,f,n,g,i="undefined"===typeof i?!0:i;if(h&&Fc)if(g=new Ec,janrain.settings.multiDomainLocalStorage)g.setMultiDomain(!0),g.getItem(b,function(h){h?
i?g.getItem(b+"_Expires",function(i){i?Math.round((new Date).getTime()/1E3)>Math.round((new Date(i)).getTime()/1E3)?(e=b,a(),"function"===typeof c&&c(!1)):"function"===typeof c&&c(h):(new C).getCookie(b+"_session")?"function"===typeof c&&c(h):(e=b,a())}):"function"===typeof c&&c(h):"function"===typeof c&&c(!1)});else if(n=g.getItem(b),p=g.getItem(b+"_Expires"),n){if(!i||!(p&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(p)).getTime()/1E3))&&(p||(new C).getCookie(b+"_session")))return n;
e=b;a()}else return!1;else{p=document.cookie.split(";");J=p.length;for(var q=0;q<J;q++)if(f=p.pop(),n=f.split("="),f=n[0],n=n[1],f.trim()===b)return n;return!1}}var c,e,h=!1,i,p,J="/";return{create:function(){if(h&&Fc){var a=new Ec;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.setItem(e,i);c?a.setItem(e+"_Expires",c):(new C).setName(e+"_session").setValue("session").create()}else document.cookie=e+"="+i+(c?"; expires="+c:"")+(p?"; domain="+p:"")+"; path="+J},remove:a,setExpirationDirectly:function(a){a&&
(c=a);return this},setExpiration:function(a){if(a){var b=new Date;b.setTime(b.getTime()+864E5*a);c=b.toUTCString()}return this},setName:function(a){a&&(e=a);return this},setValue:function(a){"undefined"!==typeof a&&(i=a);return this},setUseLocalStorage:function(a){h=a;return this},setPath:function(a){a&&(J=a);return this},setDomain:function(a){a&&(p=a);return this},getCookie:function(a,c,e){return b(a,c,e)}}}function Zb(a,b){a=a||navigator.appName;b=b||ka;return"Microsoft Internet Explorer"===a&&
null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(b)?parseFloat(RegExp.$1):!1}function Gc(a){a=a||ka;return!/CriOS\//.test(a||ka)&&!/Chrome\//.test(a||ka)&&/Safari\//.test(a)}function Hc(a){a=a||ka;return-1<a.indexOf("iPod")?"iPod":-1<a.indexOf("iPhone")?"iPhone":-1<a.indexOf("iPad")?"iPad":0}function qa(a,b,c,e,h,i){"number"===typeof c&&"number"===typeof e&&"number"===typeof h&&"number"===typeof i?("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=c+"px "+e+"px "+h+"px "+i+"px"),"undefined"!==
typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=c+"px "+e+"px "+h+"px "+i+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=c+"px "+e+"px "+h+"px "+i+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=b+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=b+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=b+"px"));return a}function xb(a,b){if("undefined"===typeof a||"undefined"===
typeof b)return!1;var c=a-b;0>c&&(c=0);c>a&&(c=a);return c}function Pd(a,b){"undefined"!==typeof a.style.filter&&(a.style.filter="alpha(opacity="+100*b+")");"undefined"!==typeof a.style.opacity&&(a.style.opacity=b);"undefined"!==typeof a.style.KhtmlOpacity&&(a.style.KhtmlOpacity=b);"undefined"!==typeof a.style.MozOpacity&&(a.style.MozOpacity=b)}function md(a,b){if(g&&(9>=g||document.documentMode&&9>=document.documentMode))return a.style.backgroundImage="url('"+pc("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+
"')",!0;var c;if(c=Gc()){a:{if((c=ka)&&Gc(c))if((c=c.match(/ Version\/(\d)[\d\.]+ /))&&c[1]){c=1*c[1];break a}c=0}c=4>=c}if(c||Ka.getMobileDevice()){var e=c="",h="",i=b.split(","),p={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};i[0]&&p[i[0]]&&(c=p[i[0]]);i[1]&&(e="from("+i[1]+")");i[i.length-1]&&(h="to("+i[i.length-1]+")");a.style.backgroundImage="-webkit-gradient(linear,"+c+","+e+","+h+")"}a.style.backgroundImage="-moz-linear-gradient("+
b+")";a.style.backgroundImage="-webkit-linear-gradient("+b+")";a.style.backgroundImage="-ms-linear-gradient("+b+")";a.style.backgroundImage="-o-linear-gradient("+b+")";a.style.backgroundImage="linear-gradient("+b+")"}function Ib(a,b,c,e){var h=Ic(c),i=Ic(c,e);if(c=Qd(c))c.a=e,i="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<b){a.style.backgroundColor=h;a.style.padding=b+"px";if(0<g&&8>=g||g&&ea)return!1;a.style.backgroundColor=i;a.style.padding=b+"px"}else a.style.backgroundColor="",a.style.padding=
"0px"}function Qd(a){var b={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,"");a=a.split(",");if(3>a.length||4<a.length)return!1;b.r=a[0];b.g=a[1];b.b=a[2];b.a=a[3]?a[3]:1;return b}function Ic(a,b){var c=a.split("");if("#"!==c[0])return a;4===a.length&&(a=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);var a=a.substring(1,7),c=parseInt(a.substring(0,2),16),e=parseInt(a.substring(2,4),16),h=parseInt(a.substring(4,6),16);return isNaN(b)?"rgb("+c+","+
e+","+h+")":"rgba("+c+","+e+","+h+","+b+")"}function y(a,b,c){if(null==a)return!1;a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function yb(a,b){if(document.createEvent){var c=document.createEvent("HTMLEvents");c.initEvent(b,!1,!1);a.dispatchEvent(c)}else document.createEventObject&&a.fireEvent("on"+b)}function zb(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function $b(){var a,b;"undefined"!=typeof window.innerWidth?(a=window.innerWidth,
b=window.innerHeight):(a=document.documentElement.offsetWidth,b=document.documentElement.offsetHeight);return{width:a,height:b}}function Ab(a){return{width:a.style&&a.style.width?parseInt(a.style.width):a.offsetWidth?parseInt(a.offsetWidth):0,height:a.style&&a.style.height?parseInt(a.style.height):a.offsetHeight?parseInt(a.offsetHeight):0}}function xe(a,b){var c=document.getElementById(a);if(!c)return null;if("object"===typeof c.currentStyle)var e=c.currentStyle[b];else window.getComputedStyle&&(e=
document.defaultView.getComputedStyle(c,null).getPropertyValue(b));return e}function Rd(a){var b,c,e,h;if("string"!==typeof a)return!1;a=a.trim();if(0===a.length)return!1;b=document.createElement("a");-1===a.indexOf("//")?a="http://"+a:0===a.indexOf("//")&&(a="http:"+a);"#"===a.charAt(a.length-1)&&(a=a.slice(0,a.length-1));b.href=a;if(2>b.protocol.length||""===b.host||0===b.hostname.length)return!1;h=""!==b.port&&"0"!==b.port&&"21"!==b.port&&"80"!==b.port&&"443"!==b.port;e="/"!==b.pathname.charAt(0);
c=-1<a.indexOf(b.hostname+(h?":"+b.port:"")+(e?"/":"")+b.pathname+b.search+b.hash);b=b.protocol+"//"+b.hostname+(h?":"+b.port:"")+(c?(e?"/":"")+b.pathname:"")+b.search+b.hash;c=encodeURI(a);return 0===b.indexOf(a)||0===b.indexOf(c)?b:!1}function V(a,b,c,e,h){var i=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,p=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("array"===a){if(!t(e))return h||H.log(e+" is wrong type, must be array, using default value instead"),c;if(b&&t(b))for(var J=
0;J<e.length;J++)if(0>b.indexOf(e[J]))return h||H.log(e+" is not within the valid range, using default value instead"),c;return e}if("url"===a){if("string"!==typeof e)return c;e=e.trim();if(0===e.length)return c;if(J=Rd(e))return J;h||H.log(e+" failed url validation, please double check the url.");return e}if("text"===a){if(b){if(0<=b.indexOf(e))return e;h||H.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}return i.test(e)?
e:c}if("usertext"===a){if("string"!==typeof e&&"number"!==typeof e)return c;if(t(b)){if(1===b.length){if(e.length<=b[0])return e;h||H.log(e+" is too long, using default value instead");return c}if(2===b.length){if(e.length<=b[1]&&e.length>=b[0])return e;h||H.log(e+" is not within the valid range, using default value instead");return c}h||H.log("usertext range is invalid, using default value instead");return c}return e}"string"===typeof e&&0==e.length&&(e=" ");if(!i.test(e))return h||H.log(e+" contains invalid character(s)"),
c;if("boolean"===a){if("boolean"===typeof e)return e;h||H.log(e+" is wrong type, must be boolean, using default value instead");return c}if("text"===a)return e;if("number"===a){if(isNaN(parseInt(e)))return h||H.log(e+" is wrong type, must be a valid number"),c;e=parseFloat(e)}if("color"===a){e&&(e=e.trim());if("transparent"===e||p.test(e))return e;h||H.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if(typeof e!=a&&
"color"!=a)return h||H.log(e+" for "+arguments.callee.caller.name+" is "+typeof e+" expected "+a),c;if("object"===typeof b&&"string"===a){if(0<=b.indexOf(e))return e;h||H.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===typeof b&&"number"===a){2===b.length?(i=b[0],p=b[1]):(i=b.shift(),p=b.pop(),J=b);if(e<i)return h||H.log("Value of "+e+" for "+arguments.callee.caller.name+" is below minimum of "+i+", using minimum value of "+
i+" instead"),i;if(e>p)return h||H.log("Value of "+e+" for "+arguments.callee.caller.name+" is above maximum of "+p+", using maximum value of "+p+" instead"),p;if(J&&"number"===typeof J.indexOf(e)||e==i||e==p)return e;return J?(h||H.log("Value of "+e+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+c+" instead"),c):e}return 0!=e&&!e?c:e}function Bb(a){for(var b=Bb.options,a=b.parser[b.strictMode?"strict":"loose"].exec(a),c={},e=14;e--;)c[b.key[e]]=a[e]||"";c[b.q.name]=
{};c[b.key[12]].replace(b.q.parser,function(a,e,p){e&&(c[b.q.name][e]=p)});return c}function cb(a){return document.getElementById(N(a).getAttribute("id"))}function N(a){return a.target?a.target:a.srcElement}function nd(a,b){function c(a){g=!0;"undefined"!==typeof f&&clearTimeout(f);if("string"===typeof a)return"function"===typeof J&&J(a),!0;if("object"===typeof a||"undefined"===typeof a)return"object"===typeof a&&"error"===a.type?"function"===typeof J&&J(a):"function"===typeof h&&h(),!0}function e(){pa(function(){return g}).setDelay(50).setMaxAttempts(i).setFailCallback(function(){n.warn("Polling for script loader failed. src: "+
a);c("Load Timeout Error")}).start()}var h=b,i=200,p=!1,J,f,M=document.createElement("script"),we=document.getElementsByTagName("script")[0],g=!1;M.src=a;M.setAttribute("type","text/javascript");M.onload=M.onerror=M.onreadystatechange=function(a){!g&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&c(a)};return{setTimeoutCallback:function(a){p=!0;J=a;return this},setCallback:function(a){h=a;return this},setTimeoutLimit:function(a){i=a;return this},load:function(){we.parentNode.insertBefore(M,
we);p&&e()}}}function ua(a,b){nd(a,b).load()}function ye(a,b){g&&9>g&&qc(a,b)}function qc(a,b,c){function e(c){cssNotFound=!1;"function"===typeof b&&b();var e=janrain.events.onCssLoad,c={source:a,noload:c,save:!0};e.fire(c);e.permaArgs||(e.permaArgs=[]);e.permaArgs.push(c)}function h(){pa(function(){for(f=J.length;0<=--f;)if(J[f].href===p.href)return e(),!0;return!1}).setDelay(50).setMaxAttempts(200).setFailCallback(function(){n.warn("Dynamic stylesheet poll check failed.");e(!0)}).start()}function i(){pa(function(){e();
return!0}).setDelay(50).setMaxAttempts(200).setFailCallback(function(){n.warn("Dynamic stylesheet poll check failed.")}).start()}if(A(od,a))c&&"function"===typeof b&&b();else{od.push(a);var p,J=document.styleSheets,f;"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=new Cb);Jc?(p=document.createElement("style"),p.innerHTML='@import "'+a+'";'):(p=document.createElement("link"),p.rel="stylesheet",p.href=a,p.type="text/css");Kc||Jc?(Kc&&h(),Jc&&i()):(p.onload=function(){e()},p.onerror=
function(){e(!0)});document.getElementsByTagName("head")[0].appendChild(p)}}function q(a){var b;b=a&&a.className?a.className.split(" "):[];return{append:function(c){-1===b.indexOf(c)&&(b.push(c),a&&(a.className=b.join(" ")));return this},remove:function(c){-1!==b.indexOf(c)&&(b.splice([b.indexOf(c)],1),a&&(a.className=b.join(" ").trim()));return this},has:function(a){return-1!==b.indexOf(a)}}}function ze(a,b){xa(a.style,b)}function ya(a,b){a.appendChild(document.createTextNode(b))}function db(a,b){a.innerHTML=
"";ya(a,b)}function Sd(a){for(var b=a.lastChild;b;)a.removeChild(b),b=a.lastChild}function Td(a){var b=typeof a;return("number"===b||"string"===b&&0<a.length)&&sb(a)?parseFloat(a):null}function Oa(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getMonth())}function t(a){return"[object Array]"===Object.prototype.toString.call(a)}function eb(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)}function A(a,b){return!t(a)?!1:-1<a.indexOf(b)}function F(a,b){for(var c in a)va(a,
c)&&b.call(a[c],c,a[c]);return a}function Ca(a,b){if("undefined"===typeof b||0===b.length||!eb(a)&&!t(a))return a;for(var c=b.split("."),e=a,h=0,i=c.length;h<i&&!(e=e[c[h]],void 0===e||null===e);++h);return e}function G(a,b,c){for(var e=0,h=a.length;e<h;e++)b.call(c,a[e],e,a)}function Lc(a){a()}function Jb(a){a&&a.parentNode&&a.parentNode.removeChild(a);return a}function Ud(a,b){for(var c=b.parentNode;null!=c;){if(c==a)return!0;c=c.parentNode}return!1}function X(a){var b=t(a)?[]:{},c;for(c in a)va(a,
c)&&(b[c]=X.isCloneable(a[c])?X(a[c]):a[c]);return b}function Mc(a,b){var c=[],e=!(b&&!1===b.encode),h=b&&!0===b.allowDupes;F(a,function(a,b){var J=h&&t(b)?b:[b];c.push.apply(c,J.map(function(b){return e?encodeURIComponent(a)+"="+encodeURIComponent(b):a+"="+b}))});return(c.length?"?":"")+c.join("&")}function Ze(a,b){for(var c,e={},h=a.split(b||"&"),i=0,p=h.length;i<p;i++)c=h[i].split("="),c[0]&&(e[c[0]]=c[1]);return e}function pd(a,b,c){if(!a)return"";if(!b)return a;var e=Bb(a),a=e.protocol+"://"+
e.authority+e.path,h=e.anchor?"#"+e.anchor:"",i={};F(b,function(a,b){var e=c&&t(b)?b:[b];i[encodeURIComponent(a)]=e.map(encodeURIComponent)});b=Mc(xa(e.queryKey,i),{encode:!1,allowDupes:c});return a+b+h}function Vd(a,b){F(b,function(b,e){va(a,b)?t(a[b])?a[b].push(e):a[b]=[a[b],e]:a[b]=e});return a}function S(a){if(!a)return!1;if(a.preventDefault)a.preventDefault();else try{a.returnValue=!1}catch(b){}}function Nc(a){if(!a)return!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function $e(a){var b;
a&&(b=tb(a.getElementsByTagName("input")),b=b.concat(tb(a.getElementsByTagName("button"))),b=Ae(b,{type:"submit"})[0]);return b}function sb(a){return!isNaN(parseFloat(a))&&isFinite(a)}function Be(a){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){var b=a.split("/"),a=parseInt(b[1],10),c=parseInt(b[0],10),b=parseInt(b[2],10),e=new Date(b,c-1,a);return e.getFullYear()==b&&e.getMonth()==c-1&&e.getDate()==a?!0:!1}return!1}function Da(a,b,c){var e,h=Ce,i=Wd,p;void 0===a&&(a="{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}");
void 0===b&&(b=new Date);c&&(c.monthNames&&t(c.monthNames)&&12===c.monthNames.length&&(h=c.monthNames),c.dayNames&&t(c.dayNames)&&7===c.dayNames.length&&(i=c.dayNames),c.dateSuffixes&&t(c.dateSuffixes)&&(p=c.dateSuffixes));c=function(){var a=b.getHours();12<a&&(a-=12);0===a&&(a=12);return a};e=function(a){return 10>a?"0"+a:a};a=a.replace(/{yyyy}/g,b.getFullYear());a=a.replace(/{month}/g,h[b.getMonth()]);a=a.replace(/{mmm}/g,h[b.getMonth()].substring(0,3));a=a.replace(/{day}/g,i[b.getDay()]);a=a.replace(/{0m}/g,
e(b.getMonth()+1));a=a.replace(/{m}/g,b.getMonth()+1);a=a.replace(/{0d}/g,e(b.getDate()));a=a.replace(/{d}/g,b.getDate());a=a.replace(/{ord}/g,function(){var a=b.getDate(),c=p||["th","st","nd","rd"];return c[(a-20)%10]||c[a]||c[0]}());a=a.replace(/{0hour}/g,e(c()));a=a.replace(/{hour}/g,c());a=a.replace(/{0h}/g,e(b.getHours()));a=a.replace(/{h}/g,b.getHours());a=a.replace(/{minute}/g,e(b.getMinutes()));a=a.replace(/{second}/g,e(b.getSeconds()));return a=a.replace(/{ampm}/g,11<b.getHours()?"PM":"AM")}
function qd(a,b,c){function e(){var a=g.search(M);if(-1===a)return!1;var b=g.substring(a,a+2);isNaN(b)||12<b?(f.setMonth(g.substring(a,a+1)-1),g=g.substring(a+1)):(f.setMonth(b-1),g=g.substring(a+2));return y=!0}function h(){var a=g.search(M);if(-1===a)return!1;var b=g.substring(a,a+2);isNaN(b)||31<b?(f.setDate(g.substring(a,a+1)),g=g.substring(a+1)):(f.setDate(b),g=g.substring(a+2));return oc=!0}function i(){var a;a=g.search(M);if(-1===a)return!1;g=g.substring(a);a=g.match(n)[0];f.setFullYear(a);
g=g.substring(a.length);return C=!0}function p(){var a,b,c=-1,e;for(e=0;12>e;++e)a=g.search(q[e]),-1===c&&-1<a&&(c=a,b=e),-1<a&&a<c&&(c=a,b=e);if(-1===c)return!1;f.setMonth(b);g=g.substring(c);a=g.search(t);-1===a&&(a=g.length);g=g.substring(a);return y=!0}var f=new Date,a=a.match(/\{+([a-z0])+\}/g),g=b,M=/[0-9]{1}/,n=/[0-9]+/,q=[/jan/i,/feb/i,/mar/i,/apr/i,/may/i,/jun/i,/jul/i,/aug/i,/sep/i,/oct/i,/nov/i,/dec/i],t=/[^a-zA-Z]/,y=!1,C=!1,oc=!1;if("string"!==typeof b)return new Date("Invalid Date");
"undefined"===typeof c&&(c=!1);f.setMonth(0);f.setFullYear(0);f.setDate(1);f.setMinutes(0);f.setSeconds(0);f.setHours(0);f.setMilliseconds(0);for(var b=0,ld=a.length;b<ld;++b){var D=!0;switch(a[b]){case "{m}":y||(D=!1,c||(D=p()),D||(D=e()));break;case "{0m}":y||(D=!1,c||(D=p()),D||(D=e()));break;case "{month}":y||(D=p(),!D&&!c&&(D=e()));break;case "{mmm}":y||(D=p(),!D&&!c&&(D=e()));break;case "{d}":oc||(D=h());break;case "{0d}":oc||(D=h());break;case "{yyyy}":C||(D=i())}if(!D){f=new Date("Invalid Date");
break}if(y&&C&&oc)break}return f}function af(a,b){var a=a||{},c={};F(b,function(e){c[e]=e in a?a[e]:b[e]});return c}function xa(a,b){for(var c in b)va(b,c)&&(a[c]=b[c]);return a}function De(a,b){if(!X.isCloneable(a)||!X.isCloneable(b))return a;for(var c in b)va(b,c)&&(a[c]="undefined"===typeof a[c]||!X.isCloneable(a[c])?X.isCloneable(b[c])?X(b[c]):b[c]:X.isCloneable(b[c])?De(a[c],b[c]):b[c]);return a}function Ee(a,b){var c=!0;if(!X.isCloneable(a)||!X.isCloneable(b))return a===b;for(var e in a)if(va(a,
e)&&(c=X.isCloneable(a[e])?Ee(a[e],b[e]):a[e]===b[e],!c))return!1;return!0}function fa(a,b){for(var c=b,e=/\{\|(.*?)\|\}/,h;h=e.exec(c);)try{var i=h[1].trim(),p=Ca(a,i),p="undefined"!==typeof p?p:"",c=c.replace(h[0],p)}catch(f){return window.console&&window.console.log&&console.log(f.name+": "+f.message,"error"),!1}return c}function bf(a,b){var c=X(a);F(b,function(b,h){var i=Ca(a,b);if(i&&eb(h)&&"date"===h.type&&(i=qd("{yyyy}-{0m}-{0d}",i),i=Da(h.format,i),!("undefined"===typeof b||0===b.length||
!eb(c)&&!t(c)))){for(var p=b.split("."),f=c,g,M=0,n=p.length-1;M<n;++M)g=f[p[M]],X.isCloneable(g)||(f[p[M]]={}),f=f[p[M]];f[p.pop()]=i}});return c}function ub(a,b){if(a){if(a.nodeName.toLowerCase()===b.toLowerCase())return a;if(!a.parentNode)return!1;var c=a.parentNode.nodeName.toLowerCase();return"body"===c?!1:c===b.toLowerCase()?a.parentNode:ub(a.parentNode,b)}}function rd(a,b){return!a?!1:"body"===a.nodeName.toLowerCase()?!1:q(a).has(b)?a:rd(a.parentNode,b)}function Kb(a){var b=[],c;for(c in a)va(a,
c)&&b.push(c+'="'+a[c]+'"');return b.join(" ")}function tb(a){return"string"===typeof a?a.split(""):Array.prototype.map.call(a,function(a){return a})}function Fe(a){if(a&&0<a.length)for(var a=a[0].children,b=a.length,c=0;c<b;++c)a[c].blur&&a[c].blur()}function cf(a,b){for(var c=[],e=0,h=a.length;e<h;e++)b(a[e])&&c.push(a[e]);return c}function Ae(a,b){return cf(a,function(a){for(var e in b)if(va(b,e)&&a[e]!==b[e])return!1;return!0})}function df(a,b,c){for(var e=[],h=0,i=a.length;h<i;h++)e.push(b.call(c,
a[h],h,a));return e}function Ge(a){var b,c;if(a&&(a.blur&&a.blur(),a.children)){c=a.children;a=0;for(b=c.length;a<b;a++)Ge(c[a])}}function va(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function sd(a){if("string"!==typeof a)return a;for(var b=a.length,c=[],e;b--;)e=a.charCodeAt(b),c[b]="&#"+e+";";return c.join("")}function td(){function a(a){var a=a||"img",c=document.createElement(a);c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=1E3;"a"===a?(c.setAttribute("href","#"),
c.className="janrain_modal_closebutton",pa&&(c.innerHTML=pa)):(c.src=va,ka||(c.style.right="-6px",c.style.top="-7px",c.style.height="31px",c.style.width="28px"));c.onclick=xa?e:b;return c}function b(a){Ea||(z.style.display="none",F.style.display="none",R.style.display="none");Sa&&Ka.deactivate();("object"===typeof a||!a)&&janrain.events.onModalClose.fire();("object"===typeof a||!a)&&Ha.fire();"object"===typeof a&&S(a)}function c(){var a=document.createElement("div"),c=document.createElement("div"),
e=document.createElement("a"),i=document.createElement("a"),h=document.createElement("h3");e.innerHTML=ua;i.innerHTML=Ca;h.innerHTML=ya;e.setAttribute("href","#");i.setAttribute("href","#");a.className="janrain_close_confirm_container";c.className="janrain_close_confirm";e.className="janrain_modal_confirm";i.className="janrain_modal_cancel";y(e,"click",function(a){b();z.removeChild(kb);kb=null;S(a)});y(i,"click",function(a){z.removeChild(kb);kb=null;S(a)});c.appendChild(h);c.appendChild(i);c.appendChild(e);
a.appendChild(c);return a}function e(a){kb||(kb=c(),z.appendChild(kb));S(a)}function h(){function a(){var b,c,e,i,s,h,p,f;e=document.documentElement?document.documentElement:{clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0,offsetWidth:0,offsetHeight:0};f=e.scrollWidth?e.scrollWidth:0;b=e.scrollHeight?e.scrollHeight:0;h=e.offsetWidth?e.offsetWidth:0;p=e.offsetHeight?e.offsetHeight:0;i=document.body.scrollWidth?document.body.scrollWidth:0;s=document.body.scrollHeight?document.body.scrollHeight:
0;c=document.body.offsetWidth?document.body.offsetWidth:0;e=document.body.offsetHeight?document.body.offsetHeight:0;h=Math.max(i,f,c,h);b=Math.max(s,b,e,p);e=R.style;e.width=h+"px";e.height=b+"px";e.position="absolute"}R=document.createElement("div");R.id=fa;var b=R.style;b.left="0px";b.top="0px";ef?(a(),y(window,"resize",a)):(b.bottom="0px",b.right="0px",b.position="fixed");b.backgroundColor="#000000";Pd(R,"0.4");b.display="none";b.zIndex=sa;return R}function i(a){var b=document.documentElement.scrollTop>=
document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,c=document.documentElement.scrollLeft>=document.body.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,e=$b(),i=Ab(a),h=e.height-i.height,e=e.width-i.width,b=b+h/2,c=c+e/2;D()&&(0>h&&(document.documentElement.scrollTop=0,document.body.scrollTop=0,b=10),0>e&&(document.documentElement.scrollLeft=0,c=document.body.scrollLeft=0),a.style.top=b+"px",a.style.left=c+"px");"absolute"!==a.style.position&&
(a.style.position="absolute")}function p(){if(Ea){var a=document.getElementById("previewMode");a.style.position="relative";a.appendChild(z)}else i(z);Ea||H.show()}function f(a){Pa||(la=V("number",[0,20],10,a),lb.fire({radius:xb(ma,la)}))}function n(a){Pa||($=V("color",null,"#000000",a))}function M(a){Pa||(ma=V("number",[0,20],10,a),Xa.fire({radius:xb(ma,la),refresh:!0}))}function q(a){Pa||(Qa=V("number",[0,1],0.5,a),"object"==typeof z&&Ib(z,la,$,Qa))}function t(){if("undefined"===typeof pb)return!0;
var a=$b();return!!Math.floor(pb)!==!!Math.floor(a.width/a.height)}function C(){var a=$b();pb=a.width/a.height}function Od(a){if("portrait"===a){Ya="portrait";var b="one column"}"landscape"===a&&(Ya="landscape",b="two column");Ga.fire({orientation:Ya,format:b,width:ha,height:N});t()&&p();C()}function A(a){a&&(ra=a);g&&ea&&(ra+=la-2);"object"==typeof z&&(z.style.width=ra+"px");return this}function oc(a){a&&(X=a);g&&ea&&(X=X+2*la-4);a&&"object"==typeof z&&(z.style.height=X+"px");return this}function ld(){var a=
$b(),a=a.width>=a.height,b="undefined"===typeof window.orientation,a=90===window.orientation||-90===window.orientation||b&&a?"landscape":"portrait";Ya!==a&&Od(a);p()}function D(){return"object"===typeof z&&"none"!==z.style.display}var ha=380,N=131,z,K="janrainModal",F,R,fa="janrainModalOverlay",G,ra=ha,X=N,la=10,$="#000000",ma=10,Qa=0.5,sa=1E3,xa=!1,va=pc("rel/img/17c96fc4b9c8464d1c95cd785dd3120b.png"),pa="",Pa=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,
ka=!1,ya="Are you sure you want to quit?",ua="Yes, quit",Ca="No, stay",kb,Ya="landscape",fb=!0,Sa="boolean"===typeof Sa?Sa:"number"===typeof window.orientation?!0:!1,P="boolean"===typeof P?P:janrain.settings.previewMode,Ea=P,Da=Da||!1,pb,wa=!1;janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(va=janrain.settings.capture.modalCloseImage,ka=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(pa=janrain.settings.capture.modalCloseHtml);
window.janrain.events.onModalClose||(window.janrain.events.onModalClose=W());window.janrain.events.onModalOpen||(window.janrain.events.onModalOpen=W());var Ha=W(),Ma=W(),Xa=W(),lb=W(),Ga=W();Ka&&Ka.onOrientationChange&&Ka.onViewportChange&&(Ka.onOrientationChange.addHandler(function(a){Od(a.orientation)},!0),Ka.onViewportChange.addHandler(function(){t()&&i(z);C()},!0));"undefined"!==typeof janrain.events.onCaptureRenderComplete&&(janrain.events.onCaptureRenderComplete.addHandler(function(){D()&&(wa=
!0)},!0),janrain.events.onCaptureContentChange.addHandler(function(){D()&&wa&&(p(),wa=!1)},!0));return{isOpen:function(){return D()},setWidth:function(a){A(a);return this},setHeight:function(a){oc(a);return this},setBorder:function(a){("string"==typeof a||"number"==typeof a)&&f(a);Pa||"object"==typeof z&&Ib(z,la,$,Qa);return this},setBorderColor:function(a){a&&n(a);Pa||"object"==typeof z&&Ib(z,la,$,Qa);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&M(a);Pa||"object"==
typeof z&&qa(z,ma);return this},setBorderOpacity:function(a){("number"===typeof a||"string"===typeof a)&&q(a);return this},setZIndex:function(a){R.style.zIndex=a},setPreviewMode:function(a){"boolean"===typeof a&&(Ea=a);return this},setId:function(a){K=a;z&&(z.id=a);return this},show:function(){Sa||(z.style.display="block");"object"==typeof F&&fb&&(F.style.display="block");Ea?Sa&&(z.style.display="block"):(R.style.display="block",Sa?(Ka.setElement(z).activate(),z.style.display="block"):(y(window,"resize",
ld),ld()));Pa||Xa.fire({radius:xb(ma,la),refresh:!1});Ma.fire();janrain.events.onModalOpen.fire();Wb.fire();z.focus()},close:function(a){b(a)},closeConfirm:function(){e()},refresh:function(a){Da||z.appendChild(G);a&&a.center&&p()},remove:function(){if(Ea){var a=document.getElementById("previewMode");"object"===typeof G&&z.removeChild(G);"object"===typeof z&&a.removeChild(z);"object"===typeof R&&document.body.removeChild(R);if(a=document.getElementById("janrainEngageEmbed_old"))a.id="janrainEngageEmbed";
R=z=""}else"object"===typeof G&&z.removeChild(G),"object"===typeof R&&document.body.removeChild(R),"object"===typeof z&&document.body.removeChild(z)},addContent:function(b){var c=janrain.events.onAuthWidgetContentPlaced;c&&c.fire();F=b;if(!z){z=document.createElement("div");z.id=K;if("number"===typeof ra||"string"===typeof ra)z.style.width=ra+"px";z.style.height=X+"px";z.style.position="absolute";Pa||(z.style.padding=la+"px",qa(z,ma),Ib(z,la,$,Qa));z.style.zIndex=1E3;z.style.display="none";R=h();
G=pa?a("a"):a();z.appendChild(G);document.body.appendChild(R);document.body.appendChild(z)}z.appendChild(F);Ea&&p();return this},getContent:function(){return F},getBorderWidth:function(){return la},getState:function(){return{width:ra,borderWidth:la,borderColor:$,borderRadius:ma,borderOpacity:Qa,orientation:Ya}},setState:function(a){I("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&f(a.borderWidth),"undefined"!==typeof a.borderColor&&n(a.borderColor),"undefined"!==typeof a.borderOpacity&&
q(a.borderOpacity),"undefined"!==typeof a.orientation&&Od(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&M(a.borderRadius),"object"==typeof z&&qa(z,ma)))},setConfirmClose:function(a){xa=a;return this},setShowContentOnLoad:function(a){fb=a;return this},setConfirmMessageText:function(a){ya=a},setConfirmLinkText:function(a){ua=a},setCancelLinkText:function(a){Ca=a},onClose:Ha,onShow:Ma,onOrientationChange:Ga,onBorderRadiusChange:Xa,
onBorderWidthChange:lb}}function ff(a){function b(a){"janrainReadyToClose:True"===a.data&&(top.focus(),f=!0,zb(window,"message",b))}function c(a){"janrainPopupHasClosed"===a.data&&(zb(window,"message",c),g&&g.parentNode&&g.parentNode.removeChild(g),"function"===typeof M&&M())}function e(){var a=window.open(h,"","top="+((window.screen.availHeight||window.screen.height)/2-p/2)+",left="+((window.screen.availWidth||window.screen.width)/2-i/2)+",width="+i+",height="+p+",status=1,location=1,resizable=1,scrollbars=1");
gf&&y(window,"message",b);if(hf)y(window,"message",c),g=Dc("janrain-xdr-iframe",janrain.settings.appUrl+"/xdr_iframe");else var e=window.setInterval(function(){f&&a&&(a.close(),f=!1);if(!a||a.closed||void 0===a.closed)window.clearInterval(e),"function"===typeof M&&M()},500)}var h=a,i=400,p=400,f=!1,g,M;return{show:function(){e()},setWidth:function(a){a&&(i=a);return this},setHeight:function(a){a&&(p=a);return this},setCallback:function(a){a&&(M=a);return this}}}function jf(){function a(a){"function"===
typeof a&&(C=a);return this}function b(){f=[];t.innerHTML="";G(arguments,function(a,b){var c=document.createElement("button");c.className="capture_btn capture_secondary";db(c,a);c.setAttribute("data-index",b.toString());y(c,"click",function(a){a.index=parseInt(N(a).getAttribute("data-index"));C(a)});f.push(c);t.appendChild(c)});c(f.length-1);return this}function c(a){var b=f[A];b&&q(b).remove("capture_primary").append("capture_secondary");A=a;(b=f[A])&&q(b).remove("capture_secondary").append("capture_primary");
return this}function e(){janrain.capture.ui.modal.close();return this}var h,i,f,g,n,M,t,C,A;h="Notice";i="This is a notice.";A=0;(function(){g=document.createElement("div");var a=document.createElement("div"),b=document.createElement("h1"),c=document.createElement("h2"),e=document.createElement("div");a.className="capture_header";b.className="capture_dialog_title";c.className="capture_dialog_message";e.className="capture_footer";db(b,h);db(c,i);a.appendChild(b);g.appendChild(a);g.appendChild(c);g.appendChild(e);
n=b;M=c;t=e;return this})();b("OK");a(e);return{open:function(){janrain.capture.ui.renderScreen("janrainDialog");var a=document.getElementById("captureDialogBuiltIn");a.innerHTML="";a.appendChild(g);return this},close:e,setTitle:function(a){h=a;db(n,h);return this},setMessage:function(a){i=a;db(M,i);return this},setPrimaryIndex:c,setButtons:b,setCallback:a}}function Xd(){function a(){C=(new Date).getTime()-h;if(C<e){var a=Math.round(b()*q+g);i.style[M]=a+"px"}else clearInterval(t),i.style[M]=n+"px",
N()}function b(){if("flat"==A)return C*(1/e);if("sinusoidal"==A)return Math.abs(Math.sin(C*(Math.PI/(2*e))))}function c(a){return{x:function(){var b=a.event.clientX-He(a.boundary).x,b=b<this.boundary_x()?b:this.boundary_x();return 0<b?b:0},boundary_x:function(){var b=a.boundary.getBoundingClientRect();return b.width||b.right-b.left}}}var e="1000",h,i,f=document,g,n,M="left",q,t,C,A="flat",N,K;return{setAcceleration:function(a){A=a;return this},setCallback:function(a){N=a;return this},setDuration:function(a){e=
a;return this},setDirection:function(a){"horizontal"===a&&(M="left");"vertical"===a&&(M="top");return this},setElement:function(a){i=a;return this},setElementBoundary:function(a){f=a;return this},startPosition:function(a){g=a;return this},endPosition:function(a){n=a;return this},animate:function(){q=n-g;h=(new Date).getTime();t=setInterval(a,10);return this},drag:function(a){var b=this;this.moveHandler=function(a){var b=c({event:a.targetTouches&&a.targetTouches.length?a.targetTouches[0]:a,boundary:f}).x();
i.style.left=b+"px";Nc(a);S(a);K&&clearTimeout(K);K=setTimeout(function(){N({pos_x:b})},500)};this.upHandler=function(a){b.unbindDragHandlers();Nc(a);S(a)};y(document,Cc,this.moveHandler);y(document,id,this.upHandler);Nc(a);S(a)},unbindDragHandlers:function(){zb(document,id,this.upHandler);zb(document,Cc,this.moveHandler);return this}}}function He(a){var b=curtop=0;if(a.offsetParent){do b+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent);return{x:b,y:curtop}}}function W(){return new Cb}function Cb(){this.eventHandlers=
[];this.firedEvents=[];this.fireCount=0}function kf(a,b){a.addHandler(b,!0);if(a.permaArgs)for(var c=0,e=a.permaArgs.length;c<e;++c)b(a.permaArgs[c])}function Oc(){F(janrain.events,function(a,b){b.eventName=a})}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var e=0;0<arguments.length&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&Infinity!=e&&-Infinity!=e&&(e=(0<e||-1)*Math.floor(Math.abs(e))));if(e>=c)return-1;
for(e=0<=e?e:Math.max(c-Math.abs(e),0);e<c;e++)if(e in b&&b[e]===a)return e;return-1});Array.prototype.map||(Array.prototype.map=function(a,b){if(null===this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var h=Array(e),i=0;i<e;i++)i in c&&(h[i]=a.call(b,c[i],i,c));return h});Array.prototype.filter||(Array.prototype.filter=function(a,b){if(null==this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!=typeof a)throw new TypeError;
for(var h=[],i=0;i<e;i++)if(i in c){var f=c[i];a.call(b,f,i,c)&&h.push(f)}return h});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var K;K||(K={});(function(){function a(a){return 10>a?"0"+a:a}function b(a){h.lastIndex=0;return h.test(a)?'"'+a.replace(h,function(a){var b=g[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,e){var h,g,q,t,y=i,J,D=e[a];D&&"object"===typeof D&&"function"===
typeof D.toJSON&&(D=D.toJSON(a));"function"===typeof n&&(D=n.call(e,a,D));switch(typeof D){case "string":return b(D);case "number":return isFinite(D)?""+D:"null";case "boolean":case "null":return""+D;case "object":if(!D)return"null";i+=f;J=[];if("[object Array]"===Object.prototype.toString.apply(D)){t=D.length;for(h=0;h<t;h+=1)J[h]=c(h,D)||"null";q=0===J.length?"[]":i?"[\n"+i+J.join(",\n"+i)+"\n"+y+"]":"["+J.join(",")+"]";i=y;return q}if(n&&"object"===typeof n){t=n.length;for(h=0;h<t;h+=1)"string"===
typeof n[h]&&(g=n[h],(q=c(g,D))&&J.push(b(g)+(i?": ":":")+q))}else for(g in D)Object.prototype.hasOwnProperty.call(D,g)&&(q=c(g,D))&&J.push(b(g)+(i?": ":":")+q);q=0===J.length?"{}":i?"{\n"+i+J.join(",\n"+i)+"\n"+y+"}":"{"+J.join(",")+"}";i=y;return q}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+
"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,f,g={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;"function"!==typeof K.stringify&&(K.stringify=function(a,
b,e){var h;f=i="";if("number"===typeof e)for(h=0;h<e;h+=1)f+=" ";else"string"===typeof e&&(f=e);if((n=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return c("",{"":a})});"function"!==typeof K.parse&&(K.parse=function(a,b){function c(a,e){var h,i,f=a[e];if(f&&"object"===typeof f)for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&(i=c(f,h),void 0!==i?f[h]=i:delete f[h]);return b.call(a,e,f)}var h,a=""+a;e.lastIndex=0;e.test(a)&&(a=a.replace(e,
function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return h=eval("("+a+")"),"function"===typeof b?c({"":h},""):h;throw new SyntaxError("JSON.parse");})})();var n;(function(){function a(a){return function(b){if("boolean"!==typeof b)throw Error("argument must be true or false");janrain.settings.debug.tagFilter[a]=
b;window.localStorage&&(localStorage.janrainDebugTagFilter=K.stringify(janrain.settings.debug.tagFilter))}}janrain.settings.debug=janrain.settings.debug||{};var b={enabled:!1,logLevel:"log",logEvents:!1,tagFilter:{untagged:!0}};if(window.localStorage&&("true"===localStorage.janrainDebugEnabled&&(janrain.settings.debug.enabled=!0),localStorage.janrainDebugLogLevel&&(janrain.settings.debug.logLevel=localStorage.janrainDebugLogLevel),localStorage.janrainDebugTagFilter))try{janrain.settings.debug.tagFilter=
K.parse(localStorage.janrainDebugTagFilter)}catch(c){}xa(b,janrain.settings.debug);janrain.settings.debug=b;var e=function(){return function(a){if(!a||1>a.length)a="";var b=Error(a),a="Error: "+a+" at:\n";return"string"===typeof b.stack?0===b.stack.indexOf("Error:")?b.stack:a+b.stack:"[stack trace unavailable]"}}();n=function(){function a(b){var c=b.level>=g[janrain.settings.debug.logLevel]&&janrain.settings.debug.tagFilter[b.tag];if(window.console&&c){c="#"+b.id+" "+b.message;"untagged"!==b.tag&&
(c="["+b.tag+"] "+c);try{console[b.type](c)}catch(e){console[b.type](c)}}}function b(i,q){return function(){var b,t;1===arguments.length?(b="untagged",t=arguments[0]):2===arguments.length?(b=arguments[0],t=arguments[1]):n.forceError("debug logging functions must be called with exactly 1 or 2 arguments");if(janrain.settings.debug.enabled||q)f++,t={stack:e(t),level:g[i],tag:b,id:f,type:i,date:new Date,message:t},c.push(t),a(t)}}var c=[],f=0,g={};G(["log","info","warn","error"],function(a,b){g[a]=b});
return{log:b("log"),info:b("info"),warn:b("warn"),error:b("error"),forceWarn:b("warn",!0),forceError:b("error",!0),logEvents:function(){for(var a in janrain.events)"function"===typeof janrain.events[a].addHandler&&janrain.events[a].addHandler(function(a){return function(b){n.log(a+": "+b)}}(a))},trace:function(a){var b=c[a-1];b?console.log(b.stack):console.error("No such log entry #"+a)},dump:function(){G(c,a)}}}();janrain.debug={dump:n.dump,trace:n.trace,enable:function(){window.localStorage&&(localStorage.janrainDebugEnabled=
"true")},disable:function(){window.localStorage&&(localStorage.janrainDebugEnabled="false")},$__UNSUPPORTED_MODULE__$:"This module is not provided for customer use, but is intended only for debugging purposes."};G(["jtl","event","untagged"],function(b){janrain.debug["show"+(b.charAt(0).toUpperCase()+b.substring(1))]=a(b)})})();var lf=window.innerWidth?window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?
document.documentElement.clientWidth:0;ib=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0;jb=lf;var Fc=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&window.localStorage.setItem,od=[],kd=!1,ea="CSS1Compat"!==document.compatMode,Ob=!1,sa=!1,f=[],Pb="ccadba4";document.createElement("input");var Pc=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
ud=null!==Pc?Pc[0]:!1,gb="number"===typeof window.orientation||null!==Pc,Wd="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),Ce="January,February,March,April,May,June,July,August,September,October,November,December".split(","),mf=[16,20,30,32,48,50,64],Ie=[{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},
{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},
{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"}],nf=[{text:"AB",value:"AB"},{text:"BC",value:"BC"},
{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}];Fa=13;te=38;ve=40;se=37;ue=39;re=9;Nd=27;var Qc="ontouchstart"in window;qe=Qc?"touchstart":"mousedown";id=Qc?"touchend":"mouseup";Cc=Qc?"touchmove":"mousemove";janrain.settings&&janrain.settings.storageServer&&Dc("xDomainLocalStorageJanrain",janrain.settings.storageServer,
function(){y(document.getElementById("xDomainLocalStorageJanrain"),"load",function(){kd=!0})});ta.possible="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,0,1,2,3,4,5,6,7,8,9".split(",");var ka=navigator.userAgent,g=Zb(),Rc=document.documentMode,Jc=/Gecko\//.test(ka),Kc=/AppleWebKit\//.test(ka);/Chrome\//.test(ka);var hf=/CriOS\//.test(ka),Yd=Gc(),of=Hc(),pf=function(a){var a=a||ka,b=a.indexOf("OS "),c=0;Hc(a)&&-1<b&&(c=Number(a.substr(b+3).split(" ")[0].split("_")[0]));return c}(),gf=of&&6===
pf&&Yd,ef=function(a){a=a||ka;return/android/i.test(a)&&/linux/i.test(a)&&!/chrome/i.test(a)&&!/opera/i.test(a)&&!/firefox/i.test(a)}(),I=function(){var a=function(a){for(var b=[],h=0;h<a.length;h++)b.push(a[h]);return b},b={};janrain.settings&&janrain.settings.permissions&&(b.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(b.share=a(janrain.settings.share.permissions));return function(a,e){e=e||"login";return!b[e]?!1:0<=b[e].indexOf(a)}}();
Bb.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
X.isCloneable=function(a){return a&&(eb(a)||t(a))};var Je=function(){var a=document.createElement("div");return function(b){b&&"string"===typeof b&&(b=b.replace(/<script[^>]*>([\S\s]*?)<\/script>/gmi,""),b=b.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gmi,""),a.innerHTML=b,b=a.textContent||a.innerText,a.innerHTML="");return b}}(),$=function(a,b,c){$=document.getElementsByClassName?function(a,b,c){for(var a=(b||document).getElementsByClassName(a),c=c?RegExp("\\b"+c+"\\b","i"):null,b=[],f,g=0,n=a.length;g<
n;g+=1)f=a[g],(!c||c.test(f.nodeName))&&b.push(f);return b}:function(a,b,c){var c=c||"*",b=b||document,f=a.split(" "),a=[],b="*"===c&&b.all?b.all:b.getElementsByTagName(c),c=[],g;g=0;for(var n=f.length;g<n;g+=1)a.push(RegExp("(^|\\s)"+f[g]+"(\\s|$)"));for(var n=0,q=b.length;n<q;n+=1){f=b[n];g=!1;for(var t=0,y=a.length;t<y&&!(g=a[t].test(f.className),!g);t+=1);g&&c.push(f)}return c};return $(a,b,c)},Ke=function(){return!1};n.info("Debugging mode is on. Run: \nlocalStorage.janrainDebugEnabled = false; \nin the console to turn it off.");
window.localStorage&&"true"===localStorage.janrainLocalWidgetCodeEnabled&&n.forceWarn("Local code mode is on. Run: \nlocalStorage.janrainLocalWidgetCodeEnabled = false; \nin the console to turn it off.");g&&(n.info("[ Internet Explorer ]\nVersion       : "+g+"\nDocument Mode : "+Rc),g!==Rc&&n.warn("IE version and document mode do not match! This could cause issues."));30<function(){var a=document.getElementsByTagName("style"),b=document.getElementsByTagName("link"),c=a.length;G(b,function(a){"stylesheet"===
a.rel&&c++});return c}()&&n.warn("The page has more than 30 stylsheets. IE 8 and 9 cannot load more than 32 stylesheets.");window.top!==window.self&&n.warn("The widget might be running inside a frame. Watch out for cross origin issues.");janrain.settings.custom&&n.warn("janrain.settings.custom is true. Customer must provide their own UI.");setTimeout(function(){janrain.ready||n.warn("janrain.ready is still not true after waiting for 10 seconds. The widget will not load until this is true. Check your widget loading code block.")},
1E4);for(var Ka=function(){function a(){if("undefined"===typeof window.orientation)return!1;var a;e(document.body,A);C=n().content;q();t();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(a="resize");"object"===typeof window.onorientationchange&&(a="orientationchange");a&&(window.addEventListener(a,function(){D(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:0},{height:window.innerHeight,width:window.innerWidth});g()},
!1),setTimeout(g,30),window.addEventListener("beforeunload",function(){window.removeEventListener(a,g,!1)},!1));H.addHandler(function(){b({height:window.innerHeight,width:window.innerWidth},0)},!0);S.addHandler(function(a){ib=a.height;jb=a.width},!0);window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,g,!1)},!1)}function b(a,c){var e=window.innerHeight,f=window.innerWidth,g=!0,h=!0;e!=a.height&&(g=!1);f!=a.width&&(h=!1);g&&h?20>c?setTimeout(function(){b({height:e,
width:f},++c)},100):S.fire({height:e,width:f}):setTimeout(function(){b({height:e,width:f},0)},100)}function c(){setTimeout(function(){y(C)},20);e(A,document.body)}function e(a,b){for(var c=0;c<a.style.length;c++){var e=a.style[c];b.style.setProperty(e,a.style.getPropertyValue(e),a.style.getPropertyPriority(e))}}function f(){var a;a=(0===window.orientation||180===window.orientation)&&jb>ib||(90===window.orientation||-90===window.orientation)&&ib>jb?!1:!0;var b="landscape";if(a&&(0===window.orientation||
180===window.orientation))b="portrait";if(!a&&(90===window.orientation||-90===window.orientation))b="portrait";return b}function g(){var a=f();I||y("width=device-width, initial-scale=1, maximum-scale=1");H.fire({orientation:a})}function n(){var a=document.getElementsByTagName("meta"),b;for(b in a)if("viewport"===a[b].name)return a[b];return!1}function q(){if("undefined"===typeof document.getElementsByTagName||n())return!1;var a=document.getElementsByTagName("head")[0],b=document.createElement("meta");
b.setAttribute("name","viewport");a.appendChild(b);return!0}function t(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name","HandheldFriendly");a.content="true"}function y(a){var b=n();if(!b||b.content==a)return!1;if("undefined"===typeof a){var c=n();document.getElementsByTagName("head")[0].removeChild(c)}b.content=a;return!0}var C,A=document.createElement("div"),N=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
K=null!==N?N[0]:!1,H=W(),S=W(),I=K?K.match(/android|\Wsilk\W/):!1,D=function(){var a=window.orientation,b={height:screen?screen.height:0,width:screen?screen.width:0},c={height:window.innerHeight,width:window.innerWidth},e=!1;return function(f,g,h){var i=!1,n=function(a,b){return a.height>=a.width&&b.height>=b.width||a.width>a.height&&b.width>b.height?!0:!1},p=a===f,q=n(g,b),t=n(h,c);if(!p&&(!q||!t))i=!0;!p&&!q&&(e=!0);i&&(e&&!n(g,h)&&(i=h.height,h.height=h.width,h.width=i),ib=h.height,jb=h.width);
a=f;b={height:g.height,width:g.width};c={height:h.height,width:h.width}}}();return{setElement:function(){return this},onOrientationChange:H,onViewportChange:S,getMobileDevice:function(){return K},getOrientation:function(){return f()},activate:function(){a()},deactivate:function(){c()},isAndroid:function(){return I}}}(),pc=function(a){var b;b="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";b=b.replace(/\/$/,"");return b+"/"+a},Sc={openId:{blogger:{identifier:"blogger",
flow:"openid1",width:800,height:600,color:"#FF6600",friendlyName:"Blogger"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,color:"##213368",friendlyName:"LiveJournal"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000",friendlyName:"Netlog"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b",friendlyName:"WordPress"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311",friendlyName:"OpenID"}},
openId2:{aol:{flow:"aol",width:514,height:550,color:"#0FD6FF",friendlyName:"AOL"},flickr:{flow:"flickr",width:500,height:500,color:"#FF0084",friendlyName:"Flickr"},google:{flow:"google",width:500,height:450,color:"#1C69F5",friendlyName:"Google"},hyves:{flow:"hyves",width:800,height:600,color:"#659BC8",friendlyName:"Hyves"},myopenid:{flow:"myopenid",width:800,height:600,color:"#8cc63f",friendlyName:"MyOpenID"},paypal:{flow:"paypal",width:800,height:600,color:"#1A3665",friendlyName:"PayPal"},verisign:{flow:"verisign",
width:945,height:600,color:"#B8004D",friendlyName:"VeriSign"},yahoo:{flow:"yahoo",width:500,height:500,color:"#650065",friendlyName:"Yahoo!",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},medy:{flow:"medy",width:640,height:480,color:"3BA482",friendlyName:"Medy"}},oauth:{facebook:{flow:"facebook",width:640,height:480,color:"#3B5998",friendlyName:"Facebook",shareSettings:{broadcast:{counter:{},
format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",friendlyName:"Myspace",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",friendlyName:"Twitter",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,
urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#006699",friendlyName:"LinkedIn",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}}}},live_id:{flow:"microsoftaccount",width:950,height:550,color:"#3E73B4",friendlyName:"Microsoft Account"},salesforce:{flow:"salesforce",width:800,height:500,
color:"#333333",friendlyName:"Salesforce"},orkut:{flow:"orkut",width:800,height:600,color:"#333",friendlyName:"Orkut"},vzn:{flow:"vzn",width:600,height:450,color:"#333",friendlyName:"VZnet"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333",friendlyName:"Foursquare"},sinaweibo:{flow:"sinaweibo",width:950,height:550,color:"#333",friendlyName:"Sina Weibo"},tencentweibo:{flow:"tencentweibo",width:800,height:650,color:"#93C5EA",friendlyName:"Tencent Weibo",shareSettings:{broadcast:{counter:{},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,url:!0,image:!0,media:!0}}}},qq:{flow:"qq",width:800,height:650,color:"#4BB6EE",friendlyName:"QQ",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,url:!0}}}},tumblr:{flow:"tumblr",width:950,height:550,color:"#333",friendlyName:"Tumblr"},microsoft_live_connect:{flow:"microsoft_live_connect",width:950,height:550,color:"#333",friendlyName:"Microsoft Live Connect"},renren:{flow:"renren",width:950,height:550,
color:"#333",friendlyName:"Renren"},disqus:{flow:"disqus",width:950,height:550,color:"#333",friendlyName:"Disqus"},soundcloud:{flow:"soundcloud",width:950,height:550,color:"#333",friendlyName:"SoundCloud"},vk:{flow:"vk",width:950,height:550,color:"#333",friendlyName:"VK"},amazon:{flow:"amazon",width:950,height:550,color:"#FF9900",friendlyName:"Amazon"},microsoftaccount:{flow:"microsoftaccount",width:950,height:550,color:"#3E73B4",friendlyName:"Microsoft Account"},instagram:{flow:"instagram",width:950,
height:550,color:"#FFFFFF",friendlyName:"Instagram"},googleplus:{flow:"googleplus",width:445,height:665,color:"#D34836",friendlyName:"Google"},mydigipass:{flow:"mydigipass",width:900,height:650,color:"#D34836",friendlyName:"MYDIGIPASS.COM"},odnoklassniki:{flow:"odnoklassniki",width:600,height:500,color:"#000000",friendlyName:"Odnoklassniki"},doccheck:{flow:"doccheck",width:850,height:600,color:"#D34836",friendlyName:"DocCheck"},medikey:{flow:"medikey",width:850,height:650,color:"#D34836",friendlyName:"Medikey"},
paypal_openidconnect:{flow:"paypal_openidconnect",width:600,height:600,color:"#1A3665",friendlyName:"PayPal"},xing:{flow:"xing",width:950,height:550,color:"#006567",friendlyName:"XING",shareSettings:{broadcast:{counter:{max:420,urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},
mixi:{flow:"mixi",width:950,height:550,color:"#333",friendlyName:"Mixi",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,googleplus:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},
features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},doximity:{flow:"doximity",width:640,height:480,color:"#231f20",friendlyName:"Doximity"}},fimnet:{fimnet:{flow:"fimnet",width:514,height:550,color:"#336699",friendlyName:"FiMnet"}},saml2:{samltest:{flow:"saml2",width:514,height:550,color:"#336699",friendlyName:"SAML Test"},lilly:{flow:"saml2",width:910,height:565,color:"#ED1D23",friendlyName:"Lilly"},jnj:{flow:"saml2",width:514,height:550,color:"#336699",friendlyName:"J&J"},
media_id:{flow:"saml2",width:675,height:600,color:"#3D4D8F",friendlyName:"Media ID"}}},Ha={},Tc=["openId","openId2","oauth","fimnet","saml2"];0<Tc.length;){var vd=Tc.pop(),Uc;for(Uc in Sc[vd])Ha[Uc]=Sc[vd][Uc]}var Zd=[],H=function(){var a=[];return{log:function(b){var c={};c.id=a.length+1;c.message=b;a.push(c);return this},show:function(){if(0!=a.length){for(var b in a)if("undefined"!==typeof a[b].id){var c=a[b];"object"===typeof console&&("function"===typeof console.error?console.error("WARNING ID:"+
c.id+" MESSAGE: "+c.message):"function"===typeof console.log&&console.log("WARNING ID:"+c.id+" MESSAGE: "+c.message))}a=[]}}}}();Cb.prototype.addHandler=function(a,b){var b=b||!1,c=this.eventName?this.eventName:"???";0<this.fireCount&&n.warn("Adding handler for event "+c+" but it has already been fired "+this.fireCount+" time(s).");"???"!==c&&0<Hb.fireCount&&!1===b&&n.warn("Adding handler for event "+c+" but janrain.capture.ui.start() has already been called.");this.eventHandlers.push(a);return this.eventHandlers.length-
1};Cb.prototype.removeHandler=function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};Cb.prototype.fire=function(a){var b=this;this.fireCount++;this.eventName&&n.log("event",this.eventName);G(this.eventHandlers,function(c){try{"function"===typeof c&&c(a)}catch(e){setTimeout(function(){n.forceError("Error in event handler for '"+b.eventName+"'");throw e;},0)}});a&&!0===a.save&&(delete a.save,this.firedEvents.push({event:this,args:a}))};"undefined"===typeof janrain.events&&(janrain.events=
{});Wb=void 0;Gb=void 0;Hb=void 0;Gb||(Gb=W());Wb||(Wb=W());Hb||(Hb=W());janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=W());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=W());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=W());janrain.events.onProviderLoginError||(janrain.events.onProviderLoginError=W());janrain.events.onProviderLoginSuccess||(janrain.events.onProviderLoginSuccess=W());janrain.events.onProviderLoginToken||
(janrain.events.onProviderLoginToken=W());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=W());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=W());(function(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var a="onAuthWidgetLoad,onAuthWidgetContentPlaced,onCustomizationChange,onProviderLoginComplete,onProviderLoginCancel,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),
c=0;c<a.length;c++)if("object"!==typeof janrain.events[a[c]])return!1;return!0}pa(function(){return a()?(janrain.events.onAuthWidgetLoad.fire(),!0):!1}).setDelay(5).setMaxAttempts(Infinity).errorEvery(2E3,"Auth widget loaded poll failing. Is the auth widget loading?").start()})();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureRegistrationStart,onCaptureLoginStart,onCaptureLoginSuccess,onCaptureProfileSaveSuccess,onCaptureProfileSaveFailed,onCaptureFieldsChanged,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFederateRefreshedToken,onCaptureLoginFailed,onCaptureRegistrationSuccess,onCaptureRegistrationFailed,onCaptureEmailVerificationSuccess,onCaptureEmailVerificationFailed,onCaptureForgotPasswordCodeSuccess,onCaptureForgotPasswordCodeFailed,onCaptureSaveSuccess,onCaptureSaveFailed,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureServerValidationFailed,onCaptureFormError,onCaptureProfileCookieSet,onCaptureExpiredToken,onCaptureInvalidToken,onCaptureTransactionTimeout,onCaptureCustomEvent,onCaptureProfileLink,onCaptureEmailSent,onCaptureProfileUnlink,onCapturePhotoUploadSuccess,onCaptureBackplaneReady,onCaptureBackplaneInitFailed,onCaptureAutoSaveUpdate,onCaptureControlSuccess,onCaptureControlFailed,onModalClose,onModalOpen,onCaptureAccountReactivateSuccess,onCaptureAccountReactivateFailed,onCaptureAccountDeactivateSuccess,onCaptureAccountDeactivateFailed,onCaptureLinkAccountError,onCaptureError,onCaptureSubscriptionUpdate,onCaptureRegistrationSuccessNoLogin,onCapturePostLoginScreen,onCapturePluralItemEdit,onCapturePluralItemCreate,onCapturePluralItemDelete,onCapturePluralItemSave".split(",");
for(var dc=0,qf=janrain.events.captureEvents.length;dc<qf;dc++)"undefined"===typeof janrain.events[janrain.events.captureEvents[dc]]&&(janrain.events[janrain.events.captureEvents[dc]]=new Cb);janrain.events.onCaptureEmailVerficationSuccess=janrain.events.onCaptureEmailVerificationSuccess;janrain.events.onCaptureControlSuccesss=janrain.events.onCaptureControlSuccess;janrain.settings.capture.oldEvents&&(janrain.events.onCaptureStartRegistration=janrain.events.onCaptureRegistrationStart,janrain.events.onCaptureStartLogin=
janrain.events.onCaptureLoginStart,janrain.events.onCaptureSuccessfulLogin=janrain.events.onCaptureLoginSuccess,janrain.events.onCaptureSuccessfulProfileSave=janrain.events.onCaptureProfileSaveSuccess,janrain.events.onCaptureFailedProfileSave=janrain.events.onCaptureProfileSaveFailed,janrain.events.onCaptureFailedLogin=janrain.events.onCaptureLoginFailed,janrain.events.onCaptureSuccessfulRegistration=janrain.events.onCaptureRegistrationSuccess,janrain.events.onCaptureFailedRegistration=janrain.events.onCaptureRegistrationFailed,
janrain.events.onCaptureSuccessfulEmailVerification=janrain.events.onCaptureEmailVerificationSuccess,janrain.events.onCaptureFailedEmailVerification=janrain.events.onCaptureEmailVerificationFailed,janrain.events.onCaptureSuccessfulSave=janrain.events.onCaptureSaveSuccess,janrain.events.onCaptureFailedSave=janrain.events.onCaptureSaveFailed,janrain.events.onCaptureFailedServerValidation=janrain.events.onCaptureServerValidationFailed);janrain.federateJSLoaded=!1;janrain.settings.capture.federate&&nd(janrain.settings.capture.ssoFileUrl||
(janrain.settings.enforceSecureCloudfront?"https://ssl-cdn.janrainsso.com":"https://d1v9u0bgi1uimx.cloudfront.net")+"/sso.js",function(){janrain.federateJSLoaded=!0}).setTimeoutLimit(1E4).setTimeoutCallback(function(){janrain.settings.capture.federate=!1}).load();(function(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var a=0,c=janrain.events.captureEvents.length;a<c;a++)if("object"!==typeof janrain.events[janrain.events.captureEvents[a]])return!1;
return janrain.settings.capture.federate&&!janrain.federateJSLoaded||!janrain.ready?!1:!0}pa(function(){return a()?(G(janrain.settings.capture.beforeJanrainCaptureWidgetOnLoad||[],Lc),"function"===typeof janrainCaptureWidgetOnLoad&&janrainCaptureWidgetOnLoad(),!0):!1}).setDelay(5).setMaxAttempts(Infinity).errorEvery(2E3,"Capture widget loaded poll failing. Is the capture widget loading?").start()})();Oc();var sf=new function(){function a(){function a(){return{twoColumn:{actionText:"Sign in using your account with",
providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function b(){var a;Ia&&(eb=j());o=h();nb=z();L=document.createElement("div");L.className="janrainContent";L.style.width=Q+"px";L.style.height=i()+"px";L.style.paddingLeft=v+"px";L.style.paddingRight=v+"px";L.style.boxSizing="content-box";40===Za&&(L.style.paddingTop=v-1+"px");sa||(L.style.backgroundColor=ma);sa||(L.style.border=Ma?"1px solid "+ia:"1px solid "+ma);
L=qa(L,U);sa||(L.style.overflow="hidden");L.style.position=Ma?"relative":"absolute";Ga=C();2==o||0==o?(Ta=(new q).setSide("right").create(),Ua=(new q).setSide("left").create()):(Ta=(new q).setSide("top").create(),Ua=(new q).setSide("bottom").create());a=A();" "!==e()&&a.appendChild(nb);if(sa){var k=N("blank");k.style.display="none";a.appendChild(k)}a.appendChild(Ga);!sa&&Ta&&Ua&&(a.appendChild(Ta),a.appendChild(Ua));0<o&&Ia&&a.appendChild(eb);L.appendChild(a);I("customizable_auth_widget_styling")||
c(L);Ob||H.show();setTimeout(function(){Gb.fire()},0)}function c(a){function b(a){var c="string"===typeof a.getAttribute("style")?a.getAttribute("style"):null;c&&(c.cssText&&(c=c.cssText),a.style.setAttribute?a.style.setAttribute("cssText",c.replace(/(((?!!important).)+?);/g,"$1 !important;")):a.setAttribute("style",c.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var e=a.getElementsByTagName("*"),k=0,f=e.length;k<f;k++)"janrainProviderPages"===e[k].id||"janrainSlideControl"===e[k].className||
"janrainSlideControl"===e[k].parentNode.className||b(e[k]);b(a)}function e(){if(ca&&(ca==a().twoColumn.actionText||ca==a().oneColumn.actionText||ca==a().oneRow.actionText))Da=!1;return Da&&ca?ca:f.translate.HEADER?f.translate.HEADER:"two column"===u?a().twoColumn.actionText:"one column"===u?a().oneColumn.actionText:"one row"===u?a().oneRow.actionText:ca}function h(){var a=u;if("default"==a||"two column"==a)return 2;if("one column"==a)return 1;if("one row"==a)return 0}function i(){var a=" "===ca?0:
$a+v,b=Ia&&"one row"!==u?Oa+v:0;return p()+a+b}function n(){var a=parseInt(Ga.style.left),b=parseInt(Ga.style.top),c;1==o?parseInt(Ga.style.height):parseInt(Ga.style.width);2==o&&(c=(Q-3*v-(2==o?10:0))/o);if("one column"===u){if(" "===ca&&(b+=11,0<b||-9<=b))return 0;if(9>b)return 1;if(0<b||b>=-($a-(v+1)))return 0}0==o&&(c=Q-100);if(0>a&&a<-c)return 1;if(0<a||a>=-v)return 0}function p(){if("two column"===u)var a=ja/2;"one column"===u&&(a=ja);"one row"===u&&(a=1);var b="one row"===u?0:2*a,c="one column"===
u?3*v:0;if(7===g||6===g||g&&ea){if("two column"===u&&(c=v,7===g||6===g))c=2*v;if("one column"===u&&(c=3*v,(7===g||6===g)&&!ea))c+=v;if("one row"===u&&(7===g||6===g))c=v}"one column"===u&&hb<=ja&&(c=g&&ea?c+2*v:c-2*v);return T*a+v*(a+1)+b+c}function q(){function a(){var b;i="over";var mb=n();if(0==mb&&"left"===k||0==mb&&"top"===k||1==mb&&"right"===k||1==mb&&"bottom"===k)return this.style.cursor="default",j.onclick="",!1;var f=this;setTimeout(function(){if(1===o){if("over"!==i)return!1;g&&(e.style.display=
"block");h.style.display="block";j.onclick=c;f.style.cursor="pointer";var a=document.getElementById("janrainProviderPages");b="top"==k||"bottom"==k?parseInt(a.style.top):parseInt(a.style.left);var mb="right"===k||"bottom"===k?b-Wa:b+Wa;"top"===k||"bottom"===k?a.style.top=mb+"px":a.style.left=mb+"px";o=2}},g?50:100)}function b(){var a;i="out";var c=n();if(1==c&&"right"===k||0==c&&"left"===k||0==c&&"top"===k||1==c&&"bottom"===k)return!1;setTimeout(function(){if(2===o){if("out"!==i)return!1;g&&(e.style.display=
"none");h.style.display="none";var b=document.getElementById("janrainProviderPages");a="top"==k||"bottom"==k?parseInt(b.style.top):parseInt(b.style.left);var c="right"===k||"bottom"===k?a+Wa:a-Wa;"top"===k||"bottom"===k?b.style.top=c+"px":b.style.left=c+"px";o=1}},g?200:400)}function c(){h.style.display="none";j.style.cursor="default";t(k,function(a){w(a);o=1})}var e,k,f,h,B={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},i="",o=1,j;return{setSide:function(a){k=a;return this},
create:function(){var g;if(hb<=ja)g=!1;else{g=document.createElement("div");g.setAttribute("id","janrainShim_"+k);g.style.background="black";"top"===k||"bottom"===k?(g.style.height="19px",g.style.width="100%"):(g.style.height="100%",g.style.width="17px");ra?(g.style.filter="alpha(opacity=100)",g.style.opacity=100):(g.style.filter="alpha(opacity=0)",g.style.opacity=0);g.style.position="absolute";g.style.zindex="99";if("top"===k||"bottom"===k)g.style.left="0";g.style[k]=v+"px";g.style.top="one column"!==
u?v+1+"px":"top"===k?"10px":"0px";g.style.display="none";e=g;g=document.createElement("div");g.style.backgroundColor=ra?"green":ma;g.className="janrainSlideControllerMask";g.style.position="absolute";"one column"!==u&&(g.style.width=v+"px",g.style.height="100%",g.style.top="0px",g.style[k]="0px",g.style.borderWidth="1px","right"===k&&(!Ia||"one row"===u)&&qa(g,null,0,0,U,0),"left"===k&&(!Ia||"one row"===u)&&qa(g,null,0,0,0,U),"right"===k&&" "===ca&&qa(g,null,0,U,U,0),"left"===k&&" "===ca&&qa(g,null,
U,0,0,U));"one column"===u&&(g.style.height=v+"px",g.style.fontSize="0px",g.style.width="100%",g.style.padding="0px",g.style[k]="0px","top"===k&&" "===ca?qa(g,null,U,U,0,0):"bottom"===k&&!Ia&&qa(g,null,0,0,U,U));"one row"===u&&(g.style.height="105.5%");f=g;g=document.createElement("div");g.setAttribute("id","janrainArrow_"+k);g.style.background="url("+pc("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+") no-repeat scroll "+B[k]+" transparent";g.style.height="19px";g.style.width="17px";g.style.position=
"absolute";if("top"===k||"bottom"===k)g.style.left=Q/2+"px";g.style[k]=v+"px";g.style.top="one column"!==u?p()/2-2*v+1+"px":"top"===k?"10px":"0px";g.style.display="none";h=g;g=document.createElement("div");g.className="janrainSlideControl";g.style.backgroundColor=ra?"purple":"transparent";"one column"===u?(g.style.width=Q+4+"px",g.style.left="3px","top"==k?(g.style.height=v+"px",g.style.top=$a+v+"px"," "===ca&&(g.style.left="0px",g.style.top="0px",g.style.width=Q+10+"px")):(g.style.height="20px",
g.style.bottom=(Ia?Oa+v:0)+"px",qa(g,null,0,0,U,U))):(g.style.width="right"===k?"20px":"0px",g.style[k]="0px",g.style.height=p()-(v*(" "===ca)?1:2)+"px",40===Za&&"one row"===u&&"left"===k&&(g.style.left=Ka+"px"),"right"===k&&!Ia&&qa(g,null,0,0,U,0),"left"===k&&!Ia&&qa(g,null,0,0,0,U));g.style.position="absolute";g.style.zIndex="100";g.style.cursor="pointer";g.onmouseover=a;g.onmouseout=b;g.onclick=c;j=g;j.appendChild(f);j.appendChild(e);j.appendChild(h);g=j}return g}}}function t(a,b){var c=document.getElementById("janrainProviderPages"),
e=new Xd;if("top"===a||"bottom"===a){if(" "===ca)var k=-(p()-T),f=0;else k=-(p()-T-$a-v),f=$a+v;50===T&&(k-=20);g&&ea&&(k+=v," "!==ca&&(f+=v));e.setElement(c).setAcceleration("sinusoidal").setDuration(100*ja).startPosition(parseInt(c.style.top)).endPosition("bottom"===a?k:f).setDirection("vertical").setCallback(function(){b(a)}).animate()}else g&&ea?(k=-(Q-2*v-39),"one row"===u&&(k=-(Ka-1*v))):(k=-(Q-32),"one row"===u&&(k=-(Q-24))),e.setElement(c).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(c.style.left)).endPosition("right"==
a?k:v).setDirection("horizontal").setCallback(function(){b(a)}).animate()}function j(){var a=document.createElement("div");a.style.backgroundColor=ra?"aqua":ma;a.style.width=Q+"px";a.style.height=Oa+"px";a.style.position="absolute";a.style.left="0px";a.style.paddingLeft=v+"px";a.style.paddingRight=v+"px";a.style.paddingBottom=v+"px";a.style.bottom="0px";a.style.fontSize="10px";a.style.textAlign="left";a.style.color=ua;a.style.fontFamily=Ra;qa(a,null,0,0,U,U);var b=document.createElement("div"),c=
janrain.settings.translate.POWERED_BY_PREFIX&&"en"!==janrain.settings.language?janrain.settings.translate.POWERED_BY_PREFIX:"Social Login",e=janrain.settings.translate.POWERED_BY_SUFFIX&&"en"!==janrain.settings.language?janrain.settings.translate.POWERED_BY_SUFFIX:" by Janrain";b.style.paddingLeft="1px";var k=document.createElement("a");k.setAttribute("href","http://janrain.com/products/engage/social-login?utm_source="+Bb(janrain.settings.appUrl).host+"&utm_medium=Partner&utm_campaign=attribution");
k.setAttribute("target","_blank");k.appendChild(document.createTextNode(c+e));b.appendChild(k);a.appendChild(b);return a}function z(){var a=document.createElement("div");a.style.backgroundColor=ra?"orange":ma;a.className="janrainHeader";a.style.fontSize=za+"px";a.style.color=ua;a.style.position="relative";a.style.height=$a+"px";40===Za&&(a.style.cssFloat="left");a.style.left=40===Za?"-6px":"-5px";a.style.paddingLeft=v+"px";a.style.paddingRight=v+"px";a.style.paddingTop=v+"px";a.style.paddingBottom=
"0px";a.style.whiteSpace="nowrap";a.style.width=40===Za?"81px":Q+"px";a.style.zIndex="100";40===Za?qa(a,null,U,0,0,U):qa(a,null,U,U,0,0);40===Za&&(a.style.marginTop="-3px");a.style.textAlign="one column"===u?"center":"left";var b=e();Ba=document.createElement("div");Ba.style.paddingLeft="1px";Ba.style.fontFamily=Ra;" "!==b&&Ba.appendChild(document.createTextNode(b));a.appendChild(Ba);return a}function A(){var a=document.createElement("div");a.id="janrainView";return a}function C(){var a,b;function c(e){e=
e.touches[0];"one column"===u?a=e.pageY:b=e.pageX}function e(c){c.preventDefault();c=c.touches[0];c="one column"===u?a-c.pageY:b-c.pageX;if(35<c||-35>c){var k;k="one column"===u?0<c?"bottom":"top":0<c?"right":"left";var g=n(),f=!0;"bottom"===k&&g+1==p&&(f=!1);"top"===k&&0==g&&(f=!1);"left"===k&&0==g&&(f=!1);"right"===k&&g+1==p&&(f=!1);f&&("one column"===u?h.style.top=parseInt(h.style.top)-c+"px":h.style.left=parseInt(h.style.left)-c+"px",t(k,function(){w()}),h.ontouchmove="")}}function k(){h.ontouchmove=
e}var f,h,B,i,p,q=o,j=[];i=D();p=sa?1:Math.ceil(hb/ja);2<p&&H.log("Either reduce the number of providers, or increase the setting for providersPerPage.");h=document.createElement("div");h.setAttribute("id","janrainProviderPages");sa&&(h.className="janrainConfigureMode");h.style.paddingTop=(6===g||7===g)&&g&&ea?2*v:v+"px";if((6===g||7===g)&&!ea)h.style.paddingTop=v+4+"px";1<p&&(h.ontouchstart=c,h.ontouchmove=e,h.ontouchend=k);40===Za&&"one row"===u?h.style.left=Ka+v+"px":g&&ea?"one column"!==u&&(h.style.left=
v+"px"):h.style.left=v+"px";40===Za&&"one row"===u&&(h.style.cssFloat="left");40===Za&&"one row"===u&&(h.style.marginTop="1px");"one column"===u&&(h.style.top=(g&&ea?1:0)+$a+v+"px");"one row"!==u&&" "===ca&&(h.style.top="0px");"one column"===u&&" "===ca&&(h.style.top="0px");f=Q*p;h.style.position=g&&ea&&"one column"===u?"relative":"absolute";"two column"===u&&!(hb<=ja)&&(h.style.width=f+"px");"one row"===u&&(h.style.width=(!0===sa?Q+v:2*Q)+"px");sa&&(q=0);b=0;a=0;for(var y=0;y<p;y++){for(B=0;B<=q;B++)j[B]=
document.createElement("ul"),j[B].className="providers",j[B].id="janrainProviders_"+B,1<q&&(j[B].style.cssFloat="left"),1<q&&(j[B].style.styleFloat="left"),j[B].style.listStyleType="none",j[B].style.marginTop="0px",j[B].style.marginLeft="0px",j[B].style.marginRight="0px",j[B].style.marginBottom="0px",j[B].style.padding="0px";f=document.createElement("div");f.className="janrainPage";f.setAttribute("pageIndex",y);g&&ea&&1===p&&(f.style.width="110%");for(B=0;B<q;B++)f.appendChild(j[B]);if(sa||1>o)for(B=
0;B<=q;B++)f.appendChild(j[B]);for(var rf=i.length%2,z=sa?hb:ja,A=0;A<z&&!(0==i.length);A++){if(2==q)var s=1==rf?j[i.length%2?0:1]:j[i.length%2];if(1==q||0==q)s=j[0];B=i.shift();s.appendChild(B)}h.appendChild(f)}return h}function w(a){0==n()?("left"===a&&(Ua.style.width=v+"px",Ta.style.display="block",Ta.style.width="20px"),"top"===a&&(Ta.style.height=v+"px",Ua.style.display="block",Ua.style.height="20px")):("right"===a&&(Ta.style.width=v+"px",Ua.style.display="block",Ua.style.width="20px"),"bottom"===
a&&(Ua.style.height=v+"px",Ta.style.display="block",Ta.style.height="20px"))}function D(){for(var a=[],b=0;b<hb;b++){var c=N(na[b],b+1);a.push(c)}if("one column"==u){var e=a.slice(0),b=function(){var a=-Infinity,b,c,k=function(){b=e[c].children[0].children[1];return void 0!==b};for(c=0;c<e.length;c++)k()&&(a=Math.max(a,b.offsetWidth));for(c=0;c<e.length;c++)k()&&(b.style.width=a+"px")};janrain.events.onModalOpen?janrain.events.onModalOpen.addHandler(b,!0):janrain.events.onAuthWidgetContentPlaced.addHandler(b,
!0);janrain.events.onCustomizationChange.addHandler(b,!0)}return a}function J(a,b){b.style.cursor="pointer";b.style.whiteSpace="nowrap";b.style.overflow="hidden";b.setAttribute("id","janrain-"+a);b.setAttribute("role","button");"one row"===u?b.style.background="transparent":("gradient"===ta&&md(b,"bottom, #eeeeee, #ffffff"),"gray"===ta&&(b.style.backgroundColor="#eeeeee"),"white"===ta&&(b.style.backgroundColor="#ffffff"));y(b,"mouseover",function(){Zb();"one row"===u?b.style.background="transparent":
(b.style.backgroundColor="#E3E3E3",b.style.backgroundImage="")});y(b,"mouseout",function(){Zb();"one row"===u?b.style.background="transparent":("gradient"===ta&&md(b,"bottom, #eeeeee, #ffffff"),"gray"===ta&&(b.style.backgroundColor="#eeeeee"),"white"===ta&&(b.style.backgroundColor="#ffffff"))});Ob||S(b,a);return b}function N(a,b){function c(b){if(Ha&&Ha[a])return Ha[a][b]}var e=document.createElement("li");e.style.listStyle="none";0==o&&!1===sa&&(e.style.cssFloat="left");0==o&&!1===sa&&(e.style.styleFloat=
"left");e.style.height=g&&ea?T+2:T+"px";if("two column"==u){var k=sa?3*v:hb<=ja?0:3*v;e.style.width=6===g||Zb&&ea?(Q-k-4*v)/o+"px":(Q-k-(2==o?10:0))/o+"px"}e.style.marginTop="0px";if("one column"==u){if(7==g||6==g)e.style.marginTop="-1px";g&&ea?e.style.marginRight="0px":e.style.width=Q-v/2+"px";e.style.marginLeft="0px"}else e.style.marginRight=v+"px";0==o&&(e.style.width=T+"px");e.style.marginBottom=(7===g||6===g||g&&ea?3:v)+"px";e.style.position="relative";0!=o&&(e.style.border="1px solid "+ab);
0!=o&&qa(e,Fa);var k=document.createElement("a"),f=document.createElement("span"),h=document.createElement("span");"undefined"!==typeof b&&(k.tabIndex=b);k.style.fontFamily="Helvetica, lucida grande, Verdana, sans-serif";k.style.fontSize="12px";k.style.lineHeight="14px";k.style.marginLeft="auto";k.style.marginRight="auto";k.href="javascript:void(0);";k.style.textDecoration="none";k.style.display="block";k.style.paddingLeft="5px";k.style.paddingRight="5px";k.style.textAlign="left";h.className="janrain-provider-text-color-"+
a;h.style.fontFamily=Ra;h.style.cursor="pointer";h.style.marginLeft="7px";h.style.textAlign="left";30==T&&(f.className="janrain-provider-icon-24 janrain-provider-icon-"+a,f.style.marginTop="3px",h.style.marginTop="9px",h.style.verticalAlign="top",h.style.display="inline-block");50==T&&(f.className="janrain-provider-icon-32 janrain-provider-icon-"+a,f.style.marginTop="9px",f.style.backgroundColor="transparent",h.style.marginTop="16px",h.style.fontSize="16px",h.style.lineHeight="20px",h.style.verticalAlign=
"top",h.style.display="inline-block");"one column"==u&&(k.style.textAlign="center");"two column"==u&&275>Q&&(h.style.textIndent="-9999px",h.style.fontSize="0",h.style.marginLeft=0,k.style.textAlign="center");2==o&&(30==T&&(k.style.width="auto"),50==T&&(f.style.marginLeft="5px"));if(0==o&&(30==T||50==T)){var f=document.createElement("a"),B=document.createElement("span"),i=document.createTextNode(a);"undefined"!==typeof b&&(f.tabIndex=b);f.className="janrain-provider-icon-32 janrain-provider-icon-bg janrain-provider-icon-"+
a;f.style.marginTop="0px";f.href="javascript:void(0);";f.style.textDecoration="none";f.style.display="block";B.style.display="inline-block";B.style.textIndent="-9999px"}if(c("customSAML")||c("customOpenid")){var n=c("friendlyName")||"Sign In",p=document.createTextNode(n);if(1==o||2==o){if(30==T||50==T)f.style.backgroundImage="url("+c("largeIcon")+")",h.appendChild(p),h.style.color=c("color")||"#000000";if(15<=p.length){var j="undefined"!==typeof p.textContent?"textContent":"nodeValue";p[j]=p[j].substr(0,
15)}}if(0==o&&(30==T||50==T))i=document.createTextNode(n),f.style.backgroundImage="url("+c("largeIcon")+")";g&&10>g&&(f.style.backgroundImage="none",f.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+c("largeIcon")+"')")}else if("blank"!==a&&(1==o||2==o))30==T&&(f.style.backgroundColor="transparent",h.innerHTML=Ha[a].friendlyName),50==T&&(f.style.backgroundColor="transparent",h.innerHTML=Ha[a].friendlyName);6===g&&"one row"!==u&&(n=document.createElement("div"),
n.style.height=f.style.height,n.style.width="90px",n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+f.src+"')",f.style.filter="alpha(opacity=0)",n.appendChild(f),e.appendChild(n));0==o?(e.appendChild(f),f.appendChild(B),B.appendChild(i)):(e.appendChild(k),k.appendChild(f),k.appendChild(h));return J(a,e)}function K(a,b){var c=document.createElement("a"),e=f.translate.SIGN_IN_AS||"Sign in as {name}",e=e.replace("{name}",b),k=document.createElement("span"),
e=document.createTextNode(e),h=document.createElement("span");k.className="janrain-provider-text-color-"+a;c.href="javascript:void(0);";c.style.textDecoration="none";c.style.display="block";if("customopenid"===a){var B=document.createElement("span");document.createElement("span");B.className="janrain-provider-icon-32 janrain-provider-icon-"+a;B.style.backgroundImage="url("+Xa.largeIcon+")";k.style.color=Xa.customOpenIdProviderColor||"#000000";10>g&&(B.style.backgroundImage="none",B.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+
Xa.largeIcon+"')")}else"customsaml"===a?(B=document.createElement("span"),document.createElement("span"),B.className="janrain-provider-icon-32 janrain-provider-icon-"+a,B.style.backgroundImage="url("+lb.largeIcon+")",k.style.color=lb.customSAMLProviderColor||"#000000",10>g&&(B.style.backgroundImage="none",B.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+lb.largeIcon+"')")):(B=document.createElement("span"),B.className="janrain-provider-icon-24 janrain-provider-icon-"+
a);h.style.display="inline-block";h.style.verticalAlign="top";h.style.fontFamily=Ra;var n=document.createElement("div"),p=7.5*e.length+30,j=i();n.style.fontSize="16px";n.style.height="100%";n.style.position="relative";if(0==o||120>j)15<=e.length&&(n.style.fontSize="14px",p=7*e.length+30),20<=e.length&&(n.style.fontSize="12px",p=6*e.length+30),24<=e.length&&(n.style.fontSize="10px",p=5*e.length+50),30<=e.length&&(p="undefined"!==typeof e.textContent?"textContent":"nodeValue",e[p]=e[p].substr(0,26)+
"...",p=162);n.style.width=p+"px";if(0==o||116>j)"customopenid"===a?(B=document.createElement("span"),document.createElement("span"),B.className="janrain-provider-icon-24 janrain-provider-icon-"+a,B.style.backgroundImage="url("+Xa.largeIcon+")",k.style.color=Xa.customOpenIdProviderColor||"#000000",g&&10>g&&(B.style.backgroundImage="none",B.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+Xa.largeIcon+"')")):"SAML"===a?(B=document.createElement("span"),
document.createElement("span"),B.className="janrain-provider-icon-24 janrain-provider-icon-"+a,B.style.backgroundImage="url("+lb.largeIcon+")",k.style.color=lb.customSAMLProviderColor||"#000000",g&&10>g&&(B.style.backgroundImage="none",B.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+lb.largeIcon+"')")):(B=document.createElement("span"),B.className="janrain-provider-icon-24 janrain-provider-icon-"+a);30===T&&(h.style.marginTop="9px",h.style.fontSize=
"12px",B.style.marginTop="3px");50===T&&(h.style.marginTop="16px",B.className="janrain-provider-icon-32 janrain-provider-icon-"+a,B.style.marginTop="9px");"one row"===u&&30===T&&(B.style.marginTop="-1px");h.appendChild(k);k.appendChild(e);B.style.marginRight="10px";B.style.verticalAlign="top";c.style.overflow="hidden";c.style.position="relative";c.style.height=("one row"!==u?T:25)+"px";c.style.marginBottom="one row"===u?"-4px":"4px";"one row"===u&&(c.style.top="-4px");c.style.left="0px";g&&ea&&(c.style.marginRight=
"5px");g&&ea&&(c.style.marginLeft="3px");c.style.border="1px solid "+ab;qa(c,Fa);"customopenid"===a&&(c.style.color=Ha[a].color);6===g||7===g||g&&ea?n.style.left="10px":n.style.margin="0 auto";n.appendChild(B);n.appendChild(h);0==o&&(n.style.paddingTop="2px",h.style.marginTop="6px");0==o||116>j?(c.appendChild(n),n.style.width="auto"):(50===T&&parseInt(c.style.height),h.style.cssFloat="none",h.style.styleFloat="none",c.appendChild(B),c.appendChild(h));return J(a,c)}function S(a,b){y(a,"click",function(){M(b)})}
function M(a){var b=Ha[a],c={appUrl:f.appUrl,mobileDevice:ud,language:f.language,popup:pb,tokenUrl:Ke(Sa.linkAccounts)||pd(f.tokenUrl||location.href,Sa)||location.href,facebookPermissions:Pa,forceReauth:Ya,widgetType:"auth",tokenAction:fb,bpChannel:Nb,customOpenid:kb,customOpenidOpxblob:f.customOpenidOpxblob,extParams:f.extParams,scopes:Lb};b.name=a;new sb(b,c,function(){wa||(Rb=setTimeout(function(){Ca(b)},300))})}function R(){var a=document.createElement("div");a.style.position="absolute";a.style.top=
"0px";a.style.left="0px";a.style.width=Q+"px";a.style.zIndex="102";a.style.textAlign="center";a.style.padding=v+"px";a.style.backgroundColor=ma;a.style.height=i()-(g&&ea?0:2*v)+"px";qa(a,U);return a}function O(a){var b=document.createElement("a"),c=document.createTextNode(f.translate.USE_ANOTHER_ACCOUNT||"switch accounts");b.setAttribute("class","janrainSwitchAccountLink");b.setAttribute("href","");b.style.fontSize="12px";b.style.fontFamily=Ra;b.style.color=ua;b.onclick=a;b.appendChild(c);return b}
function F(){return"modal"===P?document.getElementById("janrainModal"):"embed"===P?document.getElementById("janrainEngageEmbed"):!1}function G(){var a=parseInt(L.style.width);return a=a+2*v+2}function X(){var a=F();null!==a&&"object"===typeof L&&L.parentNode===a&&a.removeChild(L)}function $(){var a="";"object"===typeof s&&(a=s.getState());return{type:P,width:G(),fontFamily:Ra,fontSize:za,fontColor:ua,backgroundColor:ma,borderColor:ia,borderRadius:U,format:u,providersPerPage:ja,providers:na,buttonBackgroundStyle:ta,
buttonBorderColor:ab,buttonBorderRadius:Fa,actionText:e(),showAttribution:Ia,modalState:a}}function ba(a){u=V("string",["default","two column","one column","one row"],"two column",a);"default"===u&&(u="two column");"one row"==a&&(U=V("number",[0,10],5,U));ka(za)}function aa(a){"two column"===u&&(Q=V("number",[225,600],380,a));"one column"===u&&(Q=V("number",[160,600],200,a));"one row"===u&&(T=30,a=hb<=ja?v*(parseInt(ja)-1):v*(parseInt(ja)+2),40===Za&&(a+=Ka-v),Q=T*ja+a);if(("two column"===u||"one column"===
u)&&!sa)Q=Q-2*v-2;g&&ea&&(Q=Q+2*v+2);"one row"!==u&&(T=380<Q?50:30)}function Z(b){"string"===typeof b&&(Da=!0,ca=V("text",null,ca,b)," "===ca?U=V("number",[0,5],5,U,!0):$a="two column"!==u?a().headerHeight-5:a().headerHeight)}function fa(a){ta=V("string",["gray","white","gradient"],"gradient",a)}function W(a){ab=V("color",null,"#CCCCCC",a)}function ha(a){ma=V("color",null,"#ffffff",a)}function la(a){"undefined"===typeof a&&(a=5);U=" "===ca||!Ia||"one row"===u?V("number",[0,5],5,a,!0):V("number",[0,
10],10,a)}function pa(a){Ia=V("boolean",null,!0,a);i();U=a?V("number",[0,10],5,U,!0):V("number",[0,5],5,U,!0)}function va(a){ia=V("color",null,"#C0C0C0",a)}function ka(a){if("two column"===u)za=V("number",[8,30],Kb,a);else if("one column"===u||"one row"===u)za=V("number",[8,20],Pb,a)}function xa(a){ua=V("color",null,"#333333",a)}function ya(a){if("object"==typeof a){o=h();for(var b=0,c=a.length;b<c;b++)Ha[a[b]]||(H.log(a[b]+" is not a valid provider: removing."),a.splice(b,1),--b,--c);na=a;hb=a.length;
"object"===typeof s&&s.setHeight(i()-2*v).refresh()}}function Aa(a){"two column"===u&&(ja=V("number",[4,6,8],6,a));"one column"===u&&(ja=V("number",[1,6],6,a));"one row"===u&&(ja=gc?hb:V("number",[4,8],6,a),aa(Q))}function Ca(a){var b=document.createTextNode(f.translate&&f.translate.SIGNING_IN?f.translate.SIGNING_IN:"Signing in ..."),c=document.createElement("div");La=R(a.name);c.appendChild(b);c.style.position="absolute";c.style.marginTop="-8px";c.style.top="50%";c.style.textAlign="center";c.style.width=
"100%";La.appendChild(c);L&&L.appendChild(La)}function Ea(a){return!(Ob||bb||-1===na.indexOf(a))}var ra=!1,Q=380,Da=!1,Ra="Helvetica, lucida grande, Verdana, sans-serif",za=0,ua="#666666",ma="#ffffff",ia="#C0C0C0",U=10,L,Ba,u="two column",o,Ma,ja=6,na=["aol","yahoo","openid"],hb=na.length,ab="#CCCCCC",Fa=5,ta="gradient",T=30,$a=a().headerHeight,Za=60,Ka=89,Oa=a().footerHeight,v=5,Wa=10,ca="Sign in using your account with",La,Ga,Ta,Ua,Ia=!0,bb=!1,cb=!1,nb,eb;return{build:b,setFormat:function(b){b&&
ba(b);"two column"!==u&&($a=a().headerHeight-5);"two column"===u&&(ja=a().twoColumn.providersPerPage,$a=a().headerHeight);return this},setActionText:function(a){"string"===typeof a&&Z(a);return this},setFontSize:function(a){a&&ka(a);return this},setFontFamily:function(a){a&&a&&(Ra=a);return this},setFontColor:function(a){a&&xa(a);return this},setButtonBorderColor:function(a){a&&W(a);return this},setButtonBorderRadius:function(a){if("string"==typeof a||"number"==typeof a)Fa=V("number",[0,20],5,a);
return this},setButtonBackgroundStyle:function(a){a&&fa(a);return this},setWidth:function(a){("string"==typeof a||"number"==typeof a)&&aa(a);return this},refresh:function(){X();var a=F();b();var c=gb();c&&!db?Qa("expected_tab",c):(null!==a&&"object"===typeof L&&a.appendChild(L),"object"===typeof s&&s.setHeight(parseInt(L.style.height)+2).refresh());Ob&&"object"===typeof s&&s.setHeight(parseInt(L.style.height)+2).refresh();janrain.events.onCustomizationChange.fire($());return this},remove:function(){X();
return this},setRowHeight:function(a){if(0!==h())return this;a||(a=60);oneRowHeaderHeight=V("number",[40,60,90],60,a);40===oneRowHeaderHeight&&(T=30,Za=40);60===oneRowHeaderHeight&&(T=30);90===oneRowHeaderHeight&&(T=50);return this},setHeight:function(a){"object"==typeof L&&(L.style.height=a+"px");return this},setBackgroundColor:function(a){a&&ha(a);return this},setBorderColor:function(a){a&&va(a);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&la(a);return this},
setProviders:function(a){"object"==typeof a&&ya(a);return this},setProvidersPerPage:function(a){if("string"==typeof a||"number"==typeof a)Aa(a),"object"===typeof s&&s.setHeight(i()).refresh("janrainModal");return this},setShowAttribution:function(a){"boolean"===typeof a&&pa(a);return this},setPreviewMode:function(a){"boolean"===typeof a&&(Ob=a);return this},setProviderFlow:function(a,b){return S(a,b)},triggerFlow:function(a){return M(a)},setNoReturnExperience:function(a){"boolean"===typeof a&&(bb=
a);return this},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&(cb=a);return this},setConfigureMode:function(a){"boolean"===typeof a&&(sa=a,o=h());return this},embed:function(a){if((Ma=a)&&"object"==typeof L)L.style.position="relative";return this},getContentsDiv:function(){return L},getErrorPage:function(a,b){var c=document.createTextNode(b.msg),e=document.createElement("div");e.appendChild(c);e.style.color=ua;e.style.fontSize=za+"px";e.style.width="100%";var k=R(a);k.className=
"janrainAuthErrorPage";k.appendChild(e);k.appendChild(O(function(){L.removeChild(k);L.removeChild(La);Ya=!0;return!1},a));L.appendChild(k);return L},showReturnExperience:Ea,getReturnExperience:function(a,b){if(!Ea(a))return L;var c=K(a,b),e=R(a),k=document.createElement("div"),g=function(){Ya=db=!0;L.removeChild(e);document.getElementById("janrainView").style.visibility="inherit";return!1};k.style.position="relative";k.style.top="50%";30===T&&(k.style.marginTop="-25px");50===T&&(k.style.marginTop=
"-35px");0==o&&(k.style.top="0",k.style.marginTop="0");e.id="janrainAuthReturnExperience";e.appendChild(k);k.appendChild(c);cb||k.appendChild(O(g,a));L.appendChild(e);return L},getWidth:function(){return G()},getActualHeight:function(){return parseInt(L.style.height)+2},getHeight:function(){return i()-2*v},getState:function(){return $()},setState:function(b){if(I("customizable_auth_widget_styling")){var c=b.fontFamily;c&&(Ra=c);ka(b.fontSize);xa(b.fontColor);ha(b.backgroundColor);va(b.borderColor);
"embed"===P&&b.format&&(b.format&&ba(b.format),"two column"!==u&&($a=a().headerHeight-5),"two column"===u&&(ja=a().twoColumn.providersPerPage,$a=a().headerHeight));if("string"==typeof b.providersPerPage||"number"==typeof b.providersPerPage)Aa(b.providersPerPage),"object"===typeof s&&s.setHeight(i()).refresh("janrainModal");fa(b.buttonBackgroundStyle);W(b.buttonBorderColor);Fa=V("number",[0,20],5,b.buttonBorderRadius);Z(b.actionText);pa(b.showAttribution);la(b.borderRadius);"embed"===P&&("string"==
typeof width||"number"==typeof width)&&aa(b.width)}ya(b.providers)},showNotice:function(){Ca()},removeNotice:function(){Jb(La)},removeReturnExperience:function(){var a=document.getElementById("janrainAuthReturnExperience");Jb(a)}}}function b(){var a=document.createElement("div");a.id="fb-root";document.body.insertBefore(a,document.body.firstChild);window.fbAsyncInit=function(){FB.init({appId:janrain.settings.facebookAppId,status:!0,cookie:!1,xfbml:!1,channelUrl:"/channel.html"});FB.getLoginStatus(function(a){var b=
(new C).setName(ub);a.authResponse&&window.janrain&&window.janrain.engage&&window.janrain.engage.signin&&(janrain.engage.signin.facebookAutoLoginCallback=function(a){"ok"===a.stat&&(janrain.events.onProviderLoginToken.fire({engageToken:a.token}),b.setValue("true").create())},ua(f.appUrl+"/signin/oauth_token?provider=facebook&callback=janrain.engage.signin.facebookAutoLoginCallback&token="+a.authResponse.accessToken+"&origin_domain="+window.location.hostname))})};ua("//connect.facebook.net/en_US/all.js")}
function c(){if("object"===typeof j)if("object"===typeof ba){var a=j.getState();a.width=ba.width;ba=a}else ba=j.getState();"object"===typeof j&&j.remove();"object"===typeof s&&s.remove();P="modal";t();"object"===typeof j&&ba&&I("customizable_auth_widget_styling")&&j.setState(ba);"object"===typeof s&&Ga&&I("customizable_auth_widget_styling")&&s.setState(Ga);"object"===typeof s&&s.show();"object"===typeof j&&j.refresh()}function e(){if("object"===typeof j){if("object"===typeof ba){var a=j.getState();
a.borderRadius=ba.borderRadius;a.format=ba.format;a.width=ba.width;ba=a}else ba=j.getState();Ga=ba.modalState;delete Ga.orientation}"object"===typeof j&&j.remove();"object"===typeof s&&s.remove();"object"===typeof s&&(s="");P="embed";p();"object"===typeof j&&ba&&I("customizable_auth_widget_styling")&&j.setState(ba);"object"===typeof j&&j.refresh()}function h(){var a,b;t();b=document.getElementsByTagName("a");var c=RegExp("(\\s|^)"+f.linkClass+"(\\s|$)");for(a in b)c.test(b[a].className)&&(b[a].onclick=
q)}function i(a){var b=parseInt(janrain.settings.fontSize,10);"two column"===yb?a.setFontSize(b||Kb):a.setFontSize(b||Pb)}function p(){var b=gb();j=new a;i(j);j.setBackgroundColor(La).embed(!0).setPreviewMode(Eb).setShowAttribution(Tb).setNoReturnExperience(zc).setNoReturnExperienceSwitchAccountLink(Ac).setFormat(yb).setRowHeight(jb).setFontSize(hc).setFontFamily(Ub).setFontColor(Aa).setActionText(ic).setProviders(Ab).setProvidersPerPage(Vb).setWidth(ib).setBorderColor(tc).setBorderRadius(cc).setButtonBorderColor(Ba).setButtonBorderRadius(vb).setButtonBackgroundStyle(wb).build();
var c=document.getElementById("janrainEngageEmbed");null===c&&(c=document.getElementById("janrainModal"));Ea||(b?(la("welcome_info_name",unescape(R("welcome_info_name"))),Qa("expected_tab",b)):Fa(c,j.getContentsDiv()))}function q(){"object"===typeof s&&s.show();return!1}function t(){var b=xb(rc,ac),c=gb();if("undefined"===typeof b||0>b)b=5;j=new a;i(j);j.setBackgroundColor(La).setPreviewMode(Eb).setShowAttribution(Tb).setNoReturnExperience(zc).setNoReturnExperienceSwitchAccountLink(Ac).setFontSize(hc).setFontFamily(Ub).setFontColor(Aa).setActionText(ic).setProviders(Ab).setProvidersPerPage(Vb).setBorderRadius(b).setButtonBorderColor(Ba).setButtonBorderRadius(vb).setButtonBackgroundStyle(wb).build();
if("object"!==typeof s){s=new td;s.ready=!1;var e=s.addContent;s.addContent=function(a){s.ready=!0;e(a);janrain.events.onModalWidgetReady.fire()}}s.setHeight(j.getActualHeight()).setWidth(j.getWidth()).setPreviewMode(Eb).setBorderColor(bc).setBorder(ac).setBorderOpacity(sc).setBorderRadius(rc);Ea||(c?(la("welcome_info_name",unescape(R("welcome_info_name"))),Qa("expected_tab",c)):s.addContent(j.getContentsDiv()));s.onOrientationChange.addHandler(function(a){"portrait"===a.orientation&&j.setFormat(a.format).setWidth(200).refresh({center:!0});
"landscape"===a.orientation&&j.setHeight(a.height).setWidth(a.width).setFormat(a.format).refresh({center:!0});s.setHeight(j.getActualHeight());s.setWidth(j.getWidth())},!0);s.onShow.addHandler(function(){"object"==typeof j&&s.setWidth(j.getWidth())},!0);s.onBorderWidthChange.addHandler(function(a){"object"===typeof s&&"object"===typeof j&&(j.setBorderRadius(a.radius).refresh(),a=j.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&s.setBorderRadius(a.borderRadius+a.modalState.borderWidth))},
!0);s.onBorderRadiusChange.addHandler(function(a){"object"===typeof j&&(j.setBorderRadius(a.radius).refresh(),a=j.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&s.setBorderRadius(a.borderRadius+a.modalState.borderWidth))},!0)}function A(a,b){if(!I("customizable_auth_widget_styling"))return!1;if("object"===typeof j)return b(a),!0}function N(a){return A(a,function(a){j.setBackgroundColor(a).refresh()})}function S(a){return A(a,function(a){j.setBorderRadius(a).refresh()})}
function F(a){return A(a,function(a){j.setBorderColor(a).refresh()})}function X(a){return"modal"===P?!1:A(a,function(a){j.setWidth(a).refresh({center:!0})})}function $(a){return A(a,function(a){j.setActionText(a).refresh()})}function pa(a){return A(a,function(a){j.setButtonBorderColor(a).refresh()})}function va(a){return A(a,function(a){j.setButtonBorderRadius(a).refresh()})}function D(a){return A(a,function(a){j.setButtonBackgroundStyle(a).refresh()})}function ha(a){return"modal"==P?!1:A(a,function(a){j.setFormat(a).refresh()})}
function ka(a){return A(a,function(a){j.setProvidersPerPage(a).refresh()})}function z(a){return A(a,function(a){j.setFontFamily(a).refresh()})}function ya(a){return A(a,function(a){j.setFontSize(a).refresh()})}function Ca(a){return A(a,function(a){j.setFontColor(a).refresh()})}function R(a){var b;if("single cookie"===Ma){b=C().getCookie("janrain_engage_login_data");if(!b)return;b=K.parse(b);return!b[a]?void 0:a=b[a]}if("default"===Ma)return a=C().getCookie(a),!a?void 0:a}function Da(a,b,c){var e;
if(!a||!b)return!1;c||(c=1);if("single cookie"===Ma)return(oldCookieJSON=C().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),c=K.parse(oldCookieJSON),c[a]=b,e=new C,e.setName("janrain_engage_login_data").setValue(K.stringify(c)).setDomain(window.location.hostname).setExpiration(1826).create(),!0;return"default"===Ma?(e=new C,e.setName(a).setValue(b).setDomain(window.location.hostname).setExpiration(c).create(),!0):!1}function ta(a,b){if("expected_tab"===a&&!b){var c=R("login_tab");c&&
ta("expected_tab",c);return!1}if(!b||"undefined"===b||"expected_tab"!==a&&"expected_user_input"!==a&&"welcome_info_name"!==a)return!1;b="welcome_info_name"===a?escape(b):b;zc?C().setName(a).remove():Da(a,b,1826)}function ra(a,b){var c={};a||(a=bb);b||(b=bb.appUrl);if(g&&3>aa)return c.widget_type=a.widget_type,c.provider=a.provider,c.time=(new Date).getTime(),c=Mc(c),ua(b+"/signin/get_login_info"+c),aa++,!0;"object"===typeof janrain.events.onProviderLoginCancel&&janrain.events.onProviderLoginCancel.fire(a);
"undefined"!==typeof Rb&&clearTimeout(Rb);"undefined"!==typeof j&&j.refresh&&j.refresh();janrain.events.onShareLoginCancel&&"fail"===a.stat&&janrain.events.onShareLoginCancel.fire(a);return!1}function sb(a,b,c){var e=b.appUrl,g=janrain.settings.customSAML&&a.customSAML,h=janrain.settings.customOpenid&&a.customOpenid,e=g||"saml2"==a.flow?e+"/saml2/sso/start":e+("/"+a.flow+"/start"),f=janrain.settings.originUrl||window.location.href;b.mobileDevice&&(f="mobile");var i=b.language||"en",n=b.popup?"xdr":
"xdrsw",p=b.tokenUrl||window.location.href,j={};bb={appUrl:b.appUrl,provider:a.name,widget_type:b.widgetType};j.language_preference=i;j.token_url=p;j.display="popup";j.widget=!0;"object"===typeof b.facebookPermissions&&(j.ext_perm=b.facebookPermissions.toString());g?j.saml_provider=a.identifier:j.openid_identifier=a.identifier;j.origin_url=f;j.provider_name=a.name;j.force_reauth=b.forceReauth;j.xdReceiver=b.appUrl+"/"+n;j.callback="none";j.widget_type=b.widgetType;j.token_action="url";janrain.settings.captureDomain&&
(j.capture_domain=janrain.settings.captureDomain);if("event"===b.tokenAction||"hybrid"===b.tokenAction)j.token_action="event";b.mobileDevice&&"hybrid"===b.tokenAction&&(j.token_action="url");b.bpChannel&&(j.bp_channel=b.bpChannel);b.extParams&&b.extParams[a.name]&&(j.ext_params=b.extParams[a.name]);b.scopes&&"object"===typeof b.scopes[a.name]&&(j.override_scopes=b.scopes[a.name].toString());b.sharingType&&(j.sharing_type=b.sharingType);f=function(b){var c=janrain.settings[b],b=a[b],c="object"===typeof c?
c[a.name]:c;return c!==b?c:b}("customOpenidOpxblob");b.customOpenid&&"string"===typeof f&&(j.opx_blob=f);e+=Mc(j);(function(){janrain.events.onProviderLoginStart.fire({provider:a.name,width:a.width,height:a.height});(function(a,b,c){if(a&&b){var c=c||1826,e=C(),k=window.janrain;k&&k.settings&&"single cookie"===k.settings.storageType?(k=K.parse(C().getCookie("janrain_engage_login_data")||"{}"),k[a]=b,e.setName("janrain_engage_login_data").setValue(K.stringify(k))):e.setName(a).setValue(b);e.setDomain(window.location.hostname).setExpiration(c).create()}})("login_tab",
a.name,1);var f;b.mobileDevice&&"event"!==b.tokenAction||!b.popup?ua(b.appUrl+"/signin/set_login_tab?login_tab="+a.name+"&origin_url="+encodeURIComponent(window.location.href),function(){janrain.settings.customProviderInIFrame&&(h||g)?window.location.href=e:window.top.location.href=e}):(f=new ff(e),f.setWidth(a.width).setHeight(a.height).setCallback(function(){var e={},g="";e.widget_type=b.widgetType;e.provider=a.name||"";e.time=(new Date).getTime();g=Mc(e);"function"===typeof c&&c();ua(b.appUrl+
"/signin/get_login_info"+g);janrain.events.onProviderLoginComplete.fire({provider:a.name})}).show())})()}function la(a,b){if(!b||"undefined"===b||"welcome_info_name"!==a)return!1}function gb(){f.noReturnExperience&&("single cookie"===f.storageType?C().setName("janrain_engage_login_data").setDomain(window.location.hostname).remove():(Yb("login_tab"),Yb("expected_tab")));ma();var a=R("login_tab"),b=R("expected_tab");-1==janrain.settings.providers.indexOf("google")&&("google"==b&&(b="googleplus"),"google"==
a&&(a="googleplus"));return Ka.isAndroid()?a:b}function ma(){var a=R("login_tab"),b=R("expected_tab"),c=R("welcome_info_name");if(!a||!b||!c)_noReturnExperience=!0,Yb("login_tab"),Yb("expected_tab"),Yb("welcome_info_name"),C().setUseLocalStorage(!0).setName("janrainLastAuthMethod").remove()}function Qa(a,b){function c(){janrain.events.onReturnExperienceFound.fire({returnProvider:b,welcomeName:e})}var e=unescape(R("welcome_info_name")),g=function(a){var c=function(){600>a&&setTimeout(function(){g(++a)},
50)};if("object"!==typeof j)return c(),!1;"modal"===P?s.addContent(j.getReturnExperience(b,e)):"embed"===P&&(Fa(document.getElementById("janrainEngageEmbed"),j.getReturnExperience(b,e)),j.showReturnExperience(b)&&(document.getElementById("janrainView").style.visibility="hidden"));"modal"===P&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==a||!b)return!1;"object"===typeof j&&j.removeReturnExperience();Bc?c():janrain.events.onAuthWidgetLoad.addHandler(c,!0);g(0)}function Fa(a,b){a&&(a.innerHTML=
"");janrain.settings.capture&&(a?(a.innerHTML="",a.appendChild(b)):(a=document.createElement("div"),a.id="janrainEngageEmbed",a.style.display="none",document.body.appendChild(a)));a?(a.appendChild(b),janrain.events.onAuthWidgetContentPlaced.fire()):(H.log('Missing container div, please place this div where you wantthe embedded widget to be displayed on your page- <div id="janrainEngageEmbed"></div>.'),H.show());return a}function Mb(a,b,c){c=c?Vd:xa;return Sa=b?c(Sa,a):a}function cb(){function a(b){if(!("customsaml"===
b&&!f.customSAML||"customopenid"===b&&!f.customOpenid)){var c,e;if("customsaml"===b)c="customSAMLProviderId",e=["customSAMLProviderName","customSAMLProviderColor","customSAMLLargeIcon"];else if("customopenid"===b)c="customOpenidProviderId",e="customOpenIdProviderName,customOpenIdProviderColor,customOpenidLargeIcon,customOpenidIdentifier,customOpenidFlow,customOpenidOpxblob".split(",");else{H.log("Bad provider: "+b);H.show();return}var k=typeof f[c];if("undefined"===k||"string"===k){var g=f[c]||b;
f[c]=[g];G(e,function(a){if("object"!==typeof f[a]){var b=f[a];f[a]={};f[a][g]=b}})}}}function b(a,c){var e=fa,k={customopenid:["customOpenidFlow","customOpenidIdentifier"],customsaml:["customSAMLProviderId"]};if(f[{customopenid:"customOpenid",customsaml:"customSAML"}[a]]&&I("customizable_auth_widget_styling")){"customopenid"===a&&(kb=!0);for(var k=k[a],g=0,h=k.length;g<h;g++)if(!f[k[g]])return H.log(e({provider:a,setting:k[g]},"Missing {| setting |}. {| setting |} is required when adding a {| provider |} provider")),
H.show(),!1;var i={customsaml:{providerColor:"customSAMLProviderColor",friendlyName:"customSAMLProviderName",modalHeight:"customSAMLModalHeight",modalWidth:"customSAMLModalWidth",largeIcon:"customSAMLLargeIcon"},customopenid:{providerColor:"customOpenIdProviderColor",friendlyName:"customOpenIdProviderName",modalHeight:"customOpenidModalHeight",modalWidth:"customOpenidModalWidth",customOpenidOpxblob:"customOpenidOpxblob",largeIcon:"customOpenidLargeIcon",flow:"customOpenidFlow",identifier:"customOpenidIdentifier"}},
e=function(b){b=f[i[a][b]];return"object"===typeof b?b[c]:b},k={width:e("modalWidth")||800,height:e("modalHeight")||600,friendlyName:e("friendlyName"),color:e("providerColor"),largeIcon:e("largeIcon"),identifier:e("identifier")};"customopenid"===a?(k.flow=e("flow"),k.customOpenid=!0,k.customOpenidOpxblob=e("customOpenidOpxblob")):"customsaml"===a&&(k.customSAML=!0,k.identifier=c);Ha[c]=k}}f=janrain.settings;if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return++Hb,
0===Hb%2E3&&n.error("Translations are not loading. janrain.settings.translate is undef."),setTimeout(cb,5),!1;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate=f.translate={});!0===f.noProvidersCss&&!0===f.custom||(qc(jd()+"providers.css"),g&&9>=g&&qc(jd()+"providers-ie.css"));if(f.stop)return!0;fb=f.tokenAction?f.tokenAction:fb;if(!f.tokenUrl&&"event"!=fb)return H.log("Missing tokenUrl.  tokenUrl is required."),H.show(),!1;Oa=f.appUrl;P=V("string",["modal","embed"],"embed",
f.type?f.type:P);Ea=f.multi?f.multi:Ea;wa=f.custom?f.custom:wa;Ya=f.forceReauth?f.forceReauth:Ya;Nb=f.bpChannel?f.bpChannel:Nb;Pa=f.facebookPermissions?f.facebookPermissions:Pa;Lb=f.scopes?f.scopes:Lb;tb=!!f.facebookAutoLogin;Ma=f.storageType?V("string",["default","single cookie"],"default",f.storageType):Ma;pb="boolean"===typeof f.popup?f.popup:pb;ud&&"event"!==fb&&(pb=!1);eb=f.returnExperienceTimeout?f.returnExperienceTimeout:eb;Ea&&(setTimeout(function(){var a=gb();if(a)la("welcome_info_name",
unescape(R("welcome_info_name"))),Qa("expected_tab",a),document.getElementById("janrainView").style.visibility="hidden";else if(a=function(){if("modal"===P)s.addContent(j.getContentsDiv());else if("embed"===P){var a=document.getElementById("janrainEngageEmbed");Fa(a,j.getContentsDiv())}"undefined"!==typeof b&&Gb.removeHandler(b)},j)a();else var b=Gb.addHandler(a)},eb),ua(f.appUrl+"/signin/get_cookies"));a("customopenid");a("customsaml");f.customOpenid&&G(f.customOpenidProviderId,function(a){b("customopenid",
a)});f.customSAML&&G(f.customSAMLProviderId,function(a){b("customsaml",a)});ma();if(wa)return!0;fb=f.tokenAction?f.tokenAction:fb;ac=I("customizable_auth_widget_styling")?f.modalBorderWidth:ac;bc=I("customizable_auth_widget_styling")?f.modalBorderColor:bc;rc=I("customizable_auth_widget_styling")?f.modalBorderRadius:rc;sc=I("customizable_auth_widget_styling")?f.modalBorderOpacity:sc;La=I("customizable_auth_widget_styling")?f.backgroundColor:La;cc=I("customizable_auth_widget_styling")?f.borderRadius:
cc;tc=I("customizable_auth_widget_styling")?f.borderColor:tc;yb=f.format;Aa=I("customizable_auth_widget_styling")?f.fontColor:Aa;hc=I("customizable_auth_widget_styling")?f.fontSize:hc;Ub=I("customizable_auth_widget_styling")?f.fontFamily:Ub;ib=I("customizable_auth_widget_styling")?f.width:ib;jb=I("customizable_auth_widget_styling")?f.rowHeight:jb;Vb=f.providersPerPage;gc=I("customizable_auth_widget_styling")?f.providersNotPaged:gc;ic=I("customizable_auth_widget_styling")?f.actionText:ic;Ba=I("customizable_auth_widget_styling")?
f.buttonBorderColor:Ba;vb=I("customizable_auth_widget_styling")?f.buttonBorderRadius:vb;wb=I("customizable_auth_widget_styling")?f.buttonBackgroundStyle:wb;Tb=I("customizable_auth_widget_hide_attribution")?f.showAttribution:Tb;Eb=f.previewMode;zc=f.noReturnExperience;Ac=f.noReturnExperienceSwitchAccountLink;Ab=f.providers;if(f.customOpenid&&I("customizable_auth_widget_styling")){if(!f.customOpenidLargeIcon)return H.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),
H.show(),!1;Xa={largeIcon:f.customOpenidLargeIcon,customOpenIdProviderName:f.customOpenIdProviderName||janrain.settings.translate.SIGN_IN||"Sign in",customOpenIdProviderColor:f.customOpenIdProviderColor}}if(f.customSAML&&I("customizable_auth_widget_styling")){if(!f.customSAMLLargeIcon)return H.log("Missing customSAMLLargeIcon.  customSAMLLargeIcon is required and should be the full path to an image that is 50px x 50px."),H.show(),!1;lb={largeIcon:f.customSAMLLargeIcon,customSAMLProviderName:f.customSAMLProviderName||
janrain.settings.translate.SIGN_IN||"Sign in",customSAMLProviderColor:f.customSAMLProviderColor}}f.previewMode?("modal"===P&&Xb(c),"embed"===P&&Xb(e)):("modal"===P&&Xb(h),"embed"===P&&Xb(p));Yd&&y(window,"unload",function(){})}var Oa,Pa,Lb,tb=!1,ub="janrain_engage_facebook_auto_login",Nb,kb=!1,Ya=!1,fb="url",Sa={},P="embed",Ea=!1,eb=300,Ya=!1,pb=!0,wa=!1,Hb=0,Ma="default",Xa,lb,Ga,s,ac,bc,rc,sc,j,ba,La,cc,tc,ib,jb,yb,Ab=[],gc=!1,Vb,ic,hc,Ub,Aa,Ba,vb,wb,Eb,zc,Ac,Tb,db=!1,Bc=!1,Kb=18,Pb=14;janrain.events.onAuthWidgetLoad||
(janrain.events.onAuthWidgetLoad=W(!0));janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=W());janrain.events.onReturnExperienceFound||(janrain.events.onReturnExperienceFound=W());janrain.events.onAuthWidgetLoad.addHandler(function(){Bc=!0;var a=(new C).getCookie(ub);tb&&!a&&b()},!0);janrain.events.onProviderLoginSuccess.addHandler(function(){var a=document.getElementById("janrainAuthReturnExperience"),b=document.getElementById("janrainView");a&&(a.style.visibility="hidden");b&&
(b.style.visibility="hidden")});janrain.events.onAuthWidgetLoad.addHandler(function(){var a=R("expected_tab"),b=R("welcome_info_name");G(janrain.settings.beforeJanrainWidgetOnLoad||[],Lc);"function"===typeof janrainWidgetOnload?(G(janrain.settings.beforeJanrainWidgetOnLoad||[],Lc),wa?(janrainWidgetOnload(),!Ea&&a&&b&&janrain.events.onReturnExperienceFound.fire({returnProvider:a,welcomeName:unescape(b)})):j?janrainWidgetOnload(j.getState()):janrainWidgetOnload()):n.warn("No such function 'janrainWidgetOnload'. Does 'janrainCaptureWidgetOnLoad' exist?")},
!0);for(var Rb,aa=0,bb,jc="onAuthWidgetContentPlaced,onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginCancel,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),kc=0;kc<jc.length;kc++)"undefined"===typeof janrain.events[jc[kc]]&&(janrain.events[jc[kc]]=new Cb);janrain.events.onProviderLoginError.addHandler(function(a){if(wa)return!0;var b=R("login_tab");if("modal"===P){var c=document.getElementById("janrainModal");
c&&c.appendChild(j.getErrorPage(b,a.err))}"embed"===P&&(c=document.getElementById("janrainEngageEmbed"))&&Fa(c,j.getErrorPage(b,a.err))},!0);cb();return{status:"loaded",logoutFacebook:function(a){if("function"!==typeof a)throw Error("janrain.engage.signin.logoutFacebook takes a callback function as its only parameter.");var b=!1,c=function(e){var g=Bb(e.origin).host,f=Bb(Oa).host;g!==f?n.forceError("Ignoring postMessage due to domain mismatch: ",e.origin+" does not match "+Oa):0===e.data.indexOf("janrainLogoutFacebook:")&&
(g=e.data.indexOf(":")+1,e=e.data.substring(g),e=K.parse(e),"ok"!==e.status&&n.forceError("Failed to log out of Facebook"),b=!0,zb(window,"message",c),a(e))};y(window,"message",c);var e=Oa+"/widget/logout_facebook?facebookAppId="+janrain.settings.facebookAppId+"&url="+encodeURIComponent(window.location.protocol+"//"+window.location.host);Dc("janrainLogoutFacebook",e);setTimeout(function(){b||(zb(window,"message",c),a({status:"fail",message:"Timeout attempting to log out of Facebook"}))},5E3)},appendTokenParams:function(a,
b,c){Mb(a,b,c)},appendTokenParamsCumulative:function(a,b){Mb(a,!0,b)},setBackplaneChannel:function(a){Nb=a},setLoginCookie:function(a,b){ta(a,b)},loginHandler:function(a){var b=fb;a?("ok"===a.stat&&("event"===b||"hybrid"===b||"noRedirect"===b?("undefined"!=typeof storage&&storage.set("janrainEngageAuthenticityToken",a.authenticity_token),"noRedirect"!==b&&ua(a.redirectUrl)):(b=document.createElement("form"),b.action=a.redirectUrl,b.method="POST",janrain.settings.targetTop&&(b.target="_top"),document.body.appendChild(b),
b.submit())),"fail"===a.stat&&(a.err&&160===a.err.code?(janrain.events.onProviderLoginCancel.fire(a),"undefined"!==typeof j&&j.refresh&&j.refresh()):janrain.events.onProviderLoginError.fire(a),"undefined"!==typeof Rb&&clearTimeout(Rb),janrain.events.onShareLoginCancel&&"fail"===a.stat&&janrain.events.onShareLoginCancel.fire(a))):ra()},cancelLogin:function(a){ra(a,f.appUrl);!wa&&j&&j.removeNotice()},removeNotice:function(){j&&j.removeNotice()},setWelcomeInfoName:function(a,b){la(a,b)},setReturnExperience:function(a,
b){Qa(a,b)},setNoReturnExperience:function(a,b){var c;"boolean"===typeof a&&j?(j.setNoReturnExperience(a),b||j.refresh(),c=!0):c=!1;return c},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&j?(j.setNoReturnExperienceSwitchAccountLink(a).refresh(),a=!0):a=!1;return a},setPreviewMode:function(a){"boolean"===typeof a&&j?(j.setPreviewMode(a).refresh(),a=!0):a=!1;return a},setConfigureMode:function(a){"boolean"===typeof a&&j?(j.setConfigureMode(a).refresh(),a=!0):a=!1;return a},
setCustom:function(a){wa=a},getState:function(){return"object"===typeof j?j.getState():!1},setProviderFlow:function(b,c){return!I("customizable_auth_widget_styling")?!1:a().setProviderFlow(b,c)},triggerFlow:function(b){return!I("customizable_auth_widget_styling")?!1:a().triggerFlow(b)},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+document.doctype.name),console.log("DOCTYPE NodeType: "+document.doctype.nodeType)):
console.log("DOCTYPE name: not available (probably quirks mode)");console.log("User Agent: "+navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");for(var a in janrain.settings)if(console.log(" ---- "+
a+": "+janrain.settings[a]),"object"===typeof janrain.settings[a])for(var b in janrain.settings[a])"function"!==typeof janrain.settings[a][b]&&console.log(" --- --- "+b+": "+janrain.settings[a][b]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){e()},setBackgroundColor:function(a){return N(a)},setBorderColor:function(a){return F(a)},setBorderRadius:function(a){return S(a)},setWidth:function(a){return X(a)},setActionText:function(a){return $(a)},setFontFamily:function(a){return z(a)},
setFontSize:function(a){return ya(a)},setFontColor:function(a){return Ca(a)},setFormat:function(a){return ha(a)},setButtonBorderColor:function(a){return pa(a)},setButtonBorderRadius:function(a){return va(a)},setButtonBackgroundStyle:function(a){return D(a)},setProviders:function(a){var b;"object"===typeof j&&(sa?j.setProviders(a):j.setProviders(a).refresh(),b=!0);return b},setProvidersPerPage:function(a){return ka(a)},setShowAttribution:function(a){var b;I("customizable_auth_widget_hide_attribution")?
"object"===typeof j&&j.setShowAttribution(a).refresh():b=!1;return b},refresh:function(){return j.refresh()},getWidth:function(){return j.getWidth()}},modal:{init:function(){c()},close:function(){"object"==typeof s&&s.close()},create:function(){return new td},setBorder:function(a){I("customizable_auth_widget_styling")?("object"===typeof s&&(s.setBorder(a),s.refresh({center:!0})),a=!0):a=!1;return a},setBorderColor:function(a){I("customizable_auth_widget_styling")?("object"===typeof s&&(s.setBorderColor(a),
s.refresh()),a=!0):a=!1;return a},setBorderOpacity:function(a){I("customizable_auth_widget_styling")?("object"===typeof s&&(s.setBorderOpacity(a),s.refresh()),a=!0):a=!1;return a},setBorderRadius:function(a){I("customizable_auth_widget_styling")?("object"==typeof s&&(s.setBorderRadius(a),s.refresh()),a=!0):a=!1;return a}}}},tf=new function(){return{status:"not loaded"}},uf=new function(){var a;function b(d){function a(d,r){var m=d instanceof Kc?d:new Kc(d),b=r&&va(r,"merge")&&!0===r.merge,E,c;d&&
(E=m.get("id")||"auto_id_"+ta(7),m.get("id")!==E&&m.set("id",E),(c=f[E])&&b&&c.set(m.attributes),!c&&-1==g.indexOf(m)&&(g.push(m),f[E]=m,h.length=g.length));return m}function m(d){var a;d&&(a=g.indexOf(d),0<=a&&(g.splice(a,1),delete f[d.get("id")],h.length=g.length));return d}function b(d,m){for(var d=t(d)?d:[d],E=0,c=d.length;E<c;)a(d[E],m),E+=1;return h}function c(d){for(var d=t(d)?d:[d],a=0,r=d.length;a<r;)m(d[a]),a+=1;return h}function e(d){return g.filter(function(a){for(var r in d)return va(d,
r)&&a.get(r)===d[r]})}var g=[],f={},h={length:0,_models:g,_fieldsById:f};d&&b(d);return xa(h,{get:function(d){return f[d]},getById:function(d){return f[d]},getByName:function(d){for(var d=e({name:d}),a=0,r=1,m=d.length-1;r<=m;)d[a].time<=d[r].time&&(a=r),r+=1;return d[a]},getFieldsByName:function(d){return e({name:d})},add:function(d,a){return b(d,a)},remove:function(d){return c(d)},indexOf:function(d){return g.indexOf(d)},at:function(d){return g[d]},reset:function(){return c(g)},each:function(d,
a){G(g,d,a);return h},map:function(d){return g.map(d)},where:function(d){return e(d)},addField:function(d){a(d);return h},addFields:function(d){return b(d)},removeField:function(d){m(d);return h},removeFields:function(d){return c(d)},updateField:function(d){a(d,{merge:!0});return h},update:function(d){return b(d,{merge:!0})},updateFields:function(d){return b(d,{merge:!0})}})}function c(d){var a=janrain.settings.capture.modalBorderWidth||10,m=janrain.settings.capture.modalBorderColor||"#000",b=janrain.settings.capture.modalBorderRadius||
10,c=janrain.settings.capture.modalBorderOpacity||0.5;d.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(m).setBorder(a).setBorderOpacity(c).setBorderRadius(b);return d}function e(d){if("object"!==typeof x)x=new td,Ac();else{var a=x.getContent();Ud(document.body,a)&&(a.style.display="none",document.body.appendChild(a))}Z&&Z.modal&&yc.push(Z);x=c(x);x.addContent(d).show();x.setHeight(Ab(d).height);x.setWidth(Ab(d).width).refresh({center:!0})}function f(d){function a(){Ld=
!0;var r=d||I(),m=Bb(d),b=Bb(janrain.settings.capture.captureServer);"http"===b.protocol||"https"===b.protocol||(H.log("The capture server url does not have a valid protocol. Check your settings."),H.show());if(!b.host||"undefined"===b.host)H.log("The capture server url does not have a valid host. Check your settings."),H.show();d&&(Db=m.queryKey.flow_path);ua(r,Ec);Gb();lb();janrain.events.onCaptureLoginFailed.addHandler(function(){vc++;Xa()},!0);janrain.events.onCaptureLoginSuccess.addHandler(function(){vc=
0;Xa()},!0);janrain.events.onCaptureLoginSuccess.addHandler(function(){Bc(Jd)},!0);janrain.events.onCaptureRegistrationSuccess.addHandler(function(){Bc(Jd)},!0);janrain.events.onCaptureValidationComplete.addHandler(function(){a:{var d=!1,a;for(a in oa)if("invalid"===oa[a].status){var r=oa[a].postValidationActions;if(r)for(var m in r){if(!oa[a].validation||"undefined"===typeof oa[a].validation[m])break a;for(var b in r[m])if(r[m].hasOwnProperty(b))switch(b){case "render":r[m].render.screen&&!d&&(d=
!0,(new bb).setScreenData(r[m].render.screen,o.screens[r[m].render.screen]));break;case "setCookie":var E=r[m].setCookie.name,c=r[m].setCookie.value,e=r[m].setCookie.days;(new C).setExpiration(e).setUseLocalStorage(!0).setName(E).setValue(c).create()}}}}},!0);janrain.events.onCaptureRenderComplete.addHandler(function(){if(de){var d=na.savedProfileMessage||"Your profile has been saved",a=$("capture_profileSavedMessage_container",Z.div),r=a.length;if(r)for(var m=0,r=a.length;m<r;m++)a[m].innerHTML=
d,a[m].style.display="",ic(a[m]);else if(ae&&(a=document.getElementById(O+ae+"_defaultSavedProfileMessage")))a.innerHTML='<div class="capture_save_success capture_profileSavedMessage_container">'+d+"</div>",ic(a);de=!1;if(janrain.settings.capture.autoSave){for(;Zd.length;)Zd.pop().unbindDragHandlers();Sb.each(fb)}}Cb()},!0);janrain.events.onCaptureContentChange.addHandler(function(){if("object"===typeof x&&x.isOpen()){x.setHeight(Ab(x.getContent()).height);var d=x.getState().width,a=Ab(x.getContent()).width;
(d=d!==a)&&x.setWidth(a);x.refresh({center:d})}},!0);janrain.settings.custom&&!Vc&&ra()}function m(){janrain.settings.capture.federate&&!janrain.federateJSLoaded&&(janrain.settings.capture.federate=!1,Cd=!0);a()}function b(){if(!Fd){Fd=!0;var d=function(){Backplane.expectMessages("identity/login")};janrain.events.onCaptureLoginSuccess.addHandler(d,!0);janrain.events.onCaptureRegistrationSuccess.addHandler(d,!0);janrain.events.onCaptureBackplaneReady.fire();m()}}Ub(hc());janrain.settings.capture.noStyling||
(qc(jd()+"widgets.css"),ye(jd()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&t(janrain.settings.capture.stylesheets))for(var c=janrain.settings.capture.stylesheets,e=c.length,h=0;h<e;h++)qc(c[h]),W(c[h]);if(g&&9>g&&janrain.settings.capture.conditionalIEStylesheets&&t(janrain.settings.capture.conditionalIEStylesheets)){c=janrain.settings.capture.conditionalIEStylesheets;e=c.length;for(h=0;h<e;h++)ye(c[h]),W(c[h])}if(gb&&janrain.settings.capture.mobileStylesheets&&t(janrain.settings.capture.mobileStylesheets)){c=
janrain.settings.capture.mobileStylesheets;e=c.length;for(h=0;h<e;h++)qc(c[h]),W(c[h])}janrain.settings.capture.backplane?(h=function(){function d(){r++;if(20<r)return aa("backplanecallback not successful"),janrain.events.onCaptureBackplaneInitFailed.fire(),Fd=!0,janrain.settings.capture.backplane=!1,m(),!1;if(Fd)return clearTimeout(a),!1;var a=setTimeout(d,500)}"function"===typeof Backplane?Backplane(b):Tc=!0;var a={serverBaseURL:vd,busName:janrain.settings.capture.backplaneBusName,replayOnPageLoad:v};
2<=parseInt(T,10)&&(a.block=Pd);v&&2>parseInt(T,10)&&(a.initFrameFilter=function(d){return d});"undefined"!==typeof janrain.settings.capture.backplaneChannelExpires&&(a.channelExpires=janrain.settings.capture.backplaneChannelExpires);Backplane.init(a);Tc&&"undefined"!==typeof Backplane&&b();var r=0;d()},"function"===typeof Backplane?h():ua(Za,h)):m()}function i(d,a,m,b){var c=[];b&&c.push({value:"",text:b,disabled:!0});if("desc"===m)for(m=a;m>d-1;m--)c.push({value:m,text:m});else for(m=d;m<a+1;m++)c.push({value:m,
text:m});return c}function p(d){d||(d=da);return"string"===typeof d?"capture_"+d+"_":"capture_"+J(d)+"_"}function J(d){if(d!==window){var a=d.getAttribute("data-capturescreenname");if(a&&o.screens[a])return a;for(var a=$("capture_screen_container"),m=0,b=a.length;m<b;m++)if(Ud(a[m],d))return a=a[m].getAttribute("data-capturescreenname"),d.setAttribute("data-capturescreenname",a),a}}function I(){var d=xc,a=janrain.settings.capture.flowVersion||"HEAD",m=M()||"default",b=janrain.settings.capture.appid||
janrain.settings.capture.appId;return uri=b?/^[0-9A-Fa-f]{8}(-[0-9A-Fa-f]{4}){3}-[0-9A-Fa-f]{12}$/.test(a)?V()+"/widget_data/flows/"+b+"/"+m+"/"+a+"/"+d+".js":V()+"/widget_data/flow.js:"+b+":"+d+":"+a+":"+m:V()+"/widget_data/flow.js:"+d+":"+a+":"+m}function M(){return gb&&janrain.settings.capture.mobileFlowName?janrain.settings.capture.mobileFlowName:janrain.settings.capture.flowName}function V(){return janrain.settings.capture.cdnUrl?janrain.settings.capture.cdnUrl:janrain.settings.enforceSecureCloudfront?
"https://ssl-cdn.janraincapture.com":"https://d1lqe9temigv1p.cloudfront.net"}function W(d){A(xd,d)||xd.push(d);ce=xd.length}function ea(d){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+d+"' is missing."}}function ka(d){d=N(d);sa(d)}function qa(d){var a=0,m=0,b=0,c=0;F(oa,function(e,g){"pending"==g.status&&d===g.formId&&a++;"invalid"==g.status&&d===g.formId&&m++;"undefined"!==typeof g.unique&&!1===g.unique&&d===g.formId&&b++;"valid"==g.status&&d===
g.formId&&c++});return{pending:a,invalid:m,notUnique:b,valid:c}}function sa(d,a){var m=d.getAttribute("data-capturefield"),m=Xc.check(d,o.fields[m]),b=document.getElementById(d.id+"_errors");!m.valid&&m.reason?b&&(b.innerHTML=m.reason):b&&(b.innerHTML="");if(a)return"object"!==typeof m&&(m={valid:!0}),m}function Ha(d,a){a.name||(a.name=d.getAttribute("data-capturerendererfield")?d.getAttribute("data-capturerendererfield"):d.getAttribute("data-capturefield"));var m=p(d),b=document.getElementById(m+
a.name+"_dateselectmonth"),b=b.options[b.selectedIndex].value,c=document.getElementById(m+a.name+"_dateselectday"),c=c.options[c.selectedIndex].value,m=document.getElementById(m+a.name+"_dateselectyear"),m=m.options[m.selectedIndex].value;return!b||!c||!m?!1:b+"/"+c+"/"+m}function D(d,a){if(!d)return!1;for(var m=tb(d.getElementsByTagName("input")),m=m.concat(tb(d.getElementsByTagName("select"))),m=m.concat(tb(d.getElementsByTagName("textarea"))),b=[],a=a||!1,c={},e=!1,g,h=0,f=m.length;h<f;h++)g=m[h],
(e="file"===g.type?sa(g,!0).valid:xb(g,!0,a))||b.push(g),"true"===g.getAttribute("data-capturecollection")&&!c[g.name]&&(c[g.name]=!0);janrain.events.onCaptureValidationComplete.fire({fieldsWithError:b});return 0===b.length}function ha(){}function ib(d){function a(d){S(d);(v?m:b)(d)}function m(d){S(d);p.style.display="none";v=!1}function b(){if(!v){var d=G||P;if(F.getMonth()!==d.getMonth()||F.getFullYear()!==d.getFullYear())F=new Date(d),o(F)}v=!0;p.style.display="block"}function c(d){Sd(Q);for(var d=
parseInt(d),a=I.getFullYear();a>=H.getFullYear();--a){var r=document.createElement("option");r.setAttribute("value",a);ya(r,a);Q.appendChild(r)}Q.value=d}function e(){F.setMonth(R.value);F.setFullYear(Q.value);o(F)}function h(d){R.value=d.getMonth();d=d.getFullYear();Q.value=d}function f(d){return function(a){S(a);F.setMonth(F.getMonth()+d);a=F.getFullYear();(a<H.getFullYear()||a>I.getFullYear())&&F.setMonth(F.getMonth()-d);o(F)}}function l(d){d=d.getDay();return A?(d-1+7)%7:d}function i(d){G=new Date(F);
G.setDate(d);"object"===typeof x&&"INPUT"===x.nodeName&&(x.value=Da(X,G));m();B(G)}function k(d,a){return d.getDate()===a.getDate()&&d.getMonth()===a.getMonth()&&d.getFullYear()===a.getFullYear()}function n(d){return(k(d,H)||d>H)&&(k(d,I)||d<I)}function o(d){function a(d){S(d);var d=N(d),r=d.getAttribute("data-date");W&&q(W.parentNode).remove("capture_datePicker_selectedDate");q(d.parentNode).append("capture_datePicker_selectedDate");W=d;i(r)}Sd(u);if(U)h(F);else{var r=Da($,d);Sd(w);ya(w,r)}r=document.createElement("tr");
r.className="capture_datePicker_daysOfTheWeekHeader";for(var m=0,b=z.length;m<b;m++){var E=document.createElement("th");ya(E,z[m]);r.appendChild(E)}u.appendChild(r);var c=d.getMonth(),r=new Date(d),e,d=1;r.setDate(1);e=l(r);var m=document.createElement("tr"),ga=new Date(r),g=1-e;ga.setDate(g);for(b=0;b<e;++b){var E=document.createElement("td"),f=document.createElement("a");ya(f,ga.getDate());E.appendChild(f);E.style.textAlign="right";f.setAttribute("data-date",g);f.href="#";E.className="capture_datePicker_prevMonthDay";
m.appendChild(E);n(ga)?(q(E).append("capture_datePicker_day"),y(f,"click",a)):q(E).append("capture_datePicker_day_disabled");G&&k(ga,G)&&(q(E).append("capture_datePicker_selectedDate"),W=f);k(ga,M)&&q(E).append("capture_datePicker_today");ga.setDate(ga.getDate()+1);g++}for(;r.getMonth()===c;)E=document.createElement("td"),f=document.createElement("a"),f.setAttribute("data-date",d),f.href="#",ya(f,d),n(r)?(E.className="capture_datePicker_day",y(f,"click",a)):E.className="capture_datePicker_day_disabled",
G&&k(r,G)&&(q(E).append("capture_datePicker_selectedDate"),W=f),k(r,M)&&q(E).append("capture_datePicker_today"),E.appendChild(f),m.appendChild(E),++e,6<e&&(e=0,u.appendChild(m),m=document.createElement("tr")),++d,r.setDate(d);b=l(r);d=new Date(r);d.setDate(d.getDate()-1);d=d.getDate()+1;if(0<b){for(b=l(r);7>b;++b)E=document.createElement("td"),f=document.createElement("a"),E.style.textAlign="right",f.href="#",f.setAttribute("data-date",d),ya(f,r.getDate()),E.appendChild(f),E.className="capture_datePicker_nextMonthDay",
m.appendChild(E),n(r)?(q(E).append("capture_datePicker_day"),y(f,"click",a)):q(E).append("capture_datePicker_day_disabled"),G&&k(r,G)&&(q(E).append("capture_datePicker_selectedDate"),W=f),k(r,M)&&q(E).append("capture_datePicker_today"),r.setDate(r.getDate()+1),d++;u.appendChild(m)}}var j=d||{},p,w,rb,mc,Va,u,z="Su,Mo,Tu,We,Th,Fr,Sa".split(","),A=!1,v=rb=!1,s,B=j.callback||function(){};Va=j.monthPreviousText;var C=j.monthNextText,x=j.targetElement,D=j.extraTargetElements||[],d=j.elementAttachedTo,
J=j.openOnTargetElementFocus,O=j.provideOpenButton,K,L=!!j.hasCloseButton,M=new Date,H=void 0!==j.minimumSelectableDate?j.minimumSelectableDate:"1/1/"+(M.getFullYear()-100),I=void 0!==j.maximumSelectableDate?j.maximumSelectableDate:"12/31/"+(M.getFullYear()+30),U=j.monthAndYearSelectable,T=j.arrowKeyNavigation,R,Q,V=void 0!==j.defaultDate?j.defaultDate:new Date,P=V,F,G=j.preSelectedDate,W,X=j.format||"{m}/{d}/{yyyy}",$=j.calendarTitleFormat||"{month} {yyyy}";F=new Date(P);sb(P)?(s=Td(P),P=new Date,
P.setDate(P.getDate()+s)):"string"===typeof P&&(P=new Date(P));sb(H)?(s=Td(H),H=new Date,H.setDate(H.getDate()+s)):"string"===typeof H&&(H=new Date(H));sb(I)?(s=Td(I),I=new Date,I.setDate(I.getDate()+s)):"string"===typeof I&&(I=new Date(I));Oa(P)||(P=new Date);V=new Date(P);Oa(H)||(H=new Date("1/1/"+(M.getFullYear()-100)));Oa(I)||(I=new Date("12/31/"+(M.getFullYear()+30)));"undefined"===typeof T&&(T=!0);s="January,February,March,April,May,June,July,August,September,October,November,December".split(",");
j.monthNames&&12===j.monthNames.length&&(s=j.monthNames);j.weekStartsOnMonday&&(A=j.weekStartsOnMonday,rb=!0);j.daysOfWeek&&7===j.daysOfWeek.length&&(z=j.daysOfWeek,rb=!1);rb&&z.push.apply(z,z.splice(0,1));p=document.createElement("div");p.className="capture_datePicker_wrapper";j.additionalClasses&&(t(j.additionalClasses)&&(j.additionalClasses=j.additionalClasses.join(" ")),p.className+=" "+j.additionalClasses);"object"===typeof x&&(q(x).append("capture_datePicker_targetElement"),G&&Oa(G)&&"INPUT"===
x.nodeName&&(x.value=Da(X,G)),"undefined"===typeof d&&(d=x.parentNode));j=0;"object"===typeof d&&(q(d).append("capture_datePicker_mainTarget"),j=d.offsetHeight);ze(p,{display:"none",position:"absolute",top:j+"px",right:"0",zIndex:"100"});j=document.createElement("div");j.className="capture_datePicker_header";w=document.createElement("div");w.className="capture_datePicker_monthAndYearDisplayDiv";rb=document.createElement("a");rb.setAttribute("href","#");rb.className="capture_datePicker_previousMonthButton capture_datePicker_monthButtons";
mc=document.createElement("a");mc.setAttribute("href","#");mc.className="capture_datePicker_nextMonthButton capture_datePicker_monthButtons";j.appendChild(w);p.appendChild(j);if(U){R=document.createElement("select");Q=document.createElement("select");R.className="capture_datePicker_monthSelect";Q.className="capture_datePicker_yearSelect";for(var ba=F.getMonth(),Z=0;12>Z;++Z){var aa=document.createElement("option");aa.setAttribute("value",Z);ya(aa,s[Z]);R.appendChild(aa)}s=F.getFullYear();c(s);R.value=
ba;Q.value=s;y(R,"change",e);y(Q,"change",e);w.appendChild(R);w.appendChild(Q)}Va?ya(rb,Va):q(rb).append("janrain-icon-16").append("janrain-icon-back");C?ya(mc,C):q(mc).append("janrain-icon-16").append("janrain-icon-forward");y(rb,"click",f(-1));y(mc,"click",f(1));j.appendChild(rb);j.appendChild(mc);Va=document.createElement("table");Va.className="capture_datePicker_monthTable";Va.style.width="100%";Va.cellSpacing=0;Va.cellPadding=0;u=document.createElement("tbody");Va.appendChild(u);p.appendChild(Va);
L&&(L=document.createElement("div"),L.className="capture_datePicker_closeButton",L.style.textAlign="center",Va=document.createElement("a"),Va.href="#",ya(Va,"Close"),y(Va,"click",m),L.appendChild(Va),p.appendChild(L));O&&"object"===typeof d&&(K=document.createElement("span"),K.className="capture_datePicker_openButton janrain-icon-calendar janrain-icon-16",y(K,"click",a),d.appendChild(K));o(P);J&&"object"===typeof x&&y(x,"focus",b);"object"===typeof x&&(y(x,"keydown",function(d){switch(d.keyCode){case re:case Fa:case Nd:m()}}),
y(x,"keyup",function(){if("INPUT"===x.nodeName){var d=qd(X,x.value);Oa(d)&&n(d)&&(F=d,G=new Date(d),o(d))}}),y(x,"blur",function(){if("INPUT"===x.nodeName){var d=qd(X,x.value);Oa(d)||!n(d)?G?(F=new Date(G),i(G.getDate())):x.value="":(d=Da(X,G),d!==x.value&&(x.value=d))}}));y(document,"click",function(d){if(v){for(d=N(d);d;){if(d===p||d===x||d===K)return;for(var a=0,r=D.length;a<r;++a)if(d===D[a])return;d=d.parentNode}m()}});y(document,"keydown",function(d){if(v)if(d.keyCode===Fa||d.keyCode===Nd)m();
else if(T){var a={};a[se]=-1;a[te]=-7;a[ue]=1;a[ve]=7;d=a[d.keyCode]||0;0!==d&&(a=G?new Date(G):new Date(V),a.setDate(a.getDate()+d),n(a)&&(G=new Date(a),F=new Date(G),o(F),"object"===typeof x&&"INPUT"===x.nodeName&&(x.value=Da(X,G)),B(G)))}});"object"===typeof d&&d.appendChild(p);g&&7>=g&&"object"===typeof d&&ze(d,{position:"relative",zIndex:1});return{show:b,hide:m,setSelectedDate:function(d){"object"===typeof d&&"function"===typeof d.getMonth&&(G=new Date(d),F=new Date(d),o(d));return this},getSelectedDate:function(){return G}}}
function z(){}function jb(d){var a=Aa(),d=wa({flow_control:d,token:ia,capture_transactionId:a});k("/widget/control.jsonp",d);Ba(a)}function db(d){var a=document.getElementById("captureIFrame_"+d);"yes"!==a.getAttribute("data-captureiframeloadeventbound")&&(a.setAttribute("data-captureiframeloadeventbound","yes"),y(document.getElementById("captureIFrame_"+d),"load",la))}function R(d,a,m){if(!t(d)&&!a)return!1;t(d)||(d=[]);var b=d.length,c,e=new bb,g="",f=[],h=document.getElementById(m+a);if(!h)return!1;
for(a=0;a<b;a++)if(c=o.fields[d[a]])c.fieldPrefix=m,c.name=c.elementName=d[a],g+=e.renderField(c),f.push(c.name);if(!g.length&&h)return h.innerHTML="",!1;h.innerHTML=g;a=0;for(b=f.length;a<b;a++)(d=document.getElementById(m+f[a]))&&y(d,"blur",Lb)}function Cb(){for(var d=Z.div.getElementsByTagName("select"),a=d.length,m=0;m<a;m++)-1!=d[m].selectedIndex&&d[m].getElementsByTagName("option")[d[m].selectedIndex].disabled&&(q(d[m]).append("capture_disabled"),y(d[m],"change",function(){q(this).remove("capture_disabled")}))}
function Gb(){y(document.body,"click",function(d){var a=N(d),a=[ub(a,"A"),ub(a,"BUTTON")];G(a,function(a){if(a){var r=janrain.settings.capture.logoutLinksClass||"capture_end_session";q(a).has(r)&&(La(),S(d));r=a.getAttribute("data-capturescreen");a=a.getAttribute("data-captureuseruuid");r&&(a?Ic(r,a):(Q=!0,janrain.capture.ui.renderScreen(r)),S(d))}})})}function ra(){janrain.events.onProviderLoginToken.addHandler(function(d){if(d.janrainWidgetParameters&&d.janrainWidgetParameters.widget_type&&"share"===
d.janrainWidgetParameters.widget_type)return!1;if(d.linkAccounts)Yb(xa({provider:d.janrainWidgetParameters.provider},d));else{janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience,!0);mb&&(fc=za);za=d.token;Z.values=jc(Z.div.id);yc.push(Z);var d=dc(d.keepMeLoggedIn),a=d.capture_transactionId;k("/widget/token_url.jsonp",d);Ba(a);mb&&(mb=!1)}},!0);Vc=!0}function Yb(d){l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+
"/widget/profile.jsonp",elementId:"linkAccount_form",captureScreen:d.currentScreen,needsResponse:!0,callback:function(){d.callback&&d.callback();janrain.events.onCaptureProfileLink.fire({provider:d.provider,authProfile:Pe})},fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",elementType:"hidden",elementValue:d.token}]})}function la(d){var d=N(d),a=d.getAttribute("data-transactionId"),m=K.parse(d.getAttribute("next"));if("formClicked"===d.className){if(janrain.settings.capture.transactionTimeout&&
A(Ia,a))return Ia.splice(Ia.indexOf(a),1),!1;Ob(a,m)}}function Ob(d,a){k("/widget/get_result.jsonp",{transactionId:d,cache:(new Date).getTime()},function(){pa(function(){if(ca[d]){vb(d);var m=ca[d];"success"===m.status?a&&Ib(a):aa("there was a problem with the response",m);return!0}return!1}).setDelay(50).setMaxAttempts(10).setFailCallback(function(){aa("could not find transaction status");n.warn("poll for transaction status failed. transaction id: "+d);return!1}).start()})}function ma(d,a){var m=
N(d).getAttribute("id").split("_")[3],b=N(d),c=p(b),e=b.parentNode,g=q(e).has("capture_tab_toggle"),f=g?"capture_tab_toggle":"capture_radio_toggle",b=b.getAttribute("data-capture-tab-index");(new C).setUseLocalStorage(!0).setName("janrainCaptureSelectedTab").setValue(b).create();for(b=0;b<a.collection.length;b++)a.collection[b].elementName!==m&&(document.getElementById(c+a.collection[b].elementName).style.display="none");for(var f=$(f,document.getElementById(c+a.elementName)),h=f.length,b=0;b<h;b++)q(f[b]).remove("capture_toggled");
q(e).append("capture_toggled");document.getElementById(c+m).style.display="block";janrain.events.onCaptureContentChange.fire();g&&S(d)}function Qa(d,a,m,b){m=b?K.stringify(b):m;Ba(a);d.className="formClicked";d.setAttribute("next",m);janrain.settings.capture.transactionTimeout&&setTimeout(function(){-1===Ua.indexOf(a)&&(-1===Ia.indexOf(a)&&Ia.push(a),janrain.events.onCaptureTransactionTimeout.fire({transactionId:a}))},janrain.settings.capture.transactionTimeout)}function Wb(){var d,a,m,b,c,e,g=!1;
return{setIframe:function(a){d=a;return this},setTransactionId:function(d){a=d;return this},setNext:function(d){m=d;b=K.parse(m);return this},setForm:function(d){c=d;return this},setEvent:function(d){e=d;return this},dontSubmit:function(){return b?b.dontSubmit:!1},process:function(){a:if(b.conditional){for(var f=b.conditional,h=f.length,j=0;j<h;j++){var l;b:{l=f[j];var i=o.fields[l.field],i=p(c)+(i.elementId||i.elementName),i=document.getElementById(i);switch(l.compare){case "=":if(i.value===l.value){l=
!0;break b}}l=void 0}if(l){g=f[j];break}}g?g.nosubmit?(S(e),Ib(g.next)):Qa(d,a,m,g.next):Qa(d,a,m)}else if(b.dontSubmit){S(e);if(b.storeValues){f=$("capture_focused");Fe(f);if(!D(c))break a;f=qa(c.id);if(0<f.notUnique||0<f.pending||0<f.invalid)break a;jc(c.id,!0)}Ib(b)}else Qa(d,a,m)}}}function Mb(d){var a=N(d),m=a&&a.id?a.id:"",b=N(d).getAttribute("data-transactionId"),c=document.getElementById("captureIFrame_"+b),e=$("capture_focused"),f=!1;a.getAttribute("next")||a.setAttribute("next",'{"noop":""}');
var h=a.getAttribute("next"),l=new Wb;l.setNext(h);l.dontSubmit()&&(f=!0);if(0<e.length&&g&&f&&ie){var j={},i;for(i in d)j[i]=d[i];setTimeout(function(){Ge(a);Mb(j)},0)}else{ie=!0;if(!f&&("true"!==a.getAttribute("data-capturedomelement")||"true"===a.getAttribute("data-capturedomelementvalidate"))){nb||Xb(a);Z.values=jc(Z.div.id);if(D(a)){Fe(e);var k=!1;(function(){pa(function(){var c=qa(m);if(0<c.invalid)return S(d),nb||Pa(a),vb(b),!0;if(0===c.pending)return k&&a.submit(),!0;S(d);k=!0;return!1}).setDelay(50).setMaxAttempts(400).setFailCallback(function(){n.warn("Poll to check form validations failed. Form id: "+
a.id);vb(b);S(d)}).start()})()}else return nb||Pa(a),S(d),!1;k||(e=$e(a),h=md(),e.parentNode.insertBefore(h,e),e.style.display="none")}f&&S(d);l.setIframe(c).setTransactionId(b).setForm(a).setEvent(d).process()}}function Xb(d){for(var d=Zb(d),a=0,m=d.length;a<m;a++)je.clearPlaceHolder(d[a])}function Zb(d){for(var a=[],m=tb(d.getElementsByTagName("input")),m=m.concat(tb(d.getElementsByTagName("textarea"))),d=0,b=m.length;d<b;d++)m[d].getAttribute("placeholder")&&m[d].getAttribute("placeholder").length&&
a.push(m[d]);return a}function Pa(d){for(var d=Zb(d),a=0,m=d.length;a<m;a++)je.restorePlaceHolder(d[a])}function Lb(d){ie=!1;d=cb(d);xb(d,!1)}function xb(d,a,m){if(d.type&&("hidden"===d.type||"submit"===d.type||"file"===d.type)||!d.getAttribute("data-capturefield"))return!0;var b=d.getAttribute("data-capturerendererfield")?o.fields[d.getAttribute("data-capturerendererfield")]:o.fields[d.getAttribute("data-capturefield")],c=d.getAttribute("data-capturerendererchildfieldname"),e=c?b.elementName+"["+
c+"]":b.elementName,g=p(d),f,h;f=!1;if(b.validation)f=(f=b.validation[c])&&f.required?f.required:!1,h=b.validation.required||f;else return!0;f=d.id||d.name;if(!d.value&&!h)return delete oa[f],!0;if(oa[f]&&oa[f].status&&"pending"===oa[f].status||b.validation.type&&"server"===b.validation.type||c&&!b.validation[c]&&"dateselect"!==b.type)return!0;oa[f]=oa[f]||{};oa[f].element=d;oa[f].formId=d.form&&d.form.id?d.form.id:"";oa[f].status="pending";oa[f].postValidationActions=b.validation.actions||null;c=
"multiCheckbox"===b.element||"multiRadio"===b.element?document.getElementById(g+"form_collection_"+b.elementName):"dateselect"===b.type?document.getElementById(g+"form_item_"+b.name):document.getElementById(g+"form_item_"+e);m||q(c).append("capture_validating");e=new l.validation;e.setParentDiv(c);e.setElement(d);d=Xc.check(d,b,a);d.validation&&(e.setValidation(d.validation),oa[f].validation=d.validation);d.valid?(f=!0,m||(e.valid(b.validation.hideValidated),q(c).remove("capture_validating"))):d.pending?
(m||e.pending(),f=!0):(f=!1,m||(e.notValid(d.reason,d.type),q(c).remove("capture_validating")));return f}function Ib(d){yc.push(Z);if(d.noop)return!1;d.url&&(window.location.href=d.url);d.screen&&(new bb).setScreenData(d.screen,o.screens[d.screen]);if(d.action&&Z)janrain.capture.ui[d.action]();if(d["function"]&&"function"===typeof he[d["function"]])he[d["function"]]()}function Nb(d,a){var m={linkAccounts:!0,currentScreen:d,capture_transactionId:Aa()};janrain.engage&&janrain.engage.signin?(janrain.engage.signin.setNoReturnExperience(!0),
janrain.engage.signin.appendTokenParams(m,!0),janrain.engage.signin.triggerFlow(a)):console.log("Authentication widget not loaded on the page.")}function kb(){if(0===ke)return!1;var d=(new Date).getTime()-ke,d=Math.floor(d/1E3);if(60>d)return d+" seconds ago";d=Math.floor(d/60);if(1==d)return d+" minute ago";if(59>d)return d+" minutes ago"}function Ya(d){ed=!0;d=document.getElementById(d);y(d,"submit",function(){Qe=(new Date).getTime()});clearInterval(Re);Re=setInterval(function(){if(!ed)return!1;
janrain.events.onCaptureAutoSaveUpdate.fire({durationSinceLastUpdate:kb()})},Rd)}function fb(d){if(d){var a=document.getElementById(d.get("id")),m=d.attributes;if(a&&("value"in m&&va(m,"value")&&Qe<d.time&&("radio"===a.type||"checkbox"===a.type?(d=ub(a,"form").id,d=document.forms[d][a.name],d.length&&(d=Ae(d,{value:m.value})[0]),d.checked=m.checked):a.value!==m.value&&(a.value=m.value)),m.valid&&(d=rd(a,"capture_form_item"))&&q(d).append("capture_validated"),m.focused)){var b=function(){if(this.setSelectionRange){var d=
this.value.length+1;this.setSelectionRange(d,d)}else this.value=this.value;setTimeout(function(){zb(a,"focus",b)},10)};y(a,"focus",b);a.focus()}}}function Sa(d){d=N(d);""!==d.name&&P(d)}function P(d){setTimeout(function(){var a={id:d.id,name:d.name,value:d.value};if("radio"===d.type||"checkbox"==d.type)a.checked=d.checked;Sb.update(a);janrain.settings.capture.autoSave&&Ea(d)},0)}function Ea(d){clearTimeout(fd);return fd=setTimeout(function(){if(Ud(document.body,d)){var a=ub(d,"form").id,a=document.getElementById(a);
if(ed&&D(a,!0)){nb||Xb(a);a.submit();a.getAttribute("next");var m=a.getAttribute("data-transactionId"),b=document.getElementById("captureIFrame_"+m);(new Wb).setIframe(b).setTransactionId(m).setNext('{"noop": ""}').setForm(a).setEvent(null).process()}}},Vd)}function $b(d){d=N(d);d.tagName.match(/select/i)&&clearTimeout(fd);Sb.update({id:d.id,focused:!0})}function pb(d){var a=N(d).id;setTimeout(function(){var d=Sb.get(a);d&&d.get("focused")&&d.set("focused",!1)},0)}function wa(d,a){var b=xa({js_version:Pb,
capture_screen:da,flow:o.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:Ad,settings_version:ja,locale:xc},d||{});janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&(b.bp_channel=Backplane.getChannelID());Db&&(b.flow_path=Db);if(t(a))for(var E=0,c=a.length;E<c;E++)b.hasOwnProperty(a[E])&&delete b[a[E]];return b}function dc(d){var a=wa({capture_screen:janrain.settings.capture.registerFlow||
"socialRegister",capture_transactionId:Aa()});za&&(a.token=za);fc&&(a.merge_token=fc,fc=null);d&&"true"===d&&(a.capture_keep_me_logged_in="yes");janrain.settings.capture.thinRegistration&&(a.thin_registration=!0);if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var d=janrain.settings.capture.dataDefaults,b;for(b in d)d.hasOwnProperty(b)&&"undefined"===typeof a[b]&&(a[b]=d[b])}return a}function Ma(d){(new C).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(d).create()}
function Xa(){(new C).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(vc).create()}function lb(){var d=new C;d.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?d.getCookie("janrainFailedLogins",function(d){sb(d)&&(vc=parseInt(d,10))}):(d=d.getCookie("janrainFailedLogins"),sb(d)&&(vc=parseInt(d,10)))}function Ga(d){d=36E5*Qd-(d||0)+(new Date).getTime();return(new Date((new Date).setTime(d))).toUTCString()}function s(){clearTimeout(ee);ee=setTimeout(bc,1E4)}function ac(){if(janrain.settings.capture.federate&&
!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var d,a;cookie=new C;cookie.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)cookie.getCookie("janrainCaptureTokenRefresh",function(b){b&&(a=new Date,d=new Date(b),a.getTime()>d.getTime()?(n.info("SSO refresh_token, token needs refreshing, multi domain localStorage"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")):s())},!1);else{var b=cookie.getCookie("janrainCaptureTokenRefresh",null,
!1);b&&(a=new Date,d=new Date(b),a.getTime()>d.getTime()?(n.info("SSO refresh_token, token needs refreshing"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")):s())}}}function bc(){if(janrain.settings.capture.federate&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var d=new C;d.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?d.getCookie("janrainCaptureToken",function(d){d?ac():(n.info("SSO refresh_token, no token exists, multi domain localStorage"),
JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"))}):d.getCookie("janrainCaptureToken")?ac():(n.info("SSO refresh_token, no token exists"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"))}}function rc(d){var a=new C;a.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken").setValue(d);janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.create()}function sc(){var d=new C;d.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken");
janrain.settings.capture.cookieDomain&&d.setDomain(janrain.settings.capture.cookieDomain);d.remove()}function j(){var d=new C;d.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?d.getCookie("janrainCaptureTemporaryToken",function(d){d&&(ba(d),sc())}):d.getCookie("janrainCaptureTemporaryToken")&&(ba(d.getCookie("janrainCaptureTemporaryToken")),sc())}function ba(d,a,b){var c=Ga();ia=d;a?(janrain.settings.capture.federate&&bc(),janrain.events.onCaptureSessionCreated.fire({accessToken:d}),
janrain.events.onCaptureSessionFound.fire({accessToken:d})):(a=new C,a.setExpirationDirectly(c).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(ia),n.info("token set: "+ia),n.info("token expires: "+c),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.create(),janrain.settings.capture.federate&&(c=new C,a=Ga(),c.setUseLocalStorage(!0).setName("janrainCaptureTokenRefresh").setValue(a),n.info("refresh token at: "+a),janrain.settings.capture.cookieDomain&&
c.setDomain(janrain.settings.capture.cookieDomain),c.create(),bc()),$d&&(janrain.events.onCaptureLoginSuccess.fire({accessToken:d}),$d=!1),b?(n.info("create capture session from Federate refresh"),janrain.events.onCaptureFederateRefreshedToken.fire({accessToken:d})):janrain.events.onCaptureSessionCreated.fire({accessToken:d}))}function La(d){var a=new C,b=Aa(),c="function"===typeof janrain.settings.capture.federateLogoutCallback?janrain.settings.capture.federateLogoutCallback:function(){},e=function(){janrain.capture.ui.federateLogoutCallbackFired(b,
c)};a.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.remove();d||(ia="");janrain.settings.capture.keepProfileCookieAfterLogout||(a.setName("janrainCaptureProfileData"),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.remove());janrain.settings.capture.backplane&&"function"===typeof Backplane&&Backplane.resetCookieChannel();o&&Rb(o,!0);janrain.settings.capture.federate?
(clearTimeout(ee),JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,logout_uri:janrain.settings.capture.federateLogoutUri},e),function(){pa(function(){return A(Dd,b)}).setDelay(500).setMaxAttempts(20).setFailCallback(function(){n.warn("Poll for check federate callback called failed. ssoLogoutTransactionId: "+b);aa("federatecallback not successful");Dd.push(b);c();janrain.settings.capture.federate=!1;n.warn("janrain.settings.capture.federate set to false");return!1}).start()}()):
Cd&&c();fc=za=null;janrain.events.onCaptureSessionEnded.fire()}function cc(){var d=new C;d.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)d.getCookie("janrainCaptureToken",function(d){d?ba(d,!0):janrain.events.onCaptureSessionNotFound.fire();U=!0});else{if(d.getCookie("janrainCaptureToken"))return ba(d.getCookie("janrainCaptureToken"),!0),!0;janrain.events.onCaptureSessionNotFound.fire();return!1}}function tc(d){n.info("fire Federate delayed events");var a=ca[d];if(d=a.fireEvent)t(d)||
(d=[d]),F(d,function(d,b){janrain.events[b]&&("onCaptureLoginSuccess"===b&&Id||janrain.events[b].fire(a))})}function Cc(d,a){n.info("set Federate login");JANRAIN.SSO.CAPTURE.set_login({code:d,transaction_id:a,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});n.info("SSO set_login at "+new Date);(function(){pa(function(){return Qb[a]&&Qb[a].setLoginSuccess}).setDelay(500).setMaxAttempts(10).setFailCallback(function(){n.warn("Poll for set federate login failed. transactionId: "+
a);aa("set login not successful");Qb[a].eventFiredDueToSlowResponse=!0;tc(a);janrain.settings.capture.federate=!1;Cd=!0;n.warn("janrain.settings.capture.federate set to false");return!1}).start()})()}function Dc(d){n.info("check Federate for session at "+new Date);d||(d={});var a=Aa(),b={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,response_method:d.response_method||"jsonp",response_type:janrain.settings.capture.responseType,redirect_uri:janrain.settings.capture.redirectUri,
widget_parameters:K.stringify(wa({capture_transactionId:a},["client_id"])),transaction_id:a,logout_uri:janrain.settings.capture.federateLogoutUri,nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver,refresh:!1};janrain.settings.capture.federateSegment&&(b.segment=janrain.settings.capture.federateSegment);janrain.settings.capture.federateSupportedSegments&&t(janrain.settings.capture.federateSupportedSegments)&&(b.supported_segments=janrain.settings.capture.federateSupportedSegments.join("-"));
janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&(b.bp_channel=Backplane.getChannelID());var c=new C;c.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?c.getCookie("janrainCaptureTokenRefresh",function(d){d?(currentTime=new Date,expireTime=new Date(d),currentTime.getTime()>expireTime.getTime()?"true"===janrain.settings.capture.federateNoRefresh?(b.refresh=!1,n.info("token refresh expired, federateNoRefresh is `true`, Federate refresh is false, multi domain localStorage")):
(b.refresh=!0,n.info("token refresh expired, Federate refresh is true, multi domain localStorage")):(b.refresh=!1,n.info("token not expired, Federate refresh set false"))):(c.getCookie("federateLimitRefresh")||(b.refresh=!0,c.setExpiration(1/24/60).setName("federateLimitRefresh").setValue("true").create()),n.info("no token refresh time found, force Federate refresh true, multi domain localStorage"))},!1):(d=c.getCookie("janrainCaptureTokenRefresh",null,!1))?(currentTime=new Date,expireTime=new Date(d),
currentTime.getTime()>expireTime.getTime()?"true"===janrain.settings.capture.federateNoRefresh?(b.refresh=!1,n.info("token refresh expired, federateNoRefresh is `true`, Federate refresh is false")):(b.refresh=!0,n.info("token refresh expired, Federate refresh is true")):(b.refresh=!1,n.info("token not expired, Federate refresh set false"))):(c.getCookie("federateLimitRefresh")||(b.refresh=!0,c.setExpiration(1/24/60).setName("federateLimitRefresh").setValue("true").create()),n.info("no token refresh time found, force Federate refresh true"));
n.info("SSO check_login at "+new Date);JANRAIN.SSO.CAPTURE.check_login(b);Ba(a);(function(){pa(function(){return-1<Ua.indexOf(a)}).setDelay(500).setMaxAttempts(10).setFailCallback(function(){n.warn("Poll for check federate login failed. transactionId: "+a);aa("check login not successful");janrain.settings.capture.federate=!1;n.warn("janrain.settings.capture.federate set to false");Cd=!0;cc();U=!0;return!1}).start()})()}function Ec(){var d=janrain.settings.capture.redirectFlow,a="transactionId"in nc,
b=Ja.capture_complete_social_registration;janrain.settings.capture.federate&&Dc();Ja.jr_otp&&l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/otp_signin",name:"janrainOTPPost",needsResponse:!0,fieldPrefix:"janrain_otp_",fields:[{elementType:"hidden",elementName:"jr_otp",elementValue:Ja.jr_otp}]});cc();U=!0;d&&a?(location.hash=location.hash.replace(RegExp("[&,]*transactionId="+nc.transactionId),""),Ob(nc.transactionId)):b&&ba(b);nc.access_token&&($d=!0,
ba(nc.access_token))}function Fc(d,a){var b=d["if"].compare;if(!b||0>b.indexOf(":"))return!1;switch(b.split(":")[0]){case "cookie":var c=b.split(":")[1],b=new C;b.setUseLocalStorage(!0);"janrainLastAuthMethod"===c&&!Zc&&(Zc=da);if(janrain.settings.multiDomainLocalStorage)b.getCookie(c,function(b){e&&"janrainLastAuthMethod"===c&&(Gd=!0);Vb(gc(d["if"],b)?d.then:d["else"],a)});else{var e=b.getCookie(c);e&&"janrainLastAuthMethod"===c&&(Gd=!0);Vb(gc(d["if"],e)?d.then:d["else"],a)}break;case "session":b=
b.split(":")[1],"boolean"===typeof d["if"].to&&(d["if"].to+=""),"exists"===b&&Vb(gc(d["if"],!!ia+"")?d.then:d["else"],a)}}function gc(d,a){var b=sb(a)?parseInt(a,10):a,c,e=sb(d.to)?parseInt(d.to,10):d.to;switch(d.withOperator){case "===":c=e===b;break;case "!==":c=e!==b;break;case "==":c=e==b;break;case "!=":c=e!==b;break;case ">":c=b>e;break;case "<":c=b<e}return c}function Vb(d,a){!d&&"function"===typeof a&&a();if(!d)return!1;if("undefined"===typeof d["if"]){if(d.render){var b=d.render.screen,c=
o.screens[b];(new bb).setScreenData(b,c)}}else Fc(d,a)}function ic(d){if(!d)return!1;"undefined"!==typeof janrain.settings.capture.hideSavedProfileMessageDelay&&setTimeout(function(){d&&(d.style.display="none")},janrain.settings.capture.hideSavedProfileMessageDelay)}function hc(){for(var d="",a=[],b=0;10>b;b++)d=ta(40),a.push(d);return a}function Ub(d){if(!t(d))return!1;for(var a=d.length,b=0;b<a;b++){var c=d[b];-1===Kd.indexOf(c)&&Kd.push(c)}}function Aa(){var d=Kd.pop();0===Kd.length&&Ub(hc());
-1===wd.indexOf(d)&&wd.push(d);return d}function Ba(d){var a=wd.indexOf(d);-1<a&&wd.splice(a,1);-1===Ta.indexOf(d)&&Ta.push(d)}function vb(d){var a=Ta.indexOf(d);-1<a&&Ta.splice(a,1);-1===Ua.indexOf(d)&&Ua.push(d)}function wb(d){return janrain.settings.capture.federate&&d.sso&&d.ssoCode}function Eb(d,a){d.fireEvent=a;Qb[d.transactionId]=d;Cc(d.ssoCode,d.transactionId)}function zc(d){if(d.status){ca[d.transactionId]=d;"photoUploaded"===d.statusMessage&&janrain.events.onCapturePhotoUploadSuccess.fire();
if(d.userData){if(janrain.settings.capture.setProfileCookie){var a=d.userData,b=Ga();(new C).setExpirationDirectly(b).setUseLocalStorage(!0).setName("janrainCaptureProfileData").setValue(K.stringify(a)).create();janrain.events.onCaptureProfileCookieSet.fire(a)}if(janrain.settings.capture.returnExperienceUserData&&(a=janrain.settings.capture.returnExperienceUserData,b=d.userData,t(a))){for(var c=a.length,e={},f=0;f<c;++f)e[a[f]]=Ca(b,a[f]);(new C).setExpiration(1826).setUseLocalStorage(!0).setName("janrainCaptureReturnExperienceData").setValue(K.stringify(e)).create()}}"success"===
d.status?janrain.events.onCaptureSaveSuccess.fire(d):janrain.events.onCaptureSaveFailed.fire(d);(a=Se[d.action])&&a(d)}}function Ac(){if("object"!==typeof x)return!1;na.modalConfirmText&&x.setConfirmMessageText(na.modalConfirmText);na.modalConfirmLinkText&&x.setConfirmLinkText(na.modalConfirmLinkText);na.modalCancelLinkText&&x.setCancelLinkText(na.modalCancelLinkText)}function Tb(d,a,b,c){if(!ob[d]||!ob[d].custom)ob[d]={},ob[d].html='<div class="'+a+'">'+(na[d]||b)+"</div>",ob[d].screen=c}function Gc(d,
a){var b=[];F(ob,function(d){b.push(d)});A(b,d)&&(ob[d].html=a,ob[d].custom=!0)}function Bc(d){o=d;o.flow=M();"undefined"===typeof Jd&&(Jd=d);Te();"object"!==typeof o.layouts&&(o.layouts={});"object"!==typeof o.layouts.captureAccessDeniedBuiltIn&&(o.layouts.captureAccessDeniedBuiltIn={});o.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:ob.accessDenied.html;"object"!==typeof o.layouts.captureRetrievingUserDataBuiltIn&&
(o.layouts.captureRetrievingUserDataBuiltIn={});o.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:ob.retrievingUserData.html;"object"!==typeof o.layouts.captureDialogBuiltIn&&(o.layouts.captureDialogBuiltIn={});o.layouts.captureDialogBuiltIn.html=ob.dialog.html;o.screens.janrainDialog=ob.dialog.screen;for(d=0;d<$c.length;d++)o.fields[$c[d].field][$c[d].attribute]=$c[d].value}
function pc(d){if(X.isCloneable(d))if(uc)for(var a in d){if(va(d,a)){var b=d[a];X.isCloneable(b)&&pc(b);if(eb(b)&&"settings"===b.valueSource&&"undefined"!==typeof b.key&&"undefined"!==typeof b["default"]){var c=uc[b.key];"undefined"===typeof c&&(c=b["default"]);d[a]=c}}}else n.forceError("_clientSettings doesn't exist: did _clientSettings fail to load from the server?")}function Jc(d){var a={},b=!1;F(d.fields,function(c,e){void 0!==e.value&&!d.fields[e.value]&&(void 0!==Bd[c]&&!Ee(Bd[c],e.value)&&
(b=!0,a[c]={oldValue:Bd[c],newValue:e.value}),Bd[c]=e.value)});b&&janrain.events.onCaptureFieldsChanged.fire(a)}function Rb(d,a){F(d.fields,function(b,c){if((!d.form||a)&&c.doNotPrePopulate)c.value=""})}function aa(){Wd.push(arguments);if(window.console){var d=arguments;d.callee=d.callee.caller;d=[].slice.call(d);g?console.log(d):console.log.apply(console,d)}}function bb(){function d(d,a,b){a&&a.screenConditionals?Vb(a.screenConditionals,b):"function"===typeof b&&b()}function a(d){janrain.events.onCaptureAccessDenied.fire();
Ra=!0;be="accessDenied";f({layout:"captureAccessDeniedBuiltIn",modal:d.modal,source:"server"})}function b(d){var a,r=Aa();switch(d){case "email":(d=Ja&&Ja.verification_code?Ja.verification_code:"")?(a=wa({capture_transactionId:r,verification_code:d}),k("/widget/email_code.jsonp",a),Ba(r),aa("need to verify "+d)):aa("no code supplied");break;case "password":(d=Ja&&Ja.code?Ja.code:"")?(aa("need to verify "+d),a=wa({capture_transactionId:r,code:d}),k("/widget/email_code.jsonp",a),Ba(r)):aa("no code supplied");
break;case "reactivate":(d=Ja&&Ja.reactivation_code?Ja.reactivation_code:"")?(aa("need to verify "+d),a=wa({capture_transactionId:r,reactivation_code:d}),k("/widget/reactivate_account.jsonp",a),Ba(r)):aa("no code supplied")}Ue=!0}function E(d){d&&(Oc=d.validateOnRender);if(!Ue){if(d&&"changePasswordLink"===d.dataType&&!d.errors)return b("password"),!1;if(d&&"verifyEmail"===d.dataType&&!d.errors)return b("email"),!1;if(d&&"reactivateAccount"===d.dataType&&!d.errors)return b("reactivate"),!1}var c=
d.dataType&&"public"===d.dataType;if(d&&d.hasUserData&&!o.fused||d&&d.hasUserData&&c&&!o.privacyFiltered)return c=d.dataType&&"public"===d.dataType,!ia&&!c?a(d):(Ra=!0,be="retrievingUserData",f({layout:"captureRetrievingUserDataBuiltIn",modal:d.modal,source:"server"}),kc(c)),h(),!1;if(!ia&&d&&d.requireAccessToken)return a(d),h(),!1;Ra=!1;f(d);h();Gd&&(Gd=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))}function e(a,b){if(fe)setTimeout(function(){e(a,
b)},50);else{b&&b.type&&"completeSocialRegistration"===b.type&&(Id=!0);if(gb&&b&&(o.noModalForMobile||b.noModalForMobile))b.modal=!1;if(gb&&b&&(o.modalForMobile||b.modalForMobile))b.modal=!0;U?(da=a,O="capture_"+da+"_",d(a,b,function(){E(b)})):setTimeout(function(){e(a,b)},50)}}function f(d){if(Z&&Z.div&&(!d.modal||Z.modal&&d.modal)&&!d.keepPreviousScreen)Z.div.style.display="none";var a=d.layout,b=d.source,r=d.modal,d=!!d.modalLoadOnLoad;if("server"===b){var m=document.getElementById(a);m||(m=document.createElement("div"),
m.setAttribute("id",a));try{wc[a]?Y.html=wc[a]:(Y.html=o.layouts[a].html,wc[a]=Y.html)}catch(c){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===b)try{if(m=document.getElementById(a))wc[a]&&!1!==janrain.settings.capture.saveLayouts?Y.html=wc[a]:(Y.html=m.innerHTML,wc[a]=Y.html);else throw Y.html="",ea(a);}catch(E){throw aa(E.name+": "+E.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");
}q(m).append("janrain-capture-ui").append("capture-ui-content").append("capture_screen_container");gb&&(q(m).append("janrain-capture-ui-mobile"),Ka.onOrientationChange.addHandler(function(d){q(m).append("janrain-capture-ui-mobile-"+d.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[d.orientation]);janrain.events.onCaptureContentChange.fire()},!0),Ka.onOrientationChange.fire({orientation:Ka.getOrientation()}));Y.div=m;Ra||Y.div.setAttribute("data-capturescreenname",
da);ab&&"captureRetrievingUserDataBuiltIn"!==ab.id&&!Z.modal&&r&&(hb=ab);ab=Y.div;Y.modalLoadOnLoad=d;Y.source=b;Y.modal=r;Z=Y;"undefined"===typeof ge[da]&&(ge[da]={});ge[da].layout=Y}function g(d,a){var b=d.element,r=d.type;A(["data","capture","widget"],d.element)||(b="html",r=d.element);if("object"===typeof d.displayCondition&&"undefined"!==typeof d.displayConditionPassed&&!1===d.displayConditionPassed)return!1;if(d.close)return v.render.html.close(d);if(v.render[b]&&v.render[b][r])return n.log("jtl",
"Rendering {* "+r+" *}, type: "+b+"."+r),v.render[b][r](d,a);b='Invalid JTL tag "'+d.name+'" with element "'+d.element+'"';d.type&&(b+=' and type "'+d.type+'"');n.forceError(b);return!1}function h(){fe=!0;janrain.events.onCaptureRenderStart.fire(o);Na=[];o.fields.submitButton||(o.fields.submitButton={element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",elementName:"capture_submit",value:"Submit"});o.fields.loginWidget||(o.fields.loginWidget={element:"widget",type:"login"});
o.fields.shareWidget||(o.fields.shareWidget={element:"widget",type:"share"});o.fields.backButton||(o.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});o.fields.captcha||(o.fields.captcha={element:"capture",type:"captcha"});o.fields.keepMeLoggedIn||(o.fields.keepMeLoggedIn={element:"capture",type:"keepMeLoggedIn"});o.fields.errorMessages||(o.fields.errorMessages={element:"capture",type:"errorMessages"});o.fields.savedProfileMessage||(o.fields.savedProfileMessage=
{element:"capture",type:"savedProfileMessage"});Y.originalHtml=Y.html;Y.flow=o;Y.html=l(Y.html);Y.div.innerHTML=Y.html;if("server"==Y.source){if(!document.getElementById("janrainCaptureWidget")){var d=document.createElement("div");d.id="janrainCaptureWidget";document.body.appendChild(d)}document.getElementById("janrainCaptureWidget").appendChild(Y.div)}if(!Ra){for(var d=0,a=yd.length;d<a;d++)xb(document.getElementById(yd[d]),!1);yd=[]}i();j();for(d=0;d<Na.length;d++){a=document.getElementById(O+Na[d].elementName);
if(!a){n.forceError("Couldn't find the \""+Na[d].elementName+'" form. Is it being placed inside another form?');break}Na[d].next&&Na[d].next.type&&"server"===Na[d].next.type?a.setAttribute("next",'{"noop":""}'):Na[d].next?(Na[d].next.conditional&&a.setAttribute("next",K.stringify(Na[d].next)),Na[d].next.screen&&a.setAttribute("next",K.stringify(Na[d].next)),Na[d].next.url&&a.setAttribute("next",K.stringify(Na[d].next)),Na[d].next.action&&a.setAttribute("next",K.stringify(Na[d].next))):a.setAttribute("next",
'{"noop":""}')}s();Z=Y;janrain.events.onCaptureContentChange.fire()}function l(d){for(var a=/\{\*(.*?)\*\}/,b=/^\s*\/\s*/,r=/^\s*#\s*/,m=/\{(.*?)*\}\s*/,c=!1,E,e=[],f=[];E=a.exec(d);)try{var ga=E[1].trim();if(m.test(ga))var h=ga.match(m),ga=ga.replace(h[0],"").trim(),Md=h[0].match(/\{(.*?)*\}\s*/)[0];else Md=null;c=!1;r.test(ga)&&(ga=ga.replace("#","").trim(),c=!0);if(b.test(ga)){var j=ga.replace("/",""),i={};if("undefined"==typeof o.fields[j])return aa("No field definition for"+j,"error"),n.error("No field definition for"+
j+" error"),B;i.element=o.fields[j].element;i.type=o.fields[j].type;i.close=!0}else{if("undefined"==typeof o.fields[ga])return aa("No field definition named "+ga+" for tag "+E[0],"error"),n.error("No field definition named "+ga+" for tag "+E[0]+" error"),B;i=o.fields[ga];i.name=ga;c&&(i.start=!0);if("form"===i.element&&!i.transactionId){var k=Aa();i.transactionId=k}i.elementName=i.elementName||ga}var Md=Md||null,lc=g(i,Md);lc||(lc=" ");lc+="";lc=lc.replace(/\$/g,"$$$$");d=d.replace(E[0],lc);(i.next||
"form"===i.element&&!i.close)&&Na.push({elementName:i.elementName,next:i.next});i.onclickHandler&&w.push({elementName:i.elementName,handler:i.onclickHandler,eventType:"click"});i.onchangeHandler&&w.push({elementName:i.elementName,handler:i.onchangeHandler,eventType:"change"});"string"===typeof i.element&&"form"===i.element&&!i.close&&(w.push({elementName:i.elementName,handler:Mb,eventType:"submit"}),janrain.settings.capture.autoSave&&!gb&&w.push({elementName:i.elementName,handler:Ya,eventType:"render"}));
if("form"===i.element&&("widget/traditional_register.jsonp"===i.action||"widget/social_register.jsonp"===i.action))f.push("widget/traditional_register.jsonp"===i.action?"traditionalRegister":"socialRegister");if("form"===i.element&&"widget/traditional_signin.jsonp"===i.action||"widget"===i.element&&"login"===i.type)e.push("widget/traditional_signin.jsonp"===i.action?"traditionalSignin":"socialSignin")}catch(p){return aa(p.name+": "+p.message,"error"),!1}e.length&&janrain.events.onCaptureLoginStart.fire({action:e.join(","),
screen:da});f.length&&janrain.events.onCaptureRegistrationStart.fire({action:f.join(","),screen:da});return d}function j(){Y.div.getAttribute("data-captureventadded")||(y(Y.div,"click",function(d){var a=N(d);if(a&&a.nodeName&&"A"===a.nodeName){var b=a.getAttribute("data-capturecontrol");b&&(jb(b),S(d));a.getAttribute("data-cancelcapturereturnexperience")&&Zc&&(janrain.capture.ui.setNoReturnExperience(),S(d));if((a=a.getAttribute("data-modalwindow"))&&"object"===typeof x)"close"===a&&(janrain.capture.ui.modal.close(),
S(d)),"closeconfirm"===a&&(janrain.capture.ui.modal.closeConfirm(),S(d))}}),Y.div.setAttribute("data-captureventadded",!0));for(var d=Y.div.getElementsByTagName("img"),a=d.length,b=0;b<a;b++)y(d[b],"load",function(){janrain.events.onCaptureContentChange.fire()});d=$(janrain.settings.capture.modalOpenClass||"capture_modal_open");a=d.length;if(!Ne){for(b=0;b<a;b++)y(d[b],"click",function(d){"object"===typeof x?(janrain.capture.ui.renderScreen(Z.flow.defaultScreen),x.setShowContentOnLoad(!0).addContent(Z.div).show(),
Q=!1,janrain.events.onCaptureScreenShow.fire({screen:da}),janrain.events.onCaptureContentChange.fire()):Me=!0;S(d)});Ne=!0}}function i(){if(o.cssDependencies&&t(o.cssDependencies))for(var d=0;d<o.cssDependencies.length;d++)W(o.cssDependencies[d]);ce&&Ld&&!u?kf(janrain.events.onCssLoad,function(d){Y=Z;le.push(d.source);for(d=0;d<ce;d++)if(-1==le.indexOf(xd[d]))return!1;u||(p(),u=!0)}):p();fe=!1;d={flow:o,renderingBuiltInScreen:Ra,screen:da};Ra&&(d.builtInScreenRendered=be);janrain.events.onCaptureRenderComplete.fire(d);
o.screens&&o.screens[da]&&o.screens[da].type&&"completeSocialRegistration"===o.screens[da].type&&(rc(ia),La(!0))}function p(){var d=!1,a=!1;if(Y.modal){if("object"===typeof x){var d=!0,b=x.getContent();b&&document.body.appendChild(b);x.close(!0)}else x=new td,Ac();Le||(a=!0,janrain.events.onModalClose.addHandler(function(){o&&o.mergeToken&&(o.mergeToken="");ab=hb},!0),Le=!0);x=c(x);x.setShowContentOnLoad(!0).addContent(Y.div);a&&janrain.events.onCaptureModalReady.fire();if(d||Y.modalLoadOnLoad||Me||
Q)x.show(),Q=!1,janrain.events.onCaptureScreenShow.fire({screen:da})}else"object"===typeof x&&x.close(!0),Q=!1,janrain.events.onCaptureScreenShow.fire({screen:da});Y.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function s(d){for(var d=d||w,a=0;a<d.length;a++)if("function"===typeof d[a].handler)if("render"===d[a].eventType)d[a].handler(O+d[a].elementName);else{var b=document.getElementById(O+d[a].elementName);y(b,d[a].eventType,d[a].handler)}w=[]}var Y={},v,B=na.humanReadableGenericErrorMessage||
"Error displaying information";v=new z;Xc=new ha;return{setScreenData:e,render:h,renderField:g,attachEventHandlers:s}}function jc(d,a){for(var b=[],c=document.getElementById(d).getElementsByTagName("INPUT"),e=c.length,f=0;f<e;f++){var g={};g.id=c[f].id;g.placeholder=c[f].getAttribute("placeholder");if(Rc||a)Yc[c[f].getAttribute("data-capturefield")]=c[f].value;g.value=g.placeholder?g.placeholder===c[f].value?"":c[f].value:c[f].value;"radio"===c[f].type&&(g.type="radio",g.checked=c[f].checked);b.push(g)}return b}
function kc(d,a){var b="function"===typeof a?a:function(){};if(d){var c=gd||Ja.uuid||"";gd&&(gd="");c?(aa("need to get data for "+c),l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:b,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"},{elementName:"uuid",elementType:"hidden",elementValue:c}]})):aa("no uuid supplied")}else{if(!ia)return!1;l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+
"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:b,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function k(d,a,b){0!==d.indexOf("http")&&(d=janrain.settings.capture.captureServer+d);ua(pd(d,a),b)}function B(d,a){var b={},c=d&&d.userData&&d.userData.migratedUserType?d.userData.migratedUserType:null,e=a?Sc:ad;za&&!a&&(b.capture_social_registration=za);ia&&a&&(b.capture_complete_social_registration=ia);me&&(b.authProvider=me);c&&(b.migratedUserType=
c);La();var c=e,e=location,f=c;c.match(/^http[s]*:\/\//)||(f=e.pathname.split("/"),f.length-=1,f.push(c),f=e.protocol+"//"+e.host+f.join("/"));b=pd(f,b);window.location=b}function Lc(d,a){var b=!1,c;if("ok"===d.stat&&(c=d.result,c.accessToken&&(c.oneTime?L=c.accessToken:(ba(c.accessToken),L=null)),c&&zc(c),me=c&&c.authProvider?c.authProvider:null,Pe=c&&c.authProfileData?c.authProfileData:{},c&&c.screen&&o.screens&&o.screens[c.screen]&&o.screens[c.screen].type&&"completeSocialRegistration"===o.screens[c.screen].type&&
j(),"socialSignin"===c.action&&"success"===c.status&&"noUserForIdentifier"===c.statusMessage||"socialSignin"===c.action&&"success"===c.status&&janrain.settings.capture.socialRegistrationRedirectUrlCondition)){var e=janrain.settings.capture.socialRegistrationRedirectUrlCondition;if(e){var f=[];F(e,function(d,a){c[d]===a||c.userData&&c.userData[d]===a?f.push(!0):f.push(!1)})}ad&&"noUserForIdentifier"===c.statusMessage&&(b=!0,B(c));Sc&&e&&!A(f,!1)&&(b=!0,B(c,!0))}"function"===typeof a&&!b&&a(c)}function Nc(d){function a(d){return'<li><a href="#" class="capture_suggestion">'+
d+"</a></li>"}var b=d.result,d=p(b.submittedScreen),c=o.fields[b.field],e=document.getElementById(d+(c.elementId||c.elementName||b.field)),f=b.alternatives,g=c.validation.messages.unique||"",h=document.getElementById(d+"form_item_"+(c.elementName||b.field)),i=new l.validation;i.setElement(e);i.setParentDiv(h);if(!1===b.unique){if(f){var f=f.map(a),j=function(d){var a=N(d);q(a).has("capture_suggestion")&&(e.value=a.innerHTML,zb(h,"click",j),i.valid(),S(d))};i.notValid(g+'<ul class="capture_suggestions">'+
f.join("")+"</ul>",function(){y(h,"click",j)})}else i.notValid(g);i.setUnique(!1)}else{if(b=Ca(c,"validation.unique.alongWith"))(d=document.getElementById(d+"form_item_"+o.fields[b].elementName))&&q(d).append("capture_validated").remove("capture_validating").remove("capture_error");i.valid();i.setUnique(!0)}}function Pc(d){var a=[];o&&o.fields&&F(o.fields,function(b,c){c&&c.type&&c.type===d&&a.push(c)});return a}function Qc(d,a){janrain.events.onCaptureError.fire("object"===typeof d?d:"{"+d+"}");
if(d.result&&d.result.error&&("access_token_expired"===d.result.error&&(La(),janrain.events.onCaptureExpiredToken.fire()),"invalid_argument"===d.result.error&&"malformed access token"===d.result.errorDescription&&(La(),janrain.events.onCaptureInvalidToken.fire()),"linkError"===d.result.error)){var b=Pc("linkAccounts"),c=b.length?b[0]:{},b=c.messages&&c.messages.errors&&c.messages.errors.linkError?c.messages.errors.linkError:"That account is already in use.",e=C().getCookie("expected_tab");if(x&&x.isOpen()&&
(c=c&&c.linkAccountContainer?$("capture_"+c.linkAccountContainer,document.getElementById("janrainModal")):!1)){for(var f=$("capture_form_error_container",c[0]),c=0,g=f.length;c<g;c++)f[c].innerHTML='<div class="capture_form_error">'+b+"</div>";var h=janrain.events.onModalClose.addHandler(function(){G(f,function(d){d.innerHTML=""});janrain.events.onModalClose.removeHandler(h)})}janrain.events.onCaptureLinkAccountError.fire({message:b,provider:e})}janrain.settings.custom||janrain.engage.signin.widget.refresh();
b=d.result.customError||d.result.error+": "+d.result.errorDescription;Uc(b,d.result.error)||alert(b);aa(d);"function"===typeof a&&a()}function Uc(d,a){if(ab){var b={classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()};a&&b.classes.push("capture_errortype_"+a.replace(/ /g,"").toLowerCase());b=l.domHelpers.createDiv(b);b.innerHTML=d;ab.insertBefore(b,ab.firstChild);janrain.events.onCaptureContentChange.fire()}return ab}function Wc(d,a){if("string"!==typeof d||!janrain.settings.capture.setProfileCookie)return!1;
var b=new C,c;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureProfileData",function(b){b.length&&(c=K.parse(b),"function"===typeof a&&"object"===typeof c&&a(c[d]))});else if((b=b.getCookie("janrainCaptureProfileData"))&&b.length)if(c=K.parse(b),"object"===typeof c)return c[d]}function kd(d,a){if("string"!==typeof d||!janrain.settings.capture.returnExperienceUserData)return!1;var b=new C,c;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureReturnExperienceData",
function(b){b.length&&(c=K.parse(b),"function"===typeof a&&"object"===typeof c&&a(c[d]))});else if((b=b.getCookie("janrainCaptureReturnExperienceData"))&&b.length)if(c=K.parse(b),"object"===typeof c)return c[d]}function Hc(d){var a=C();return A(["expected_tab","welcome_info_name","login_tab"],d)&&(d=a.getCookie(d))?unescape(d):""}function md(){var d=document.createElement("div");d.className="capture_btn capture_processing";d.innerHTML=na.processing||"Processing";return d}function Ic(d,a){o&&d&&a&&
o.screens&&o.screens[d]&&o.screens[d].dataType&&"public"===o.screens[d].dataType?(!o._uuid||o._uuid&&o._uuid!==a||!o.privacyFiltered?(gd=a,o.fused=!1):gd="",Q=!0,janrain.capture.ui.renderScreen(d)):aa("Cannot get public flow and show screen.")}function od(d,a){if(!d)throw Error("postCaptureForm requires you supply a form name.");var b=o.fields[d];if(!b)throw Error("postCaptureForm Error: no form called "+d+" found in the flow.");if(!b.element||"form"!==b.element)throw Error("postCaptureForm Error: the field called "+
d+" found in the flow is not a form.");var c=b.fields;if(!c)throw Error("postCaptureForm Error: the form called "+d+" has no fields defined.");for(var b=b.action,e=ta(40),f={},g={fieldPrefix:"capture_postForm_"+e+"_",elementId:d,name:d,fields:[],elementAction:janrain.settings.capture.captureServer+"/"+b,needsResponse:!0},b=0,h=c.length;b<h;b++){var i={};if(a)i.elementValue=a[c[b]];else{var j=Sb.getByName(c[b]);i.elementValue=j?j.getValue():void 0}"undefined"!==typeof i.elementValue&&(f[c[b]]=!0,i.elementType=
"hidden",i.fieldPrefix=g.fieldPrefix,i.elementId=c[b]+"_"+e,i.elementName=i.name=c[b],g.fields.push(i))}F(a,function(d,a){if(!f[d]){var b=d.match(/(.*)\[(.*)\]/),r=d;b&&(r="display"===b[1]?b[2]:b[1]);if(A(c,r))g.fields.push({elementType:"hidden",fieldPrefix:g.fieldPrefix,elementValue:a,elementId:d+"_"+e,elementName:d,name:d});else throw Error('postCaptureForm Error: No field named "'+r+'" found in the flow.');}});l.domHelpers.createFormAndPost(g)}var Kc=function(){function d(d){this.attributes=d&&
xa({},d)||{};this.time=(new Date).getTime();return this}d.prototype={set:function(d,a){var b=this,r=!1,c;eb(d)&&(c=d);"string"===typeof d?(r=this.attributes[d]!==a,this.attributes[d]=a):c&&F(c,function(d,a){r=r||b.attributes[d]!==a;b.attributes[d]=a});r&&(this.time=(new Date).getTime());return this},get:function(d){return this.attributes[d]},destroy:function(){this.attributes={};this.time=(new Date).getTime();return this},each:function(d,a){var a=a||this,b;for(b in this.attributes)va(this.attributes,
b)&&d.call(a,b,this.attributes[b]);return this}};for(var a=["focused","checked","value","name","valid"],b=0,c=a.length;b<c;b++)(function(a){var b=a.charAt(0).toUpperCase()+a.slice(1);d.prototype["set"+b]=function(d){return this.set(a,d)};d.prototype["get"+b]=function(){return this.get(a)}})(a[b]);return d}(),w=[],Xc,fe=!1,Db,xc=janrain.settings.capture.language||janrain.settings.language||"en-US",Na=[],da,ge={},O,Zc,Gd=!1,Hd=!1,Oc,yc=[],ud=janrain.settings.capture.maxScreenHistory||3,Z={},$c=[],Jd,
he={},Rc=janrain.settings.capture.mode13||!1,ad=janrain.settings.capture.socialRegistrationRedirect,Sc=janrain.settings.capture.socialRegistrationCompleteRedirect,Id=!1,bd=!1,cd=!1,dd=!1,Yc={},Sb,Bd={},Q=!1,qb,Ra=!1,za,fc,$d=!1,ia,U=!1,L,de=!1,u=!1,o,uc,ja="",na={},hb,ab,Fd=!1,Tc=!1,T=janrain.settings.capture.backplaneVersion||"1.2",$a="1.2"===T+""?"backplane.js":"backplane"+T+".js",Za=janrain.settings.capture.backplaneLibrary||(janrain.settings.enforceSecureCloudfront?"https://ssl-cdn.janrainbackplane.com/":
"https://d134l0cdryxgwa.cloudfront.net/")+$a,vd=janrain.settings.capture.backplaneServerBaseUrl||"https://backplane1.janrainbackplane.com/v"+T,Pd=janrain.settings.capture.backplaneBlock||20,v=janrain.settings.capture.backplaneReplayOnPageLoad||!1,wc={},ca={},Kd=[],wd=[],Ta=[],Ua=[],Ia=[],Ld=!1,Qd=janrain.settings.capture.accessTokenLifeHours||1,nb="placeholder"in document.createElement("input"),Vc=!1,mb=!1,ae,x,Me=!1,Ne=!1,Le=!1,xd=[],ce=0,yd=[],Ad="HEAD",Oe=!1,ob={},be,zd={},vc=0,ec=[],Ed=!1,Cd=
!1,Qb={},Dd=[],ee;a=0;var Ja=Bb(window.location.href).queryKey,nc=Ze(location.hash.replace("#",""),/[&,]/),gd,hd,me,Pe,Ve="Validating",Ue=!1,We="widget/traditional_register.jsonp,widget/traditional_signin.jsonp,widget/token_url.jsonp,widget/social_register.jsonp,widget/public_profile.jsonp,widget/recover_password.jsonp,widget/email_code.jsonp,widget/reactivate_account.jsonp".split(","),le=[],ne={};_recaptchaVersion=janrain.settings.capture.recaptchaVersion||1;yc.push=function(){Array.prototype.push.apply(this,
arguments);this.length>ud&&this.shift();return this.length};"en"===xc&&(xc="en-US");ad&&Ja&&Ja.capture_social_registration?za=Ja.capture_social_registration:nc.engageToken&&(fc=za=nc.engageToken,location.hash=location.hash.replace(RegExp("[&,]*engageToken="+za),""));za&&(dd=!0);zd.publicPrivateTogglers=[];ha.prototype.check=function(d,a,b){if(a.validation&&!0!==a.validation.noTrim&&"string"===typeof d.value&&("text"===d.type||"email"===d.type))d.value=d.value.trim();var a=a||o.fields[d.name],c=d.getAttribute("data-capturerendererchildfieldname"),
c=c&&a.validation&&a.validation[c]?a.validation[c]:c&&"dateselect"!==a.type?!1:a.validation;if(!a.validation||!c)return!0;c.messages||(c.messages={});if(!this.hasValue(d,a,c))return{valid:!1,reason:c.messages.required||"Field not completed",type:"required"};if(!this.isDate(d,a,c))return{valid:!1,reason:c.messages.isDate||"Not a valid date",type:"notDate"};if(!this.isValidMaxFileSize(d,a,c))return{valid:!1,reason:c.messages.maxFileSize||"File is too large",type:"maxFileSize"};if(!this.isValidFileType(d,
a,c))return{valid:!1,reason:c.messages.validFileTypes||"File is not a valid file type",type:"fileType"};if(!this.isValidMinYears(d,a,c))return{valid:!1,reason:c.messages.minYears||"Not old enough",validation:{minYears:c.minYears},type:"minYears"};if(!this.isValidMinLength(d,a,c))return{valid:!1,reason:c.messages.minLength||"Invalid length",type:"minLength"};if(!this.isValidMaxLength(d,a,c))return{valid:!1,reason:c.messages.maxLength||"Invalid length",type:"maxLength"};if(!this.isValidMaxNumericLength(d,
a,c))return{valid:!1,reason:c.messages.maxNumericLength||"Invalid number of numeric characters",type:"maxNumericLength"};if(!this.isValidFormat(d,a,c))return{valid:!1,reason:c.messages.format||"Invalid format",type:"format"};if(!this.isValidMatch(d,a,c))return{valid:!1,reason:c.messages.match||"Invalid match",type:"match"};var e=this.custom(d,a,c);if(!e)return"undefined"===typeof e?{pending:!0}:{valid:!1,reason:c.messages.custom||"Invalid",type:"custom"};e=oa&&oa[d.id]&&"undefined"!==typeof oa[d.id].unique&&
!1===oa[d.id].unique;return c.unique&&!c.unique.uniquenessBlacklist&&(!b||e)?(b=document.getElementById(p(d)+"form_item_"+d.getAttribute("name")),this.isUnique(d,b,a,function(){}),{pending:!0}):{valid:!0}};ha.prototype.custom=function(d,a,b){if(!a||!b.custom||"function"!==typeof oe[b.custom])return!0;var c=new l.validation,a=document.getElementById(p(d)+"form_item_"+a.elementName);c.setParentDiv(a);c.setElement(d);return oe[b.custom](d.name,d.value,c)};ha.prototype.getRating=function(d){var d=d.value,
a=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],b=0,c;c=Math.min(8,Math.floor(3*Math.log(d.length+1)));for(var e=0;e<a.length;e++)a[e].test(d)&&b++;return c+=Math.floor(Math.pow(2,b)/2)};ha.prototype.isValidMaxNumericLength=function(d,a,b){if(!a)return!0;a=b.maxNumericLength;if(!a)return!0;d=d.value.match(/(\d)/g);t(d)&&d.length>a&&b.actions&&b.actions.maxNumericLength&&ec.push(b.actions.maxNumericLength);return t(d)?d.length<=a:!0};ha.prototype.isValidMaxLength=function(d,a,b){d=d.value;if(!a)return!0;
a=b.maxLength;if(!a)return!0;d.length>a&&b.actions&&b.actions.maxLength&&ec.push(b.actions.maxLength);return d.length<=a};ha.prototype.isValidMinLength=function(d,a,b){d=d.value;if(!a)return!0;a=b.minLength;if(!a)return!0;d.length<a&&b.actions&&b.actions.minLength&&ec.push(b.actions.minLength);return d.length>=a};ha.prototype.isValidMaxFileSize=function(d,a,b){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==d.type)return!0;a=b.maxFileSize;return!a?!0:d.files[0].size<
a};ha.prototype.isValidFileType=function(d,a,b){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==d.type)return!0;a=b.validFileTypes;return!t(a)?!0:A(a,d.files[0].type)};ha.prototype.isDate=function(d,a,b){if((!a||"dateselect"!==a.type)&&!b.isDate)return!0;var c=Ha(d,a);if(c)a=Be(c);else{if(!(b=b.required))a.name||(a.name=d.getAttribute("data-capturerendererfield")?d.getAttribute("data-capturerendererfield"):d.getAttribute("data-capturefield")),b=p(d),d=document.getElementById(b+
a.name+"_dateselectmonth"),d=d.options[d.selectedIndex].value,c=document.getElementById(b+a.name+"_dateselectday"),c=c.options[c.selectedIndex].value,a=document.getElementById(b+a.name+"_dateselectyear"),a=a.options[a.selectedIndex].value,b=!(!d&&!c&&!a);a=b?!1:!0}return a};ha.prototype.isValidMinYears=function(d,a,b){if(!a||"dateselect"!==a.type)return!0;a=Ha(d,a);d=b.minYears;if(!Be(a)||!d)return!0;var c=new Date,a=Math.abs(((new Date(a)).getTime()-c.getTime())/864E5),a=Math.floor(a/365.242199);
a>=d||b.actions&&b.actions.minYears&&ec.push(b.actions.minYears);return a>=d};ha.prototype.hasValue=function(d,a,b){var c;if("select"===a.element)c=d.options[d.selectedIndex].value;else if("checkbox"===a.type&&!("multiCheckbox"===a.element||"multiRadio"===a.element))c=d.checked;else if("multiCheckbox"===a.element||"multiRadio"===a.element)if(c=a.elementName){c=document.getElementsByName(c);for(var e=c.length,f=[],g=0;g<e;g++)c[g].checked&&f.push(c[g]);c=f.length}else c=!1;else c=d.value;if(!a||!b.required)return!0;
if("dateselect"===a.type)return c=Ha(d,a),!c?!1:!0;c||b.actions&&b.actions.required&&ec.push(b.actions.required);return c};ha.prototype.isUnique=function(d,a,b,c){var a=d.form.getAttribute("data-capturefield"),b=d.getAttribute("data-capturefield"),a=wa({value:d.value,form:a,capture_screen:J(d),field:b}),e={};G(d.form,function(d){Ca(o.fields[b],"validation.unique.alongWith")===d.name&&(e[d.name]=d.value)});a=xa(a,e);if(d=o.fields[b])if(d=d.idFieldElementId)if(d=document.getElementById(d))a.pluralId=
d.value;ia&&(a.access_token=ia);Db&&(a.flow_path=Db);k("/widget/unique.jsonp",a,c)};ha.prototype.isBlacklisted=function(d,a,b){function c(){var a=d.value,b=response;if(!b||0===b.length)return!0;for(var r,m=0;m<b.length;m++)if(r=RegExp("^"+b[m]+"$","i"),r.test(a))return!0;return!1}captureUIBlacklistCallback=function(d){b(c(d))};t(a)?b(c(a)):"string"===typeof a?captureUIBlacklistCallback(["chad"]):b(!0)};ha.prototype.isValidFormat=function(d,a,b){var c={alpha:/^[a-z]+$/i,numeric:/^(\d+)$/,numericReal:/^(\d+\.?\d*|\.\d+|\-\d+\.?\d*|\-\.\d+)$/,
alphaExtended:/^[a-zA-Z\-']+$/,alphaExtendedSpaces:/^[a-zA-Z\-'\s]+$/,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,noWhitespace:/^\S*$/,zipCode:/^\d{5}$/,"zipCode+4":/^\d{5}(\-\d{4})?$/,phone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,phoneInternational:/^(\d{1,4}[-. ]?)?\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!a||!b.format)return!0;
a=b.format;if("string"===typeof a&&c[a])a=c[a];else return!1;(d=a.test(d.value))||b.actions&&b.actions.format&&ec.push(b.actions.format);return d};ha.prototype.isValidMatch=function(d,a,b){if(!a)return!0;a=b.match;if(!a)return!0;a=o.fields[a];a=p(d)+(a.elementId||a.elementName);a=document.getElementById(a);d.value!==a.value&&b.actions&&b.actions.match&&ec.push(b.actions.match);return d.value===a.value};var l={autoSelectPreferredTab:function(d,a){var b=(new C).setUseLocalStorage(!0),b=parseInt(b.getCookie("janrainCaptureSelectedTab"),
10);isNaN(b)&&"capture_selected_tab"in Ja&&(b=parseInt(Ja.capture_selected_tab));isNaN(b)||(b=d.collection[b])&&w.push({elementName:a+"_"+b.elementName,handler:function(d){var a=document.getElementById(d);setTimeout(function(){a.click()},0)},eventType:"render"})},getValueFromObject:function(d,a,b){a=Ca(a,b);void 0!==d.trueValueReplace&&a?a=d.trueValueReplace:void 0!==d.falseValueReplace&&!a&&(a=d.falseValueReplace);!a&&!1!==a&&0!==a&&(a="");return a},setElementAttributeWithLocalStorage:function(d,
a,b){var c=d.profileStoragePath.split("."),e=c.shift(),f=c.join(".");w.push({handler:function(){function c(d){var e=document.getElementById(a);return e&&(d||!e.getAttribute("placeholder"))?(e[b]=d,!0):!1}janrain.settings.multiDomainLocalStorage?Wc(e,function(a){c(l.getValueFromObject(d,a,f))}):c(l.getValueFromObject(d,Wc(e),f))},eventType:"render"})},attachFieldEventHandlers:function(d){d.type||(d.type="");var a=d.elementId||d.elementName;w.push({elementName:a,handler:function(d){d=N(d);p(d);(d=rd(d,
"capture_form_item"))&&q(d).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()},eventType:Yd&&"checkbox"===d.type?"click":"focus"});w.push({elementName:a,handler:function(d){d=N(d);p(d);(d=rd(d,"capture_form_item"))&&q(d).remove("capture_focused")},eventType:"blur"});d.validation&&(w.push({elementName:a,handler:Lb,eventType:d.validation.eventType||"blur"}),d.validation.match&&"password"===d.type&&w.push({elementName:d.validation.match,handler:function(){setTimeout(function(){var d=
document.getElementById(O+a);xb(d,!1)},0)},eventType:"keydown"}));d.rendererFieldName&&d.rendererChildFieldName&&o.fields[d.rendererFieldName].validation&&o.fields[d.rendererFieldName].validation[d.rendererChildFieldName]&&w.push({elementName:d.rendererFieldName+"_"+d.rendererChildFieldName,handler:Lb,eventType:"blur"});if("password"===d.type){d.validation&&("function"===typeof d.validation.rating?w.push({elementName:a,handler:function(a){var a=cb(a),b=Xc.getRating(a);d.validation.rating(a,b)},eventType:"keyup"}):
d.validation.rating&&w.push({elementName:a,handler:function(d){d=cb(d);d=Xc.getRating(d);aa("Password Strength",d)},eventType:"keyup"}));for(var b=[],c=0,e=w.length;c<e;c++)w[c].elementName===a&&b.push(w[c]);w.push({elementName:a,handler:function(d){return l.togglePasswordInput(d,b)},eventType:"click"});w.push({elementName:a,handler:function(d){return l.togglePasswordInput(d,b)},eventType:"focus"})}if("text"===d.type||"password"===d.type||"email"===d.type)w.push({elementName:a,handler:l.clearPlaceHolder,
eventType:"focus"}),w.push({elementName:a,handler:l.restorePlaceHolder,eventType:"blur"})},attachModifyEventHandler:function(d){w.push({elementName:d.elementId||d.elementName,eventType:d.modify.event,handler:function(){var a=document.getElementById(d.modify.element),b=d.modify.attributes;if(b&&a)for(var c in b)b.hasOwnProperty(c)&&a.setAttribute(c,b[c])}})},wrapStringData:function(d,a,b){var c="",e=["capture_data_item"];b&&e.push(b);c+=l.createDiv({elementId:"stringdata_"+d.name,classes:e});d.label&&
(c+=l.createLabel({elementId:d.name,label:d.label,classes:["capture_data_label"]}));c+=l.createDiv({elementId:d.name,classes:["capture_data"]});return c+a+"</div></div>"},wrapFormItemStart:function(d){var a="",b=[],c=d.classes||[],e="elementCollection"===d.type?"form_collection":"form_item";if(d.justElement||"submit"===d.type||"button"===d.type)return"";-1===c.indexOf("capture_"+e)&&c.push("capture_"+e);d.errors&&-1===c.indexOf("capture_error")&&!d.collection&&c.push("capture_error");!d.collection&&
d.type&&-1===c.indexOf("capture_"+d.type)&&("checkbox"===d.type||"radio"===d.type?b.push("capture_"+d.type):c.push("capture_"+d.type));"elementCollection"===d.type&&d.displayInline&&-1===c.indexOf("capture_form_collection_inline")&&c.push("capture_form_collection_inline");d.collection?(-1===c.indexOf("capture_"+e+"_"+d.elementName)&&c.push("capture_"+e+"_"+d.elementName),d.checked&&c.push("capture_toggled"),a+=l.createDiv({elementName:e+"_"+d.elementId,hide:d.hide,classes:c})):a+=l.createDiv({elementName:e+
"_"+d.elementName,hide:d.hide,classes:c});if(("checkbox"===d.type||"radio"===d.type)&&!d.collection)a+=l.createDiv({elementName:e+"_inner_"+d.elementName,classes:b});return a},wrapFormItemEnd:function(d){return d.justElement||"submit"===d.type||"button"===d.type?"":"</div>"},createPublicPrivateToggle:function(d){function a(){for(var d=zd.publicPrivateTogglers,b=d.length,c=0;c<b;c++)d[c]&&(d[c].style.display="none");zd.publicPrivateTogglers=[]}function b(a){var c=N(a),r=p(c),m=document.getElementById(r+
"display_toggle_options_"+d.elementName),e=document.getElementById(r+"display["+(d.rendererFieldName||d.elementName)+"]"),E=function(){if(!t(d.publicPrivateBoundFields))return!1;var a=[];G(d.publicPrivateBoundFields,function(d){a.push(document.getElementById(r+"display["+d+"]"))});return a}(),f=document.getElementById(r+"display_indicator_public_"+d.elementName),g=document.getElementById(r+"display_indicator_private_"+d.elementName),h=r+"display_option_public_"+d.elementName,i=r+"display_option_private_"+
d.elementName,ga=c.parentNode?c.parentNode.id||"":"";if(ga===h||ga===i)c=c.parentNode;c.id===h?(e.value="public",E&&G(E,function(d){d.value="public"}),q(document.getElementById(h)).append("capture_checked"),q(document.getElementById(i)).remove("capture_checked"),e.value="public",q(f).append("capture_toggled"),q(g).remove("capture_toggled")):(e.value="private",E&&G(E,function(d){d.value="private"}),q(document.getElementById(h)).remove("capture_checked"),q(document.getElementById(i)).append("capture_checked"),
e.value="private",q(f).remove("capture_toggled"),q(g).append("capture_toggled"));P(e);m.style.display="none";S(a)}var c="",e=["capture_display_option"],f=["capture_display_option"];d.forcePublicPrivate&&("public"===d.forcePublicPrivate.toLowerCase()?d.displayPublic=!0:"private"===d.forcePublicPrivate.toLowerCase()&&(d.displayPublic=!1));c+=l.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+d.elementName});c+=l.createDiv({classes:["capture_display_toggle_options"],
elementId:"display_toggle_options_"+d.elementName});d.displayPublic&&e.push("capture_checked");c+=l.createDiv({classes:e,elementId:"display_option_public_"+d.elementName});c+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';d.displayPublic||f.push("capture_checked");c+=l.createDiv({classes:f,elementId:"display_option_private_"+d.elementName});c+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';
e=["capture_display_toggle","capture_public"];d.disablePublicPrivate&&e.push("capture_display_toggle_disabled");d.displayPublic&&e.push("capture_toggled");c+=l.createDiv({classes:e,elementId:"display_indicator_public_"+d.elementName});c+='&nbsp;<span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';f=["capture_display_toggle","capture_private"];d.disablePublicPrivate&&f.push("capture_display_toggle_disabled");d.displayPublic||f.push("capture_toggled");
c+=l.createDiv({classes:f,elementId:"display_indicator_private_"+d.elementName});c+='<span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';t(d.publicPrivateBoundFields)&&G(d.publicPrivateBoundFields,function(a){c+=l.createInput({type:"hidden",elementName:"display["+a+"]",value:d.displayPublic?"public":"private"})});c+=l.createInput({type:"hidden",elementName:"display["+(d.rendererFieldName||d.elementName)+"]",value:d.displayPublic?
"public":"private"});w.push({elementName:"display_toggle_wrap_"+d.elementName,eventType:"click",handler:function(b){var c=N(b),m=p(c),m=document.getElementById(m+"display_toggle_options_"+d.elementName),e="none"===m.style.display||""===m.style.display?"block":"none";c.parentNode&&q(c.parentNode).has("capture_display_toggle")&&(c=c.parentNode);q(c).has("capture_display_toggle")&&!q(c).has("capture_display_toggle_disabled")&&("block"===e&&(a(),zd.publicPrivateTogglers.push(m)),m.style.display=e);S(b)}},
{elementName:"display_option_public_"+d.elementName,handler:b,eventType:"click"},{elementName:"display_option_private_"+d.elementName,handler:b,eventType:"click"});Oe||(y(document.body,"click",function(d){d=N(d);d.parentNode&&q(d.parentNode).has("capture_display_toggle")&&(d=d.parentNode);!q(d).has("capture_display_toggle")&&!q(d).has("capture_display_option")&&a()}),Oe=!0);return c},createAnchor:function(d){var a="",b=d.fieldPrefix||O,c=d.elementId||d.elementName,e="object"===typeof d.elementAttributes?
d.elementAttributes:{},f=d.elementClasses&&t(d.elementClasses)?d.elementClasses:[];A(f,"capture_"+c)||f.push("capture_"+c);a=a+"<a "+("id='"+b+c+"' ");d.target&&(a+="target='"+d.target+"' ");a+="class='"+f.join(" ")+"' ";a+=Kb(e)+" ";a+="data-capturefield='"+d.name+"' ";a+="href='"+d.elementHref+"' ";a+="name='"+d.elementName+"' ";a+=">";d.elementText&&(a+=d.elementText);return a+"</a>"},createTextarea:function(d){var a="",b=d.fieldPrefix||O,c=d.elementId||d.elementName,e=d.elementClasses&&t(d.elementClasses)?
d.elementClasses:[],f=d.rows||"5",a=a+l.createLabel(d);A(e,"capture_"+c)||e.push("capture_"+c);A(e,"capture_textarea")||e.push("capture_textarea");a=a+"<textarea "+("id='"+b+c+"' ")+("class='"+e.join(" ")+"' ");a+="data-capturefield='"+d.name+"' ";a=a+("rows='"+f+"' ")+("name='"+d.elementName+"' ");d.placeholder&&nb&&(a+="placeholder='"+d.placeholder+"'");a+=">";d.value&&(a+=d.value);a+="</textarea>";d.publicPrivateToggle&&(a+=l.createPublicPrivateToggle(d));return a+=l.createTip(d)},createTip:function(d){var a;
a="<div class='capture_tip' ";d.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof d.tip?d.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+(" data-elementName='"+d.elementName+"'>");a+=Ve+"</div>";a=a+"<div class='capture_tip_error'"+(" data-elementName='"+d.elementName+"'>");d.errors&&t(d.errors)&&(a+=d.errors.join(" "),janrain.events.onCaptureServerValidationFailed.fire(d));return a+"</div>"},createLabel:function(d,a){var b,c=d.fieldPrefix||O,e=d.elementId||d.elementName;
if(!d.label)return a?a:"";b="<label ";"elementCollection"!==d.type&&(b+=" for='"+c+e+"'");b+=">";a&&(b+=a);d.label&&(b+=d.label);return b+"</label>"},createSelect:function(d){var a="",b=d.fieldPrefix||O,c=d.rendererFieldName,e=d.rendererChildFieldName,f,h=d.justElement,i=d.elementClasses&&t(d.elementClasses)?d.elementClasses:[],j=d.elementId||d.elementName;A(i,"capture_"+j)||i.push("capture_"+j);A(i,"capture_select")||i.push("capture_select");a+=l.createLabel(d);a=a+'<span class="capture_select_arrow"><select '+
("id='"+b+j+"' ")+("class='"+i.join(" ")+"' ");c&&(a+="data-capturerendererfield='"+c+"' ");d.showFieldWhere&&(a+='data-showFieldWhere="'+d.showFieldWhere+'" ');e&&(a+="data-capturerendererchildfieldname='"+e+"' ");a+="data-capturefield='"+d.name+"' ";a+="name='"+d.elementName+"' ";a+=">";c=d.options||[];e=c.length;for(i=0;i<e;i++){var k=c[i],n=k.value||""===k.value?k.value:k.text,a=a+('<option value="'+n+'"');k.disabled&&(a+=' disabled="true"');t(k.showField)&&(a+=' data-showField="'+k.showField.join(",")+
'"');n===Je(d.value)&&(a+=' selected="selected"',f=k.showField);a+=">"+k.text+"</option>"}a+="</select></span>";d.publicPrivateToggle&&(a+=l.createPublicPrivateToggle(d));h||(a+=l.createTip(d));w.push({handler:function(){f&&R(f,d.showFieldWhere,b)},eventType:"render"});w.push({elementName:j,handler:function(d){var d=N(d),a=p(d),b=d.getElementsByTagName("option")[d.selectedIndex].getAttribute("data-showField"),c=d.getAttribute("data-showFieldWhere");b&&b.length&&(b=b.split(","));g&&9>g&&P(d);R(b,c,
a)},eventType:"change"});return a},createButton:function(d){var a="",b=d.fieldPrefix||O,c=d.elementId||d.elementName,e=d.elementClasses&&t(d.elementClasses)?d.elementClasses:[],f="object"===typeof d.elementAttributes?d.elementAttributes:{},g=d.type?d.type:"submit";A(e,"capture_"+c)||e.push("capture_"+c);A(e,"capture_btn")||e.push("capture_btn");A(e,"capture_primary")||e.push("capture_primary");a+="<button ";d.hide&&(a+="style='display:none' ");a=a+("id='"+b+c+"' ")+("class='"+e.join(" ")+"' ");a=
a+("type='"+g+"' ")+("data-capturefield='"+d.name+"' ");d.value&&(a+="value='"+d.value+"' ");a+=Kb(f)+" ";a+="name='"+d.elementName+"' ";a+=">";d.elementContent&&(a+=d.elementContent);a+="</button>";d.modify&&l.attachModifyEventHandler(d);return a},createInput:function(d){var a="",b="",c=d.fieldPrefix||O,e=d.elementId||d.elementName,f=d.elementClasses&&t(d.elementClasses)?d.elementClasses:[],g="object"===typeof d.elementAttributes?d.elementAttributes:{},h="button"===d.type||"submit"===d.type||"checkbox"===
d.type||"radio"===d.type||"hidden"===d.type,i=d.justElement||d.collection||"hidden"===d.type||"button"===d.type||"submit"===d.type,j="password"===d.type&&!nb&&d.placeholder?"text":d.type,k=("checkbox"===d.type&&!d.collection||"radio"===d.type&&!d.collection)&&!d.justElement,n=d.rendererFieldName,o=d.rendererChildFieldName,p=Oc&&!d.collection;A(f,"capture_"+e)||f.push("capture_"+e);h||(b+=l.createLabel(d));d.validation&&d.validation.required&&f.push("capture_required");a+="<input ";d.hide&&(a+="style='display:none' ");
a=a+("id='"+c+e+"' ")+(Kb(g)+" ");"text"===d.type||"email"===d.type||"password"===d.type||"file"===d.type?A(f,"capture_text_input")||f.push("capture_text_input"):"checkbox"===d.type||"radio"===d.type?A(f,"capture_input_"+d.type)||f.push("capture_input_"+d.type):"submit"===d.type&&(A(f,"capture_btn")||f.push("capture_btn"),A(f,"capture_primary")||f.push("capture_primary"));a+="data-capturefield='"+d.name+"' ";d.collection&&(a+="data-capturecollection='true' ");n&&(a+="data-capturerendererfield='"+
n+"' ");o&&(a+="data-capturerendererchildfieldname='"+o+"' ");("checkbox"===d.type||"radio"===d.type)&&d.elementValue?a+="value='"+sd(d.elementValue)+"' ":d.value||"string"===typeof d.displaySavedValue?(g=d.value,h="string"===typeof d.displaySavedValue?d.displaySavedValue:d.value,d.displaySavedValue&&Yc[h]&&(g=sd(Yc[h]),"password"===d.type&&(j="password")),("password"===d.type||"text"===d.type||"email"===d.type)&&!d.errors&&p&&yd.push(c+e),a+="value='"+g+"' "):d.placeholder&&!nb?(a+="value='"+sd(d.placeholder)+
"' ",A(f,"capture_input_placeholder")||f.push("capture_input_placeholder")):a+="value='' ";a=a+("type='"+j+"' ")+("class='"+f.join(" ")+"' ");d.subId&&(a+='data-subid="'+d.subId+'" ');d.placeholder&&(a+="placeholder='"+sd(d.placeholder)+"' ");if(d.checked||d.elementValue&&d.value===d.elementValue)a+="checked='checked' ";a+="name='"+d.elementName+"' ";a+="/>";b="checkbox"===d.type||"radio"===d.type?b+l.createLabel(d,a):b+a;d.modify&&l.attachModifyEventHandler(d);d.publicPrivateToggle&&(b+=l.createPublicPrivateToggle(d));
k&&(b+="</div>");i||(b+=l.createTip(d));d.profileStoragePath&&"undefined"===typeof d.value&&l.setElementAttributeWithLocalStorage(d,c+e,"value");return b},createDiv:function(d){var a="<div ",b=d.fieldPrefix||O,c=d.elementId||d.elementName,e="object"===typeof d.elementAttributes?d.elementAttributes:{},f=d.classes||[];A(f,"capture_"+c)||f.push("capture_"+c);a+="id='"+b+c+"'";if("option"===d.type&&!d["default"]||d.hide)a+=" style='display:none'";"radioCollection"===d.type&&f.push("radio_set");t(f)&&
f.length&&(a=a+' class="'+f.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),a+='" ');a+=Kb(e)+" ";a+="data-capturefield='"+d.name+"' ";a+=">";d.elementText&&(a+=d.elementText);d.closeDiv&&(a+="</div>");return a},createImage:function(d){var a,b=d.fieldPrefix||O,c=d.classes||[],e=d.elementId||d.imageId||d.elementName||"";a="<img "+('src="'+d.src+'"');e&&!A(c,"capture_"+e)&&c.push("capture_"+e);d.hide&&(a+=" style='display:none'");d.alt&&(a+=" alt='"+d.alt+"'");"undefined"!==typeof d.width&&(a+=" width='"+
d.width+"'");"undefined"!==typeof d.height&&(a+=" height='"+d.height+"'");e&&(a+=' id="'+b+d.imageId+'" ');t(c)&&c.length&&(a=a+'class="'+c.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(a,b){var c,e="captureIFrame_"+a;if(document.getElementById(e))return!1;if(ne[b]&&(c=document.getElementById(ne[b])))c="div"==c.parentNode.tagName.toLowerCase()?c.parentNode:c,Jb(c);ne[b]=e;if(g){c="";var f=document.createElement("div");f.innerHTML=c+"<iframe "+('name="'+e+'" ')+('data-transactionId="'+
a+'" ')+('id="'+e+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(f)}else c=document.createElement("iframe"),c.setAttribute("name",e),c.setAttribute("data-transactionId",a),c.id=e,c.setAttribute("src","about:blank"),c.style.display="none",c.className="",document.body.appendChild(c)},createAnchor:function(a){var b=a.fieldPrefix||O,c=document.createElement("a");if(!a.classes||a.classes&&!t(a.classes))a.classes=[];a.elementId&&!A(a.classes,b+a.elementId)&&a.classes.push(b+
a.elementId);c.setAttribute("href",a.elementHref);c.innerHTML=a.elementText;a.elementId&&(c.id=b+a.elementId);c.className=a.classes.join(" ");a.hideElement&&(c.style.display="none");return c},createDiv:function(a){var b=a.fieldPrefix||O,c=document.createElement("div");if(!a.classes||a.classes&&!t(a.classes))a.classes=[];a.elementId&&!A(a.classes,b+a.elementId)&&a.classes.push(b+a.elementId);a.elementId&&(c.id=b+a.elementId);c.className=a.classes.join(" ");a.hideElement&&(c.style.display="none");return c},
createImage:function(a){var b=a.fieldPrefix||O,c=document.createElement("img");if(!a.classes||a.classes&&!t(a.classes))a.classes=[];a.elementId&&!A(a.classes,b+a.elementId)&&a.classes.push(b+a.elementId);a.alt&&c.setAttribute("alt",a.alt);"undefined"!==typeof a.width&&c.setAttribute("width",a.width);"undefined"!==typeof a.height&&c.setAttribute("height",a.height);c.src=a.elementSrc;a.elementId&&(c.id=b+a.elementId);c.className=a.classes.join(" ");a.hideElement&&(c.style.display="none");return c},
createInput:function(a){var b=document.createElement("input"),c=a.fieldPrefix||O,e="object"===typeof a.elementAttributes?a.elementAttributes:{},f=a.containerDivClasses||[],g;"submit"===a.elementType&&a.containerDiv&&(g=this.createDiv({elementName:a.elementName+"_containverDiv",classes:f}));if(!a.classes||a.classes&&!t(a.classes))a.classes=[];for(var h in e)e.hasOwnProperty(h)&&b.setAttribute(h,e[h]);a.elementId&&!A(a.classes,c+a.elementId)&&a.classes.push(c+a.elementId);a.elementType&&b.setAttribute("type",
a.elementType);a.name&&b.setAttribute("data-capturefield",a.name);a.elementValue&&(b.value=a.elementValue);a.elementName&&(b.name=a.elementName);a.elementId&&(b.id=c+a.elementId);a.hideElement&&(b.style.display="none");b.className=a.classes.join(" ");return g?(g.appendChild(b),g):b},createForm:function(a){a.transactionId||(a.transactionId=Aa());var b=a.transactionId,c=a.captureScreen||da,e=a.fieldPrefix?a.fieldPrefix:p(c),f=document.createElement("form"),g=t(a.fields)?a.fields:[],h=g.length;l.domHelpers.createIFrame(b,
e+a.elementId);a.needsResponse&&db(b);if(!a.classes||a.classes&&!t(a.classes))a.classes=[];a.elementId&&!A(a.classes,e+a.elementId)&&a.classes.push(e+a.elementId);f.id=e+a.elementId+"_"+b;f.className=a.classes.join(" ");f.setAttribute("target","captureIFrame_"+b);f.setAttribute("data-transactionId",b);a.name&&f.setAttribute("data-capturefield",a.name);f.setAttribute("action",a.elementAction);f.setAttribute("method","POST");f.setAttribute("data-capturedomelement","true");a.validate&&f.setAttribute("data-capturedomelementvalidate",
"true");f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:"\u2713",elementName:"utf8"}));o&&o.mergeToken&&f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:o.mergeToken,elementName:"merge_token",elementId:"merge_token_"+b}));janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Backplane.getChannelID(),elementName:"bp_channel",
elementId:"bp_channel_"+b}));Db&&f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Db,elementName:"flow_path",elementId:"flow_path_"+b}));if(L)f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:L,elementName:"access_token",elementId:"access_token_"+b}));else{var i=a.elementAction.substring(janrain.settings.capture.captureServer.length+1,a.elementAction.length);a&&a.elementAction&&!A(We,i)&&ia&&f.appendChild(l.domHelpers.createInput({elementType:"hidden",
fieldPrefix:e,elementValue:ia,elementName:"access_token",elementId:"access_token_"+b}))}da&&f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:c,elementName:"capture_screen",elementId:"screen_"+b}));Pb&&f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Pb,elementName:"js_version",elementId:"js_version_"+b}));a.serverNextScreen&&f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:a.serverNextScreen,
elementName:"serverNextScreen",elementId:"serverNextScreen_"+b}));a.engageTokenRequired&&f.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:za,fieldPrefix:e,elementName:"token",elementId:"token_"+b}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:b,fieldPrefix:e,elementName:"capture_transactionId",elementId:"transactionId_"+b}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:a.name,elementName:"form",elementId:"form_"+
b}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:o.flow,elementName:"flow",elementId:"flow_"+b}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementName:"client_id",elementId:"client_id_"+b,elementValue:janrain.settings.capture.clientId}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementName:"redirect_uri",elementId:"redirect_uri_"+b,elementValue:janrain.settings.capture.redirectUri}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",
fieldPrefix:e,elementValue:janrain.settings.capture.responseType,elementName:"response_type",elementId:"response_type_"+b}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Ad,elementName:"flow_version",elementId:"flow_version_"+b}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:ja,elementName:"settings_version",elementId:"settings_version_"+b}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,
elementValue:xc,elementName:"locale",elementId:"locale_"+b}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:_recaptchaVersion,elementName:"recaptcha_version",elementId:"recaptcha_version_"+b}));for(c=0;c<h;c++)switch(b=g[c],b.elementType){case "div":b.fieldPrefix=b.fieldPrefix||e;f.appendChild(l.domHelpers.createDiv(b));break;case "anchor":b.fieldPrefix=b.fieldPrefix||e;f.appendChild(l.domHelpers.createAnchor(b));break;case "hidden":b.fieldPrefix=b.fieldPrefix||
e;f.appendChild(l.domHelpers.createInput(b));break;case "file":b.fieldPrefix=b.fieldPrefix||e;f.setAttribute("enctype","multipart/form-data");f.appendChild(l.domHelpers.createInput(b));break;case "submit":b.fieldPrefix=b.fieldPrefix||e,f.appendChild(l.domHelpers.createInput(b))}l.domHelpers.createFormHandler(f,a);return f},createFormHandler:function(a,b){"function"===typeof b.callback&&(a.setAttribute("next",'{"function":"'+b.elementId+'"}'),he[b.elementId]=b.callback);y(a,"submit",Mb)},createFormAndPost:function(a){var b=
a.fieldPrefix||O,c=Aa();a.fieldPrefix=a.fieldPrefix||b;a.transactionId=c;var e=l.domHelpers.createForm(a),b=l.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+c,fieldPrefix:b,elementId:"createFormAndPostSubmit_"+c,elementValue:"submit",hideElement:!0});e.appendChild(b);document.body.appendChild(e);l.domHelpers.createFormHandler(e,a);b.click()}},createListOfLinks:function(a,b){var c=a.fieldPrefix||O,e;optionsLength=a.length;e="<ul";t(b)&&b.length&&(e=e+' class="'+b.join(" "),e+=
'"');e+=">";for(var f=0;f<optionsLength;f++){e+="<li";"string"===typeof a[f].listItemId&&(e+=' id="'+c+a[f].listItemId+'" ');a[f].hide&&(e+=' style="display: none;" ');if(!a[f].listItemClasses||!t(a[f].listItemClasses))a[f].listItemClasses=[];"string"===typeof a[f].listItemId&&!A(a[f].listItemClasses,"capture_"+a[f].listItemId)&&a[f].listItemClasses.push("capture_"+a[f].listItemId);t(a[f].listItemClasses)&&a[f].listItemClasses.length&&(e+=' class="',e+=a[f].listItemClasses.join(" "),e+='"');e+=">";
e+='<a href="'+a[f].anchorHref+'"';e+=' data-capture-tab-index="'+f+'"';"string"===typeof a[f].anchorId&&(e+=' id="'+c+a[f].anchorId+'" ');if(!a[f].anchorClasses||!t(a[f].anchorClasses))a[f].anchorClasses=[];"string"===typeof a[f].anchorId&&!A(a[f].anchorClasses,"capture_"+a[f].anchorId)&&a[f].anchorClasses.push("capture_"+a[f].anchorId);t(a[f].anchorClasses)&&a[f].anchorClasses.length&&(e+=' class="',e+=a[f].anchorClasses.join(" "),e+='"');e+=">";e+=a[f].anchorText;e+="</a>";e+="</li>"}return e+
"</ul>"},togglePasswordInput:function(a,b){var c=cb(a),e=c.getAttribute("data-capturefield"),e=o&&o.fields&&e?o.fields[e]:"";p(c);if(e&&!e.placeholder)return!1;"text"===c.type&&c.getAttribute("value")===c.getAttribute("placeholder")&&c.setAttribute("value","");if(g&&"text"===c.type){var f=document.createElement("span"),h=c.parentElement;h.insertBefore(f,c);h.removeChild(c);e=document.createElement("input");e.id=c.id;e.setAttribute("data-capturefield",c.name);e.className="capture_password capture_text_input";
e.name=c.name;e.setAttribute("type","password");h.insertBefore(e,f);h.removeChild(f);for(c=0;c<b.length;c++)"function"===typeof b[c].handler&&y(e,b[c].eventType,b[c].handler);e.focus()}else"password"!=c.getAttribute("type")&&c.setAttribute("type","password")},clearPlaceHolder:function(a){if(nb)return!0;a="value"in a?a:cb(a);a.value===a.getAttribute("placeholder")&&(g?a.value="":a.setAttribute("value",""),q(a).remove("capture_input_placeholder"))},restorePlaceHolder:function(a){if(nb)return!0;var a=
"value"in a?a:cb(a),b=a.getAttribute("placeholder");if(!b||"password"===a.getAttribute("type"))return!1;b&&""===a.value&&(g?a.value=b:a.setAttribute("value",b),q(a).append("capture_input_placeholder"))},setField:function(a,b,c){c+=a.name;if("dateselect"===a.type){if(b=qd("{yyyy}-{0m}-{0d}",b),Oa(b)&&(a=document.getElementById(c+"_dateselectmonth")))a.selectedIndex=b.getMonth()+1,yb(a,"change"),a=document.getElementById(c+"_dateselectday"),a.selectedIndex=b.getDate(),yb(a,"change"),a=document.getElementById(c+
"_dateselectyear"),a.value=b.getFullYear(),yb(a,"change")}else if("text"===a.type||"hidden"===a.type){if(a=document.getElementById(c))a.value=Je(b),yb(a,"change")}else n.forceError("Setting a field with type '"+a.type+"' is not supported yet.")},resetField:function(a,b){var c,e=b+a.name;if("dateselect"===a.type){if(c=document.getElementById(e+"_dateselectmonth"))c.selectedIndex=0,q(c).append("capture_disabled"),c=document.getElementById(e+"_dateselectday"),c.selectedIndex=0,q(c).append("capture_disabled"),
c=document.getElementById(e+"_dateselectyear"),c.selectedIndex=0,q(c).append("capture_disabled")}else if("text"===a.type||"hidden"===a.type){if(c=document.getElementById(e))c.value="",yb(c,"change")}else n.forceError("Resetting a field with type '"+a.type+"' is not supported yet.")},validation:function(){function a(d){e=d;var c=b.id||b.name;Sb.add({id:c,valid:"valid"===d},{merge:!0});oa[c].status=e}var b,c,e,f,g;return{getElement:function(){return b},getParentDiv:function(){return c},getState:function(){return e},
getValidation:function(){return g},setState:function(b){a(b)},setUnique:function(a){f=a;oa[b.id||b.name].unique=f},setValidation:function(a){g=a},setParentDiv:function(a){(c=a)&&c.className.split(" ")},setElement:function(a){b=a;c&&c.className.split(" ")},valid:function(e){e||q(c).append("capture_validated");q(c).remove("capture_validating").remove("capture_error");a("valid");e={};b&&(e.field=b);janrain.events.onCaptureValidationSuccess.fire(e);janrain.events.onCaptureContentChange.fire()},pending:function(){a("pending");
q(c).append("capture_validating").remove("capture_validated").remove("capture_error");janrain.events.onCaptureContentChange.fire()},notValid:function(){var e;switch(arguments.length){case 1:message=arguments[0];break;case 2:message=arguments[0];"function"===typeof arguments[1]?callback=arguments[1]:e=arguments[1];break;case 3:message=arguments[0],e=arguments[1],callback=arguments[2]}a("invalid");if(message){if("noValidationMessage"!==message){q(c).append("capture_error").remove("capture_validated");
for(var f,h=p(c),E=c.getElementsByTagName("div"),i=E.length,j=0;j<i;j++)if("capture_tip_error"===E[j].className){var l=0===c.id.indexOf(h+"form_collection_")?h+"form_collection_":h+"form_item_";if(c.id.split(l)[1]===E[j].getAttribute("data-elementName")||c.id.split(l)[1]+"[dateselect_year]"===E[j].getAttribute("data-elementName")){f=E[j];break}}f&&(f.innerHTML=message)}"function"===typeof callback&&callback();janrain.events.onCaptureContentChange.fire()}f={};b&&(f.field=b);f.message=message;f.parentDiv=
c;f.invalidType=e;g&&(f.validation=g);janrain.events.onCaptureValidationFailed.fire(f)}}}},je={createSelect:l.createSelect,createTextarea:l.createTextarea,createAnchor:l.createAnchor,createInput:l.createInput,createLabel:l.createLabel,createDiv:l.createDiv,createImage:l.createImage,createListOfLinks:l.createListOfLinks,togglePassword:l.togglePasswordInput,clearPlaceHolder:l.clearPlaceHolder,restorePlaceHolder:l.restorePlaceHolder,getElementByEventAttribute:cb},Xe=0;z.prototype.render={data:{engageCookie:function(a){return Hc(a.cookieName)},
localStorage:function(a){var b="",c=(a.fieldPrefix||O)+(a.elementId||a.elementName),e=a.classes?a.classes.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"):"",f=a.valuePath,g="";if(!janrain.settings.capture.setProfileCookie)return H.log("localStorage renderer can not be used without janrain.settings.capture.setProfileCookie set to true"),H.show(),"";janrain.settings.multiDomainLocalStorage?Wc(a.data,function(b){b=l.getValueFromObject(a,b,f);pa(function(){var a;a=b;var d=document.getElementById(c);d?
(ya(d,a),a=!0):a=!1;return a}).setDelay(500).setMaxAttempts(20).setFailCallback(function(){n.warn("Poll to get local storage data failed. Key: "+a.data)}).start()}):b=Wc(a.data);g='<span id="'+c+'" class="'+e+'">'+l.getValueFromObject(a,b,f);return g+"</span>"},string:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b="",c,b=o.fields&&o.fields[a.value]?o.fields[a.value]:"";a.displaySavedValue&&(c=b&&b.type&&"password"===b.type);c=a.displaySavedValue&&Yc[a.value]&&
(!c||c&&Rc)?Yc[a.value]:a.value;b=a.justString?c:l.wrapStringData(a,c);"undefined"!==typeof a.hideWhenValue&&c===a.hideWhenValue&&(b="");return b},image:function(a){var b;a.value&&(a.returnImageTag?(b={elementName:a.elementname,hide:a.hide,src:a.value},a.classes&&(b.classes=a.classes),a.elementId&&(b.elementId=a.elementId),b=l.createImage(b)):b=a.value);return b}},html:{anchor:function(a){return a=""+l.createAnchor(a)},textarea:function(a){var b;b=""+l.wrapFormItemStart(a);b+=l.createTextarea(a);
b+=l.wrapFormItemEnd(a);l.attachFieldEventHandlers(a);return b},select:function(a){var b;b=""+l.wrapFormItemStart(a);b+=l.createSelect(a);b+=l.wrapFormItemEnd(a);l.attachFieldEventHandlers(a);return b},multi:function(a,b){var c="",e,f,g=a.options.length;f=t(a.value)?a.value:"string"===typeof a.value?a.value.split(","):"boolean"===typeof a.value||"number"===typeof a.value?[a.value]:[];var h=0;for(e=f.length;h<e;h++)f[h]=f[h].toString();a.type="elementCollection";c+=l.wrapFormItemStart(a);c+=l.createLabel(a);
for(h=0;h<g;h++)e=a.options[h],e.value="undefined"===typeof e.value?"":e.value.toString(),e.label="undefined"===typeof e.label?"":e.label.toString(),e.value=e.value||e.label,e.label=e.label||e.value,c+=this.input({elementName:a.elementName,type:b,elementId:a.elementName+"_"+e.value+"_"+h,name:a.name,value:e.value,collection:!0,label:e.label,checked:A(f,e.value)}),w.push({elementName:a.elementName+"_"+e.value+"_"+h,handler:function(b,c){return function(){for(var e=p(this),m=document.getElementById(e+
"form_collection_"+a.elementName),m=$("capture_form_item_"+a.elementName,m),e=document.getElementById(e+"form_item_"+a.elementName+"_"+b+"_"+c),r=0,f=m.length;r<f;r++)q(m[r]).remove("capture_toggled");e&&q(e).append("capture_toggled")}}(e.value,h),eventType:"click"});c+=l.createTip(a);return c+=l.wrapFormItemEnd(a)},multiCheckbox:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},multiRadio:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},input:function(a){var b;
b=""+l.wrapFormItemStart(a);b+=l.createInput(a);b+=l.wrapFormItemEnd(a);l.attachFieldEventHandlers(a);return b},button:function(a){var b;b=""+l.wrapFormItemStart(a);b+=l.createButton(a);b+=l.wrapFormItemEnd(a);l.attachFieldEventHandlers(a);return b},form:function(a){var b="<form ",c="object"===typeof a.elementAttributes?a.elementAttributes:{},e=a.localFieldPrefix||O,f=a.classes||[];f.indexOf("capture_form"===-1)&&f.push("capture_form");f.indexOf(-1==="capture_"+a.elementName)&&f.push("capture_"+a.elementName);
b+="id='"+e+a.elementName+"' ";b+=Kb(c)+" ";b+="name='"+a.elementName+"' ";b+="data-capturefield='"+a.name+"' ";b+="action='"+janrain.settings.capture.captureServer+"/"+a.action+"' ";t(f)&&(b+="class='"+f.join(" ")+"' ");var b=b+"method='POST' novalidate='novalidate' "+("data-transactionId='"+a.transactionId+"' "),b=b+("target='captureIFrame_"+a.transactionId+"' "),b=b+"accept-charset='UTF-8' >"+('<div id="'+e+a.elementName+'_defaultSavedProfileMessage"></div>'),b=b+('<div id="'+e+a.elementName+'_errorMessages"></div>'),
g="";if(a.errors){janrain.events.onCaptureFormError.fire(a.errors);for(var h in a.errors)a.errors.hasOwnProperty(h)&&(g+=l.createDiv({elementId:"formerror_"+(new Date).getTime(),classes:["capture_form_error"]}),g+=a.errors[h]+"</div>")}w.push({handler:function(){db(a.transactionId)},eventType:"render"});w.push({handler:function(){var b=document.getElementById(e+a.elementName);if(!b)return!1;var c=$("capture_form_error_container",b),c=c.length?c[0]:document.getElementById(e+a.elementName+"_errorMessages");
g?(c.innerHTML=g,q(b).append("capture_form_level_error")):c.innerHTML=""},eventType:"render"});if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var c=janrain.settings.capture.dataDefaults,i;for(i in c)c.hasOwnProperty(i)&&(b+=l.createInput({elementName:i,type:"hidden",value:c[i]}))}b+=l.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&(b+=l.createInput({elementName:"bp_channel",
elementId:"bp_channel"+a.transactionId,type:"hidden",value:Backplane.getChannelID()}));Db&&(b+=l.createInput({elementName:"flow_path",elementId:"flow_path_"+a.transactionId,type:"hidden",value:Db}));o&&o.mergeToken&&(b+=l.createInput({elementName:"merge_token",elementId:"merge_token_"+a.transactionId,type:"hidden",value:o.mergeToken}));L?b+=l.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,classes:["capture_accessToken"],type:"hidden",value:L}):a&&a.action&&!A(We,
a.action)&&ia&&(b+=l.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,classes:["capture_accessToken"],type:"hidden",value:ia}));da&&(b+=l.createInput({elementName:"capture_screen",elementId:"screen_"+a.transactionId,type:"hidden",value:da}));Pb&&(b+=l.createInput({elementName:"js_version",elementId:"js_version_"+a.transactionId,type:"hidden",value:Pb}));a.serverNextScreen&&(b+=l.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+a.transactionId,
type:"hidden",value:a.serverNextScreen}));if(a.engageTokenRequired||dd)b+=l.createInput({elementName:"token",elementId:"token_"+a.transactionId,type:"hidden",value:za});b+=l.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+a.transactionId,type:"hidden",value:a.transactionId});b+=l.createInput({elementName:"form",elementId:"form_"+a.transactionId,type:"hidden",value:a.name});b+=l.createInput({elementName:"flow",elementId:"flow_"+a.transactionId,type:"hidden",value:o.flow});
b+=l.createInput({elementName:"client_id",elementId:"client_id_"+a.transactionId,type:"hidden",value:janrain.settings.capture.clientId});b+=l.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+a.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});b+=l.createInput({elementName:"response_type",elementId:"response_type_"+a.transactionId,type:"hidden",value:janrain.settings.capture.responseType});b+=l.createInput({elementName:"flow_version",elementId:"flow_version_"+
a.transactionId,type:"hidden",value:Ad});b+=l.createInput({elementName:"settings_version",elementId:"settings_version_"+a.transactionId,type:"hidden",value:ja});b+=l.createInput({elementName:"locale",elementId:"locale_"+a.transactionId,type:"hidden",value:xc});b+=l.createInput({elementName:"recaptchaVersion",elementId:"recaptcha_version_"+a.transactionId,type:"hidden",value:_recaptchaVersion});l.domHelpers.createIFrame(a.transactionId,e+a.elementName);!1!==a.listenToFields&&w.push({handler:function(){var b=
document.getElementById(e+a.elementName);b&&(y(b,"keyup",function(a){(8==a.keyCode||46==a.keyCode)&&Sa(a)}),y(b,"keypress",function(a){(a.charCode||a.keyCode)&&Sa(a)}),y(b,"change",Sa),b.addEventListener?(b.addEventListener("focus",$b,!0),b.addEventListener("blur",pb,!0)):(b.attachEvent("onfocusin",$b),b.attachEvent("onfocusout",pb)))},eventType:"render"});return b},div:function(a){return l.createDiv(a)},close:function(a){return"capture"===a.element?"photoManager"===a.type?"</div>":"":"</"+a.element+
">"}},capture:{table:function(a){var b='<table class="capture_table">',c=z.prototype.render.html;if(a.th.display){var b=b+"<tr>",e;for(e in a.th.cols)b+="<th>"+a.th.cols[e]+"</th>";b+="</tr>"}for(var f in a.rows){var b=b+"<tr>",g;for(g in a.rows[f].cells)a.rows[f].cells[g].type&&"radio"===a.rows[f].cells[g].type?(e=a.rows[f].cells[g],e.name="table",a.value&&e.elementValue===a.value[e.rendererChildFieldName]&&(e.checked=!0),b+="<td>",b+=l.wrapFormItemStart(a),b+=c.input(e),b+=l.wrapFormItemEnd(a),
b+="</td>"):b+="<td>"+a.rows[f].cells[g]+"</td>";b+="</tr>"}return b+"</table>"},countrySelect:function(a){a.customText||(a.customText={});a.options=[{text:a.customText.countryLabel||"country",value:"",disabled:!0},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",
value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},
{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},
{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},
{text:"Congo",value:"Congo"},{text:"Congo",value:"Congo"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia",value:"Croatia"},{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},
{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",
value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},
{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",
value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea",value:"Korea"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",
value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},
{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",
value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",
value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},
{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},
{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",
value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",
value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}];return z.prototype.render.html.select(a)},stateSelect:function(a){a.customText||(a.customText={});var b=[{text:a.customText.stateLabel||"state",value:"",disabled:!0}],b=a.noCanadianProvinces?b.concat(Ie):b.concat(Ie,nf);a.options=b;return z.prototype.render.html.select(a)},keepMeLoggedIn:function(a){var b=
a.fieldPrefix||O;Hd=a.checked||!1;a=""+l.createInput({label:a.label||"Keep me logged in",type:"checkbox",name:a.name,justElement:!0,value:"yes",checked:Hd,elementName:"capture_keep_me_logged_in"});w.push({elementName:"capture_keep_me_logged_in",handler:function(){loggedInElement=document.getElementById(b+"capture_keep_me_logged_in");janrain.engage.signin.appendTokenParams({keepMeLoggedIn:loggedInElement.checked},!0,!0)},eventType:"render"});w.push({elementName:"capture_keep_me_logged_in",handler:function(a){a=
N(a);Hd=a.checked;janrain.engage.signin.appendTokenParams({keepMeLoggedIn:a.checked},!0,!0)},eventType:"click"});return a},captcha:function(a){function b(){return 1==_recaptchaVersion&&"undefined"!=typeof Recaptcha||2==_recaptchaVersion&&"undefined"!=typeof grecaptcha?!0:!1}function c(){1==_recaptchaVersion&&(h="6LeVKb4SAAAAAGv-hg5i6gtiOV4XrLuCDsJOnYoP");2==_recaptchaVersion&&(h="6Lfb1QYTAAAAACSJT1QyxW6UXf1MY0amkMfeptSr",e(janrain.settings.capture.captureServer+"/captcha/recaptcha_secure_token"))}
function e(a){var d=new XMLHttpRequest;d.open("get",a);d.onload=function(){g=K.parse(d.responseText).token};d.onerror=function(){n.error("Unable to load the reCaptcha secure token from "+a)};d.send()}function f(){1==_recaptchaVersion&&(recaptchaSourceUrl="www.google.com/recaptcha/api/js/recaptcha_ajax.js");2==_recaptchaVersion&&(recaptchaSourceUrl="www.google.com/recaptcha/api.js");return recaptchaSourceUrl=j+recaptchaSourceUrl}var g="",h="",i=a.fieldPrefix||O,j=document.location.protocol+"//",k=
"recaptcha_container";0<Xe&&(k=i+"_"+k);w.push({elementName:a.name,handler:function(){function a(){2==_recaptchaVersion&&""==g||!b()?setTimeout(a,20):(1==_recaptchaVersion&&Recaptcha.create(h,k,{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}}),2==_recaptchaVersion&&grecaptcha.render(k,{sitekey:h,stoken:g,callback:function(){janrain.events.onCaptureContentChange.fire()}}))}a()},eventType:"render"});b()?c():(f=janrain.settings.capture.recaptchaUrl||f(),ua(f,c()));i=
""+l.wrapFormItemStart(a);a.label&&(i+=l.createLabel(a));i=i+('<div id="'+k+'"></div>')+l.createTip(a);i+=l.wrapFormItemEnd(a);Xe++;return i},mergeAccounts:function(a,b){var b=b?K.parse(b):{custom:!1},c=z.prototype.render,e=a.value,f="";a.customText||(a.customText={});a.customText.dayNames&&a.customText.monthNames&&(a.customText.dateFormat||(a.customText.dateFormat="{month} {d}, {yyyy} {hour}:{minute} {ampm}"),a.value.existing_createdDate=Da(a.customText.dateFormat,new Date(a.value.existing_createdDate),
a.customText));e.existing_provider="legacy"===e.existing_provider?"email":e.existing_provider;var g=a.customText.connectRadio||'Connect this session with your existing account. <span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>',h=a.customText.connectLegacyRadio||
'Connect this session with your existing account <span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',i=a.customText.createRadio||"Create a new account using {| current_provider |} sign-in.",j=a.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",l=a.customText.existingAccountCreatedText||"Created {| existing_createdDate |} at {| existing_siteName |}",
k=a.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',n=a.customText.moreInfo||"More Info ?",o=a.customText.createButton||"Create",p=a.customText.connectButton||"Connect";e.connectRadioText=fa(e,g);e.connectLegacyRadioText=fa(e,h);e.createRadioText=fa(e,i);e.foundExistingAccountText=fa(e,j);e.existingAccountCreatedText=
fa(e,l);e.moreInfoHoverText=fa(e,k);e.moreInfoText=fa(e,n);e.createButtonText=fa(e,o);e.connectButtonText=fa(e,p);j="";if("useConnectIcons"in a?a.useConnectIcons:1)j+='<span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.existing_provider.toLowerCase().replace("+","plus")+'"></span><span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.current_provider.toLowerCase().replace("+","plus")+'"></span>';e.connect_button=c.html.button({elementContent:j+
p,elementName:a.name+"_connectButton",name:a.name+"_connectButton",element:"button",type:"button"});e.create_button=c.html.button({elementContent:o,hide:!0,elementName:a.name+"_createButton",name:a.name+"_createButton",element:"button",type:"submit"});e.merge_radio=c.html.multiRadio({element:"multiRadio",value:[1],elementName:a.name+"_mergeRadio",classes:["capture_form_collection_merge_radioButtonCollection"],options:[{label:"email"===e.existing_provider?fa(e,h):fa(e,g),value:1},{label:i,value:2}]});
e.rendered_current_photo=e.current_photo?'<img src="'+e.current_photo+'" height="25" width="25" />':"";e.rendered_existing_provider_photo=e.existing_provider_photo?'<div class="capture_icon_col"><img src="'+e.existing_provider_photo+'" height="25" width="25" /></div>':"";e.current_provider_lowerCase=e.current_provider.toLowerCase().replace("+","plus");e.existing_provider_lowerCase=e.existing_provider.toLowerCase().replace("+","plus");b.custom?w.push({handler:function(){var b=document.getElementById(a.name);
b.innerHTML=fa(e,b.innerHTML)},eventType:"render"}):f+=fa(e,'<div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">     <div class="capture_header">         <div class="capture_icon_col">             {| rendered_current_photo |}         </div>         <div class="capture_displayName_col">             {| current_displayName |}<br />             {| current_emailAddress |}         </div>         <span class="capture_mergeProvider janrain-provider-icon-24 janrain-provider-icon-{| current_provider_lowerCase |}"></span>     </div>     <div class="capture_dashed">         <div class="capture_mergeCol capture_centerText capture_left">             <p class="capture_bigText">{| foundExistingAccountText |}</b>.</p>             <div class="capture_hover">                 <div class="capture_popup_container">                     <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}                 </div>                 {| moreInfoText |}             </div>         </div>         <div class="capture_mergeCol capture_mergeExisting_col capture_right">             <div class="capture_shadow capture_backgroundColor capture_border">                 {| rendered_existing_provider_photo |}                 <div class="capture_displayName_col">                     {| existing_displayName |}<br />                     {| existing_provider_emailAddress |}                 </div>                 <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>                 <div class="capture_centerText capture_smallText">{| existingAccountCreatedText |}</div>             </div>         </div>     </div>     {| merge_radio |}     <div class="capture_footer">         {| connect_button |}         {| create_button |}     </div> </div>');
w.push({elementName:a.name+"_connectButton",handler:function(){"email"===e.existing_provider?(janrain.capture.ui.renderScreen(a.traditionalMergeScreen),janrain.events.onCaptureContentChange.fire()):(mb=!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(e.existing_provider),janrain.engage.signin.setCustom(!1))},eventType:"click"});w.push({elementName:a.name+"_createButton",handler:function(){ad?B():(fc=null,janrain.apps.capture.ui.renderScreen(janrain.settings.capture.mergeFlow||
janrain.settings.capture.registerFlow||"socialRegister"))},eventType:"click"});w.push({elementName:a.name+"_mergeRadio_1_0",handler:function(){document.getElementById(O+a.name+"_connectButton").style.display="";document.getElementById(O+a.name+"_createButton").style.display="none";q(document.getElementById(O+"form_item_"+a.name+"_mergeRadio_1_0")).append("capture_toggled");q(document.getElementById(O+"form_item_"+a.name+"_mergeRadio_2_1")).remove("capture_toggled")},eventType:"click"});w.push({elementName:a.name+
"_mergeRadio_2_1",handler:function(){document.getElementById(O+a.name+"_connectButton").style.display="none";document.getElementById(O+a.name+"_createButton").style.display="";q(document.getElementById(O+"form_item_"+a.name+"_mergeRadio_2_1")).append("capture_toggled");q(document.getElementById(O+"form_item_"+a.name+"_mergeRadio_1_0")).remove("capture_toggled")},eventType:"click"});return f},publicProfileLink:function(a,b){var c="",e=b?K.parse(b).elementHref:a.elementHref;a.elementAttributes="object"===
typeof a.elementAttributes?a.elementAttributes:{};a.addUUIDToLink&&(a.elementAttributes["data-captureuseruuid"]=a.value);a.elementHref=e+"?uuid="+a.value;a.elementText=a.elementText||"Public Profile";return c+=l.createAnchor(a)},linkSocialAccount:function(a){var b=da,c=l.createDiv({elementId:"link_social_account_"+a.provider,name:a.name}),c=c+l.createButton(a),c=c+"</div>";w.push({elementName:a.name,handler:function(c){Fb.triggerLinkSocialAccountFlow(c,b,a.provider)},eventType:"click"});w.push({elementName:a.name,
handler:function(c){Fb.triggerLinkSocialAccountFlow(c,b,a.provider)},eventType:"keypress"});Vc||ra();return c},linkAccounts:function(a){function b(c){var e=a.value.providers[c],m=a.value.displayNames[c],r=a.value.identifiers[c],g=a.value.prettyProviders?a.value.prettyProviders[c]:e,h=f+a.name+"_extraFields_"+e,c=""+('<li class="capture_provider_linked" data-capturerelatedfieldsid="'+h+'">')+'<span class="'+("janrain-provider-icon-"+k+" janrain-provider-icon-"+e+(a.customIcons?"-custom":"")+'">'),
c=c+'</span><span class="',i=m&&"null"!==m.toLowerCase(),l=/\{\|\s*displayName\s*\|}/.test(a.displayFormat),m=i||!l?fa({provider:g,displayName:m},a.displayFormat):g,c=c+("janrain-provider-text-"+e+(a.customIcons?"-custom":"")+'">'+m+"</span>");!Ed&&1===j||(c+='<span tabindex="0" class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" data-captureprovider="'+e+'" data-captureidentifier="'+r+'"></span>');c+="</li>";a.additionalFields&&a.additionalFields[e]&&(c=c+('<div class="capture_linkAccounts_additionalFields" id="'+
h+'">')+df(a.additionalFields[e],function(a){return"{* "+a+" *}"}).join("\n"),c+="</div>");return c}function c(b){N(b);Fb.unLinkAccount(b,a,e,function(){q--;!Ed&&1>=q&&setTimeout(function(){var a=$("capture_remove_linkedaccount");Jb(a[0])},0)})}a.value||(a.value={});a.customText||(a.customText={});var e=da,f=a.fieldPrefix||O,g='<div class="capture_linkAccounts" id="'+f+a.name+'_currentlinkedaccounts">',h=o.fields[a.linkAccountContainer].elementName||o.fields[a.linkAccountContainer].name||a.linkAccountContainer,
i=a.customText.linkAnotherAccount||"Link account",j=t(a.value.providers)?a.value.providers.length:0,l=f+a.name+"_linkaccountsscreen",k=a.providerIconSize&&A(mf,a.providerIconSize)?a.providerIconSize:16,g=g+('<ul class="capture_provider" id="'+f+a.name+'_linkedproviderlist">');if(a.customAddLinks){for(var n=0,i=a.customProviders.length;n<i;n++)if(A(a.value.providers,a.customProviders[n]))var p=a.value.providers.indexOf(a.customProviders[n]),g=g+b(p);else g+='<li tabindex="0" class="capture_custom_add_linkedaccount" data-captureprovider="'+
a.customProviders[n]+'">',g+=fa({provider:a.customProviders[n]},a.customAddLinkFormat)+"</li>";w.push({elementName:a.name+"_linkedproviderlist",handler:function(a){Fb.linkWithCustomLink(a,e)},eventType:"click"});w.push({elementName:a.name+"_linkedproviderlist",handler:function(a){Fb.linkWithCustomLink(a,e)},eventType:"keypress"})}else{for(n=0;n<j;n++)g+=b(n);g+='<li class="capture_linkAccount"><a href="#" id="'+f+a.name+'_linknewlink">'+i+"</a></li>"}g+="</ul></div>";w.push({elementName:a.name+"_linknewlink",
handler:function(a){Fb.openInModal(a,e,l)},eventType:"click"});var q=j;w.push({elementName:a.name+"_currentlinkedaccounts",handler:c,eventType:"keypress"});w.push({elementName:a.name+"_currentlinkedaccounts",handler:c,eventType:"click"});g=g+'<div style="display: none;">'+('<div id="'+l+'"')+' class="janrain-capture-ui capture-ui-content capture_addLinkedAccount';gb&&(g+=" janrain-capture-ui-mobile");g=g+'">'+('<div id="'+f+a.name+'_linkAccountContainerContainer">');g+="</div></div></div>";a.customAddLinks||
w.push({handler:function(){Fb.renderHandler(f+h,f+a.name+"_linkAccountContainerContainer")},eventType:"render"});return g},errorMessages:function(){var a;a=""+z.prototype.render.html.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});return a+"</div>"},savedProfileMessage:function(){var a;a=""+z.prototype.render.html.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),hide:!0,classes:["capture_save_success","capture_profileSavedMessage_container"]});
return a+"</div>"},nameFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b="",b="";a.value.firstname&&(b+=a.justString?a.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+a.value.firstname+"</span> ");a.value.middlename&&!a.hideMiddlename&&(b+=a.justString?a.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+a.value.middlename+"</span> ");a.value.lastname&&(b+=a.justString?a.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+
a.value.lastname+"</span>");return b=a.justString?b:l.wrapStringData(a,b,"capture_stringdata_nameBlock")},nameFull:function(a){var b,c=z.prototype.render.html;b='<div class="capture_form_item capture_nameBlock">'+c.input({elementName:a.name+"[firstname]",elementId:a.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&
a.value.firstname?a.value.firstname:"",placeholder:a.placeholder&&a.placeholder.firstname?a.placeholder.firstname:""});a.hideMiddlename||(b+=c.input({elementName:a.name+"[middlename]",elementId:a.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:a.name,value:a.value&&a.value.middlename?a.value.middlename:"",placeholder:a.placeholder&&a.placeholder.middlename?a.placeholder.middlename:""}));b+=c.input({elementName:a.name+
"[lastname]",elementClasses:["capture_nameFull_lastName"],elementId:a.name+"_lastname",type:"text",rendererFieldName:a.name,rendererChildFieldName:"lastname",value:a.value&&a.value.lastname?a.value.lastname:"",placeholder:a.placeholder&&a.placeholder.lastname?a.placeholder.lastname:""});return b+"</div>"},multipurposeAuth:function(a){var b;a.type="text";b=""+l.wrapFormItemStart(a);b+=l.createInput(a);b+=l.wrapFormItemEnd(a);l.attachFieldEventHandlers(a);a.type="multipurposeAuth";return b},dateselect_public:function(a){if("undefined"!==
typeof a.displayPublic&&!1===a.displayPublic||!a.value||!a.value.dateselect_month||!a.value.dateselect_year||!a.value.dateselect_day)return"";var b="",b="",c,b=parseInt(a.value.dateselect_month,10);c=parseInt(a.value.dateselect_year,10);var e=parseInt(a.value.dateselect_day,10);a.format?(b=new Date(c,b-1,e),c=a.format,b=Da(c,b,{monthNames:a.monthNames,dayNames:a.dayNames})):b=b+"/"+e+"/"+c;return b=a.justString?b:l.wrapStringData(a,b,"capture_stringdata_dateselectBlock")},dateselect:function(a){function b(c){c=
N(c);c=p(c);c=document.getElementById(c+"form_item_"+a.elementName);q(c).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()}function c(b){var e=N(b),f=p(e),f=document.getElementById(f+"form_item_"+a.elementName);q(f).remove("capture_focused");Ha(e,a)&&Lb(b)}a.customText||(a.customText={});var e=a.customText.dayLabelDateSelect||"day",f=a.customText.monthLabelDateSelect||"month",g=a.customText.yearLabelDateSelect||"year",h=Ce;a.monthNames&&t(a.monthNames)&&
12===a.monthNames.length&&(h=a.monthNames);var j=a.fieldPrefix||O,k='<div id="'+j+"form_item_"+a.name+'" class="capture_form_item capture_dateselectBlock">',n,o,u,s=t(a.format)&&3===a.format.length?a.format:["month","day","year"],v=a.value&&a.value.dateselect_day?parseInt(a.value.dateselect_day):"",x=a.value&&a.value.dateselect_year?parseInt(a.value.dateselect_year):"",y=a.value&&a.value.dateselect_month?parseInt(a.value.dateselect_month):"",f=[{text:f,value:"",disabled:!0},{text:h[0],value:1},{text:h[1],
value:2},{text:h[2],value:3},{text:h[3],value:4},{text:h[4],value:5},{text:h[5],value:6},{text:h[6],value:7},{text:h[7],value:8},{text:h[8],value:9},{text:h[9],value:10},{text:h[10],value:11},{text:h[11],value:12}],h=a.monthStart||1,z=a.monthEnd||13,A=a.dayStart||1,B=a.dayEnd||31,C=a.yearStart||1929,G=a.yearEnd||(new Date).getFullYear();u={elementName:a.name+"[dateselect_month]",elementId:a.name+"_dateselectmonth",rendererFieldName:a.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],
justElement:!0,value:y,options:f.slice(0,1).concat(f.slice(h,z))};o={elementName:a.name+"[dateselect_day]",elementId:a.name+"_dateselectday",elementClasses:["capture_dateselect_day"],rendererFieldName:a.name,rendererChildFieldName:"dateselect_day",justElement:!0,value:v,options:i(A,B,"asc",e)};C=parseInt(C,10);G=parseInt(G,10);n={elementName:a.name+"[dateselect_year]",justElement:!0,elementId:a.name+"_dateselectyear",rendererFieldName:a.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],
value:x,options:i(C,G,"desc",g)};for(e=0;3>e;e++){var D;switch(s[e]){case "month":D=u;break;case "day":D=o;break;case "year":D=n}0===e&&(D.label=a.label);2===e&&(D.publicPrivateToggle=a.publicPrivateToggle,D.displayPublic=a.displayPublic,D.tip=a.tip,D.justElement=!1);k+=l.createSelect(D)}if(a.datePicker){var H,s=new Date(y+"/"+v+"/"+x),F;F=isNaN(s.getMonth())?{provideOpenButton:!0}:{provideOpenButton:!0,defaultDate:s,preSelectedDate:s};xa(F,a.datePickerSettings||{});w.push({elementName:n.elementName,
eventType:"render",handler:function(){var a=document.getElementById(j+u.elementId),d=document.getElementById(j+o.elementId),b=document.getElementById(j+n.elementId);F.elementAttachedTo=b.parentNode;F.extraTargetElements=[a,d,b];F.callback=function(c){a.value=c.getMonth()+1;b.value=c.getFullYear();d.value=c.getDate();P(a);P(d);P(b);q(a).remove("capture_disabled");q(b).remove("capture_disabled");q(d).remove("capture_disabled");b.focus();b.blur()};H=new ib(F)}});var I=function(){if("undefined"!==typeof H){var a=
document.getElementById(j+u.elementId),d=document.getElementById(j+o.elementId),b=document.getElementById(j+n.elementId),c=new Date;c.setFullYear(b.value);c.setMonth(a.value-1);c.setDate(d.value);H.setSelectedDate(c)}};w.push({elementName:n.elementId,eventType:"change",handler:function(){I()}});w.push({elementName:u.elementId,eventType:"change",handler:function(){I()}});w.push({elementName:o.elementId,eventType:"change",handler:function(){I()}})}k+="</div>";w.push({elementName:a.name+"_dateselectyear",
handler:b,eventType:"focus"});w.push({elementName:a.name+"_dateselectyear",handler:c,eventType:"blur"});w.push({elementName:a.name+"_dateselectday",handler:b,eventType:"focus"});w.push({elementName:a.name+"_dateselectday",handler:c,eventType:"blur"});w.push({elementName:a.name+"_dateselectmonth",handler:b,eventType:"focus"});w.push({elementName:a.name+"_dateselectmonth",handler:c,eventType:"blur"});return k},addressFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";
var b="",b="";a.value.streetaddress&&(b+='<div class="capture_stringdata_addressBlock_streetaddress">'+a.value.streetaddress+"</div>");a.value.streetaddress2&&(b+='<div class="capture_stringdata_addressBlock_streetaddress2">'+a.value.streetaddress2+"</div>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)b+='<div class="capture_stringdata_addressBlock_citystatezip">';a.value.city&&(b+='<span class="capture_stringdata_addressBlock_city">'+a.value.city+"</span>, ");a.value.stateprovince&&
(b+='<span class="capture_stringdata_addressBlock_stateprovince">'+a.value.stateprovince+"</span> ");a.value.zippostalcode&&(b+='<span class="capture_stringdata_addressBlock_zippostalcode">'+a.value.zippostalcode+"</span>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)b+="</div>";a.value.country&&(b+='<div class="capture_stringdata_addressBlock_country">'+a.value.country+"</div>");return b=l.wrapStringData(a,b,"capture_stringdata_addressBlock")},addressFull:function(a){var b=a.defaultCountry||
"United States",c,e=z.prototype.render.html;a.value||(a.value={});a.customText||(a.customText={});var f=a.customText.stateLabel||"state",g=a.customText.countryLabel||"country";c='<div class="capture_form_item capture_addressBlock">'+e.input({elementName:a.name+"[streetaddress]",elementId:a.name+"_streetaddress",label:a.label||"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&
a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&a.placeholder.streetaddress?a.placeholder.streetaddress:""});c+=e.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});c+=e.input({elementName:a.name+"[city]",elementId:a.name+
"_city",elementClasses:["capture_addressFull_city"],type:"text",rendererChildFieldName:"city",rendererFieldName:a.name,value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});c+=z.prototype.render.capture.stateSelect({elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",rendererFieldName:a.name,label:"",customText:{stateLabel:f},placeholder:"State/Province",
hide:!("United States"===a.value.country||"Canada"===a.value.country||("United States"===b||"Canada"===b)&&"undefined"===typeof a.value.country),value:a.value&&a.value.stateprovince?a.value.stateprovince:""});c+=e.input({elementName:a.name+"[zippostalcode]",elementId:a.name+"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&
a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});c+=z.prototype.render.capture.countrySelect({elementName:a.name+"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],customText:{countryLabel:g},value:a.value&&a.value.country?a.value.country:b,placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:""});w.push({elementName:a.name+"_country",handler:function(b){var b=N(b),b=p(b),c=
this.options[this.selectedIndex].value||"",e=document.getElementById(b+a.name+"_stateprovince"),f=document.getElementById(b+a.name+"_stateprovince_hidden");"United States"===c||"Canada"===c?(document.getElementById(b+"form_item_"+a.name+"[stateprovince]").style.display="inline-block",f&&f.parentNode.removeChild(f)):(document.getElementById(b+"form_item_"+a.name+"[stateprovince]").style.display="none",e.selectedIndex=0,e[0].setAttribute("disabled","disabled"),e.parentNode.appendChild(l.domHelpers.createInput({elementType:"hidden",
fieldPrefix:b,elementValue:"",elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince_hidden"})))},eventType:"change"});return c+"</div>"},backButton:function(a){var b;a.type="button";a.elementContent='<span class="janrain-icon-16 janrain-icon-back"></span>';b=""+l.createButton(a);a.type="backButton";w.push({elementName:a.elementName,handler:function(){Ld=!1;var a=yc.pop();a&&(a.flow.oneTimeRender=void 0,janrain.capture.ui.render(a.flow,a.values))},eventType:"click"});return b},partial:function(a){var b=
document.getElementById(a.layout);if(b)return b.innerHTML;throw ea(a.layout);},photoManager:function(a,b){function c(b){ed=!1;var f=document.getElementById(j+a.name+"_profile_pic_uploadform_container"),m=document.getElementById(j+a.name+"_upload_photo_form");document.createElement("div").appendChild(m);f.innerHTML="";var g=document.createElement("div");g.innerHTML=s.uploadNewPhotoInstructionPhotoManager;f.appendChild(g);f.appendChild(m);e(document.getElementById(o));f=document.getElementById(j+"photo_chooser");
y(f,"change",ka);var h=janrain.events.onModalClose.addHandler(function(){ed=!0;janrain.events.onModalClose.removeHandler(h)},!0);b&&S(b)}var b=b?K.parse(b):{custom:!1},f={};if(t(a.value)&&a.value.length){qb={};for(var g=0,h=a.value.length;g<h;g++)qb[a.value[g].type]=a.value[g]}else qb=!1;var g=l.createDiv({elementName:a.elementName+"_parent"}),i=da,j=a.fieldPrefix||O,h=z.prototype.render.html,k="object"===typeof qb,n=k?"":"capture_profile_pic ",o=j+a.name+"_uploadphotoscreen";k&&qb.original&&qb.original.value.indexOf("?");
f.profilePicClass=n;f.uploadPhotoScreenId=o;var u={elementName:a.elementName};k&&qb.large&&(u.classes=["capture_userphoto"]);f.mainDiv=l.createDiv(u);f.closeDiv="</div>";a.customText||(a.customText={});var s=af(a.customText||{},{profilePhotoTitlePhotoManager:"Profile Photo",chooseNewPhotoLinkPhotoManager:"Choose new photo",removePhotoLinkPhotoManager:"Remove photo",chooseDifferentPhotoLinkPhotoManager:"Choose a different photo",uploadPhotoButtonTextPhotoManager:"Upload",removePhotoButtonTextPhotoManager:"Remove",
removePhotoCantBeUndoneText:"Can&#39;t Be Undone",removePhotoCancelButtonTextPhotoManager:"Cancel",uploadNewPhotoInstructionPhotoManager:""});f.profilePhotoTitle=s.profilePhotoTitlePhotoManager;f.prefixFieldName=j+a.name;Jb(document.getElementById(o));f.profileImage='<div style="cursor: pointer;" id="'+j+a.name+'_profile_pic" class="'+n+"capture_profile_pic_display"+(k?"":" capture_default")+'">';k&&qb.large&&(f.profileImage+=l.createImage({src:qb.large.value,imageId:a.name+"_profile_pic_image"}));
f.profileImage+="</div>";f.photoLinks=l.createListOfLinks([{listItemId:"upload_photo",listItemClasses:[],anchorText:s.chooseNewPhotoLinkPhotoManager,anchorHref:"#",anchorClasses:["capture_upload_photo_link"],anchorId:"upload_photo_link"},{listItemId:"remove_photo",listItemClasses:[],anchorText:s.removePhotoLinkPhotoManager,anchorHref:"#",anchorClasses:["capture_remove_photo_link"],anchorId:"remove_photo_link",hide:!k}],["options"]);f.uploadImage=k&&qb.large?l.createImage({src:qb.large.value,imageId:a.name+
"_profile_pic_image_upload"}):"";f.photoChooserErrors=l.createDiv({elementId:"photo_chooser_errors",classes:["capture_photo_chooser_form_error"]});f.photoChooserErrors+="</div>";var v=Aa();l.domHelpers.createIFrame(v,a.name+"_upload_photo_form");f.uploadFormOpen=h.form({action:"widget/photo/upload_photo.jsonp",elementAttributes:{enctype:"multipart/form-data"},transactionId:v,name:a.name+"_upload_photo_form",elementName:a.name+"_upload_photo_form",listenToFields:!1});f.uploadFileField=l.createInput({elementName:"photo",
elementId:"photo_chooser",justElement:!0,elementAttributes:{"data-capturefield":a.name},type:"file"});f.uploadSubmitButton=l.createInput({elementName:"photo_submit",elementId:"photo_submit",value:s.uploadPhotoButtonTextPhotoManager,classes:["capture_btn","capture_primary","capture_disabled"],justElement:!0,type:"submit"});f.uploadFormClose="</form>";f.chooseDifferentPhotoLink=l.createAnchor({elementHref:"#",elementText:s.chooseDifferentPhotoLinkPhotoManager,elementId:a.name+"_different_photo_link"});
b.custom?w.push({handler:function(){var b=document.getElementById(j+a.name+"_parent");b.innerHTML=fa(f,b.innerHTML);w.push({elementName:a.name+"_upload_photo_form",handler:Mb,eventType:"submit"});db(v)},eventType:"render"}):(g+=fa(f,'{| mainDiv |}     {| profileImage |}     {| photoLinks |}     &nbsp; {| closeDiv |}  <\!-- hidden upload form --\> <div style="display: none;">     {| uploadFormOpen |}     {| uploadFileField |}     <div class="capture_footer">         {| uploadSubmitButton |}     </div>     {| uploadFormClose |} </div>  <\!-- hidden upload screen --\> <div style="display: none;">     <div id="{| uploadPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| profilePhotoTitle |}</h1>         </div>{| photoChooserErrors |}         <div id="{| prefixFieldName |}_profile_pic_upload" class="{| profilePicClass |}capture_profile_pic_upload capture_default">             {| uploadImage |}             &nbsp;         </div>         <div id="{| prefixFieldName |}_profile_pic_uploadform_container" class="capture_uploadPhoto_container">         </div>     </div> </div> '),
g+="</div>",w.push({elementName:a.name+"_upload_photo_form",handler:Mb,eventType:"submit"}),db(v));w.push({eventType:"render",handler:function(){var b=document.getElementById(j+a.name+"_different_photo_link");y(b,"click",c)}});w.push({elementName:a.name+"_profile_pic",eventType:"click",handler:c});w.push({elementName:"upload_photo_link",handler:c,eventType:"click"});w.push({elementName:"remove_photo_link",handler:function(a){var b=N(a),d=p(b);if(!document.getElementById(d+"remove_photo_contain")){var c=
l.domHelpers.createDiv({elementId:"remove_photo_contain",fieldPrefix:d,classes:["capture_popup_container pad"]}),b=l.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementText:s.removePhotoButtonTextPhotoManager,elementId:"confirm_remove_photo_link"}),e=l.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementId:"cancel_remove_photo_link",elementText:s.removePhotoCancelButtonTextPhotoManager});c.innerHTML='<div class="capture_popup-arrow"></div><p>'+s.removePhotoCantBeUndoneText+"</p>";
c.appendChild(b);c.appendChild(e);document.getElementById(d+"remove_photo").appendChild(c);var f=function(a){var b=[d+"createFormAndPostSubmit",d+"confirm_remove_photo_link",d+"remove_photo_link"],e=N(a).getAttribute("id")||"";!A(b,N(a).getAttribute("id"))&&0>e.indexOf(d+"createFormAndPostSubmit_")&&(c.innerHTML="",Jb(c),zb(document,"click",f),S(a))};y(e,"click",f);y(document,"click",f);y(b,"click",function(a){l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",
fieldPrefix:d,captureScreen:i,needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});S(a)});S(a)}},eventType:"click"});w.push({eventType:"render",handler:function(){function a(){var b=document.getElementById(j+"photo_chooser").value?"remove":"append";q(d())[b]("capture_disabled")[b]("btn_disabled")}function b(a){var c;if(c=!gb)c=q(d()),c=(c.has("capture_disabled")||c.has("btn_disabled"))&&("click"==a.type||"keyup"==a.type&&a.keyCode==Fa);c&&S(a)}function d(){return document.getElementById(j+
"photo_submit")}a();y(document.getElementById(j+"photo_chooser"),"change",a);y(d(),"click",b);y(d(),"keyup",b)}});return g},datePicker:function(a){var b="",c={provideOpenButton:!0};a.type="text";xa(c,a.settings||{});b+=l.wrapFormItemStart(a);b+=l.createInput(a);b+=l.wrapFormItemEnd(a);w.push({elementName:a.elementName,eventType:"render",handler:function(a){a=document.getElementById(a);c.targetElement=a;new ib(c)}});l.attachFieldEventHandlers(a);a.type="datePicker";return b},slider:function(a){if(a.publicDisplay&&
"undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b=l.createDiv({elementName:"slider capture_form_item"}),c=z.prototype.render.html,e=a.fieldPrefix||O,f="initialPosition"in a?a.initialPosition:0,g=a.value&&0<=a.value.score?a.value.score:f,b=b+("<label>"+a.label+"</label>"),b=b+l.createDiv({elementName:a.elementName+"_container",classes:["capture_slider_container"]}),b=b+l.createDiv({elementName:a.elementName+"_base",classes:["capture_slider_base"]}),b=b+l.createDiv({elementName:a.elementName+
"_marker",classes:["capture_slider_marker"]}),b=b+'</div></div><div class="capture_slider_list"><ul>',f=0,h;for(;h=a.legend_items[f];f++)b+="<li>"+h+"</li> ";b+="</ul></div></div>";a.publicPrivateToggle&&(b+=l.createPublicPrivateToggle(a));b+=c.input({elementName:a.elementName+"[score]",elementId:a.elementName+"_score",name:a.elementName+"_score",rendererChildFieldName:"score",rendererFieldName:a.elementName,type:"hidden",validation:!1,value:a.value&&0<=a.value.score?a.value.score:"initialValue"in
a?a.initialValue:""});b+="</div>";w.push({elementName:a.elementName+"_marker",eventType:"render",handler:function(){document.getElementById(e+a.elementName+"_marker").style.left=(0<=g?g:"initialPosition"in a?a.initialPosition:0)+"%"}});if(!0===a.enabled){var i=!1;w.push({elementName:a.elementName+"_marker",eventType:qe,handler:function(b){i=!0;var c=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),c=c.getBoundingClientRect(),m=c.width?c.width:c.right-
c.left,c=new Xd;c.setElement(document.getElementById(e+a.elementName+"_marker")).setElementBoundary(document.getElementById(e+a.elementName+"_container")).setCallback(function(a){f.value=Math.round(100*(a.pos_x/m));P(f)}).drag(b);Zd.push(c);fd&&clearTimeout(fd)}});w.push({elementName:a.elementName+"_marker",eventType:id,handler:function(){var b=document.getElementById(e+a.elementName+"_marker"),c=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),
b=parseInt(xe(b.id,"left")),c=c.getBoundingClientRect();f.value=Math.round(100*(b/(c.width?c.width:c.right-c.left)))}});w.push({elementName:a.elementName+"_container",eventType:"mouseover",handler:function(){document.getElementById(e+a.elementName+"_container").style.cursor="pointer"}});w.push({elementName:a.elementName+"_container",eventType:"click",handler:function(b){if(!0===i)i=!1;else{var c=document.getElementById(e+a.elementName+"_marker"),f=document.getElementById(e+a.elementName+"_base"),
m=document.getElementById(e+a.elementName+"_score"),g=f.getBoundingClientRect(),h=g.width?g.width:g.right-g.left,r=b.clientX-He(f).x,b=parseInt(xe(c.id,"left")),b=isNaN(b)?0:b;(new Xd).setElement(c).setAcceleration("sinusoidal").setDuration(500).startPosition(b).endPosition(r).setDirection("horizontal").setCallback(function(){m.value=Math.round(100*(r/h));P(m)}).animate()}}})}return b},radioCollection:function(a){for(var b=a.fieldPrefix||O,c=l.createDiv({elementName:a.elementName,classes:a.classes||
[]}),e=0;e<a.collection.length;e++)c+="<div class='capture_radio_toggle",c+=(0===e?" capture_toggled":"")+"'>",c+="<input type='radio' id='"+b+"radio_"+a.collection[e].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===e?"checked='true' ":"")+"/>",c+="<label ",c+="class='capture_radio_label' ",c+="for='"+b+"radio_"+a.collection[e].elementName+"'>"+a.collection[e].label+" ",c+="</label></div>",w.push({elementName:"radio_"+a.collection[e].elementName,handler:function(b){ma(b,
a)},eventType:"click"});l.autoSelectPreferredTab(a,"radio");return c+"</div>"},tabCollection:function(a){for(var b,c=[],e=l.createDiv({elementName:a.elementName,classes:a.classes||[]}),f=0;f<a.collection.length;f++)b={listItemId:"tab_li_"+a.collection[f].elementName,listItemClasses:["capture_tab_toggle"],anchorId:"tab_"+a.collection[f].elementName,anchorText:a.collection[f].label,anchorHref:"#"},0===f&&b.listItemClasses.push("capture_toggled"),c.push(b),w.push({elementName:"tab_"+a.collection[f].elementName,
handler:function(b){ma(b,a)},eventType:"click"});l.autoSelectPreferredTab(a,"tab");e+=l.createListOfLinks(c,["capture_tabs"]);return e+"</div>"},newsletterSubscriptions:function(a){var b="",c=a.format||"",e=a.startHTML||"",f=a.endHTML||"",g=a.delimiter||"",h=t(a.value)?a.value:[],i=t(a.classes)?" "+a.classes.join(" "):[],j="capture_newsletter_checkbox"+i,n=h.length,o=(a.fieldPrefix||O)+"form_item_"+a.elementName,p=a.bulkUpdate,q,s,u;if(0<n){b+=l.wrapFormItemStart(a);b+=l.createLabel(a);b+=e;for(e=
0;e<n;++e)""!==c?b+=fa(h[e],c)+g:(s=h[e],q=s.display_name||"",checked="","active"===s.status&&(checked='checked="checked"'),q='<label><input type="checkbox" class="'+j+'" data-subId="'+s.list_id+'" value="'+s.list_id+'" name="'+a.name+'[]" '+checked+">"+q+"</label>",u="undefined"!==typeof s.description?'<p class="capture_newsletter_description'+i+'">'+s.description+"</p>":"",s="undefined"!==typeof s.image?l.createImage({src:s.image,classes:["capture_newsletter_image"].concat(i)}):"",b+=q+u+s+g);g&&
(b=b.slice(0,-g.length));b=b+f+l.createTip(a);b+=l.wrapFormItemEnd(a);p||w.push({handler:function(){for(var a=$("capture_newsletter_checkbox",document.getElementById(o)),b=0,d=a.length;b<d;++b)y(a[b],"change",function(a){var b=N(a),a=b.getAttribute("data-subId"),d=b.checked?"active":"inactive",b=Aa(),a=wa({list_id:a,token:ia,subscription_status:d,capture_transactionId:b});k("/widget/update_subscription.jsonp",a);Ba(b)})},eventType:"render"})}return b},pluralIterator:function(a){var b="",c="",e=a.format||
"",f=a.startHTML||"",g=a.endHTML||"",h=a.delimiter||"",i="undefined"===typeof a.emptyMessage?"There are no "+a.schemaId+".":a.emptyMessage,j=t(a.value)?a.value:[],k={},p=j.length,q,s=(a.fieldPrefix||O)+(a.elementId||a.elementName),u="<div id='"+s+"'>";if(0===p)b=i;else{for(q=0;q<p;++q)i=bf(j[q],a.propertyFormats),c+=fa(i,e)+h,k[j[q].id]=j[q];h&&(c=c.slice(0,-h.length));c&&(b+=f+c+g)}a.editable&&w.push({handler:function(){var b=document.getElementById(s),c=$("janrainCapturePluralEditBtn",b),e=c.length,
f=$("janrainCapturePluralDeleteBtn",b),m=f.length,b=$("janrainCapturePluralCreateBtn",b),g=o.fields[a.idField],h=g?document.getElementById(O+g.name):null;if(h){var r=ub(h,"form");if(r){var i=function(b){var b=N(b),c=b.getAttribute("data-plural-item-id"),e;null!==c&&(e=k[c],janrain.events.onCapturePluralItemEdit.fire({item:e,element:b,editor:a.name}),h.disabled=!1,F(a.fieldMapping,function(a,b){var d=o.fields[b];d&&l.setField(d,e[a],O)}))},p=function(b){var b=N(b),c=b.getAttribute("data-plural-item-id"),
e;null!==c&&(e=k[c],janrain.events.onCapturePluralItemDelete.fire({item:e,element:b,editor:a.name}),l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile/delete_from_plural",name:a.deleteForm,needsResponse:!0,fields:[{elementType:"hidden",elementName:"delete",elementValue:a.name+"["+c+"]"}],callback:function(){kc(!1)}}))},q;for(q=0;q<e;++q)c[q].setAttribute("data-plural-item-id",j[q].id),y(c[q],"click",i);if(a.deleteForm)for(q=0;q<m;++q)f[q].setAttribute("data-plural-item-id",
j[q].id),y(f[q],"click",p);else 0<m&&n.forceError("Plural iterator editor requires a delete form in the flow for deletions to work.");F(a.fieldMapping,function(a,b){var d=o.fields[b];d&&(d.idFieldElementId=O+g.name)});0<b.length&&(b=b[0],y(b,"click",function(b){b=N(b);janrain.events.onCapturePluralItemCreate.fire({element:b,editor:a.name});h.disabled=!0;F(a.fieldMapping,function(a,b){var d=o.fields[b];d&&l.resetField(d,O)})}));y(r,"submit",function(){var b=null;h.disabled||(b=k[h.value]);janrain.events.onCapturePluralItemSave.fire({item:b,
editor:a.name})})}else n.forceError("Plural iterator editor requires a form.")}else n.forceError("Plural iterator editor requires idField in flow and in your form.")},eventType:"render"});return u+b+"</div>"},datetime_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b,c,e,f=a.format||"{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}",g=(new Date).getFullYear(),h="01",i="01",j="NA",k="NA",n="NA",o;if("undefined"===typeof a.value||""===a.value)return"";
b=a.value.split(" ");c=b.length;for(o=0;o<c;++o)e=b[o].split("-"),3===e.length?(g=e[0],h=e[1],i=e[2]):(e=b[o].split(":"),3===e.length?(j=e[0],k=e[1],n=e[2].split(".")[0]):(e=b[o].split("/"),3===e.length&&(g=e[0],h=e[1],i=e[2])));b=new Date;"NA"!==j||"NA"!==k||"NA"!==n?(b.setUTCHours(j),b.setUTCMinutes(k),b.setUTCSeconds(n),b.setUTCMilliseconds(0),b.setUTCMonth(h-1),b.setUTCDate(i),b.setUTCFullYear(g)):(b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0),b.setMonth(h-1),b.setDate(i),
b.setFullYear(g));return"[object Date]"!==Object.prototype.toString.call(b)||isNaN(b.getTime())?a.value:a.justString?Da(f,b,{monthNames:a.monthNames,dayNames:a.dayNames}):l.wrapStringData(a,Da(f,b,{monthNames:a.monthNames,dayNames:a.dayNames}))}},widget:{login:function(){w.push({handler:function(){var a=document.getElementById("janrainEngageEmbed"),b=document.getElementById(O+"login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var d=Aa();janrain.engage.signin.appendTokenParams({capture_transactionId:d},
!0,!0)}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):(a=document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());Vc||ra()},eventType:"render"});var a=l.createDiv({elementName:"login_widget",classes:["login_widget"]});return a+"</div>"},share:function(a,b){b=b?K.parse(b):{text:"Share"};w.push({elementName:"share_widget",eventType:"click",handler:function(){janrain.engage.share.show()}});
var c=l.createDiv({elementName:"share_widget",classes:["share_widget"]});return c+=b.text+" </div>"}}};var Ye=function(){function a(b,d,c){b={required:b,type:d};return"object"===typeof c?xa(b,c):b}function b(c,e){return a(!0,c,e)}function c(b,e){return a(!1,b,e)}function e(a,b){F(g,function(d,c){F(c,function(c,e){a.call(b,d,c,e)})})}var f={name:b("string"),elementName:b("string"),value:c("array",{subtype:"string"}),options:b("array",{subtype:"object",subtypeDefinition:{value:c("string"),label:c("string")}})},
g={data:{engageCookie:{name:"Engage Cookie Data",definition:{cookieName:b("string")}},localStorage:{name:"Local Storage Data",definition:{fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),classes:c("array",{subtype:"string"}),data:b("string")}},string:{name:"String Data",definition:{displayPublic:b("boolean"),value:c("string"),displaySavedValue:c("boolean"),justString:c("boolean"),hideWhenValue:c("string")}},image:{name:"Image Data",definition:{value:b("string"),returnImageTag:c("boolean"),
elementName:c("string"),hide:c("boolean"),classes:c("array",{subtype:"string"}),elementId:c("string")}}},html:{anchor:{name:"HTML Anchor",definition:{elementClasses:c("array",{subtype:"string"}),elementText:b("text"),fieldPrefix:c("string"),elementHref:b("string"),elementName:b("string"),target:c("string"),name:b("string")}},textarea:{name:"Text Area",definition:{elementClasses:c("array",{subtype:"string"}),fieldPrefix:c("string"),elementId:c("string"),rows:c("number"),name:b("string"),placeholder:c("string"),
value:c("text"),publicPrivateToggle:c("boolean")}},select:{name:"Select",definition:{elementClasses:c("array",{subtype:"string"}),fieldPrefix:c("string"),rendererFieldName:c("string"),rendererChildFieldName:c("string"),dontShowTip:c("boolean"),showFieldWhere:c("string"),name:b("string"),elementName:b("string"),options:b("array",{subtype:"object",subtypeDefinition:{text:b("string"),value:c("string")}}),publicPrivateToggle:c("boolean")}},multi:{name:"Mutli",definition:f},multiCheckbox:{name:"Checkboxes",
definition:f},multiRadio:{name:"Radio Buttons",definition:f},input:{name:"Input",definition:{type:b("string"),fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),justElement:c("boolean"),collection:c("boolean"),rendererFieldName:c("string"),rendererChildFieldName:c("string"),hide:c("boolean"),elementValue:c("string"),value:c("string"),placeholder:c("string"),engageData:c("string"),checked:c("boolean"),modify:c("boolean"),publicPrivateToggle:c("boolean"),profileStoragePath:c("boolean"),
displaySavedValue:c("boolean")}},button:{name:"Button",definition:{fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),elementClasses:c("array",{subtype:"string"}),type:c("string"),hide:c("boolean"),name:b("string"),value:c("string"),elementContent:c("string"),modify:c("boolean")}},form:{name:"Form",definition:{elementAttributes:c("object",{subtype:"string"}),localFieldPrefix:c("string"),classes:c("array",{subtype:"string"}),action:b("string"),transactionId:b("string"),serverNextScreen:c("boolean"),
hideOnSubmit:c("boolean"),engageTokenRequired:c("boolean"),checkIdentifier:c("boolean")}},div:{name:"Div",definition:{fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),elementAttributes:c("object",{subtype:"string"}),classes:c("array",{subtype:"string"}),type:c("string"),name:b("string"),elementText:b("text")}},close:{name:"Close",definition:{element:b("string"),type:c("string")}}},capture:{table:{name:"Table",definition:{th:b("object",{definition:{display:c("boolean"),cols:c("array",
{subtype:"string"})}}),rows:b("array",{subtype:"object",subtypeDefinition:{cells:b("array",{subtype:"object",subtypeDefinition:{elementValue:"string"}})}})}},countrySelect:{name:"Country Select",definition:{customText:c("object",{definition:{countryLabel:c("string")}})}},stateSelect:{name:"State Select",definition:{customText:b("object",{definition:{stateLabel:c("string")}}),noCanadianProvinces:c("boolean")}},keepMeLoggedIn:{name:"Keep Me Logged In",definition:{fieldPrefix:b("boolean"),label:c("string"),
name:b("string"),checked:c("boolean")}},captcha:{name:"CAPTCHA",definition:{name:b("string"),label:c("string")}},mergeAccounts:{name:"Merge Accounts",definition:{value:b("string"),customText:c("object",{subtype:"string",definition:{connectRadio:c("string"),connecetLegacyRadio:c("string"),createRadio:c("string"),foundExistingAccount:c("string"),moreInfoHover:c("string"),moreInfo:c("string"),createButton:c("string"),name:b("string"),traditionalMergeScreen:b("string"),useConnectIcons:c("boolean"),connectButton:c("string")}})}},
publicProfileLink:{name:"Public Profile Link",definition:{elementHref:c("string"),elementAttributes:c("object",{subtype:"string"}),addUUIDToLink:c("boolean")}},linkSocialAccount:{name:"Link Social Account",definition:{provider:b("string"),elementClasses:c("string"),elementContent:b("string")}},linkAccounts:{name:"Link Accounts",definition:{value:c("object",{definition:{providers:b("array",{subtype:"string"}),displayNames:b("array",{subtype:"string"}),identifiers:b("array",{subtype:"string"}),prettyProviders:b("array",
{subtype:"string"}),customProviders:b("array",{subtype:"string"})}}),customText:c("object",{subtype:"string"}),fieldPrefix:c("string"),name:c("string"),linkAccountContainer:b("string"),providerIconSize:c("number"),displayFormatKnown:c("string"),customIcons:c("boolean"),customAddLinks:c("boolean"),customAddLinkFormat:c("string")}},errorMessages:{name:"Error Messages",definition:{}},savedProfileMessage:{name:"Saved Profile Message",definition:{}},nameFull_public:{name:"Name Full Public",definition:{displayPublic:b("boolean"),
justString:c("boolean"),value:b("object",{definition:{firstname:c("string"),middlename:c("string"),lastname:c("string")}})}},nameFull:{name:"Name Full",definition:{name:b("string"),publicPrivateToggle:b("boolean"),displayPublic:b("boolean"),value:c("object",{definition:{firstname:c("string"),middlename:c("string"),lastname:c("string")}}),placeholder:c("object",{definition:{firstname:c("string"),middlename:c("string"),lastname:c("string")}})}},dateselect_public:{name:"Date Select Public",definition:{displayPublic:b("boolean"),
justString:c("boolean"),format:c("string"),value:b("object",{definition:{dateselect_year:b("number"),dateselect_month:b("number"),dateselect_day:b("number")}})}},dateselect:{name:"Date Select",definition:{customText:c("object",{definition:{yearLabelDateSelect:c("string"),monthLabelDateSelect:c("string"),dayLabelDateSelect:c("string"),fieldPrefix:c("string"),name:b("string"),format:c("array",{subtype:"string"}),monthStart:c("number"),monthEnd:c("number"),dayStart:c("number"),dayEnd:c("number"),yearStart:c("number"),
yearEnd:c("number"),label:c("string"),publicPrivateToggle:c("boolean"),displayPublic:b("boolean"),tip:c("string"),datePickerSettings:c("object"),elementName:b("string")}})}},addressFull_public:{name:"Address Full Public",definition:{displayPublic:c("boolean"),value:b("object",{definition:{streetaddress:c("string"),streetaddress2:c("string"),stateprovince:c("string"),zippostalcode:c("string"),country:c("string"),city:c("string")}})}},addressFull:{name:"Address Full",definition:{name:b("string"),publicPrivateToggle:c("boolean"),
displayPublic:c("boolean"),value:c("object",{definition:{streetaddress:c("string"),streetaddress2:c("string"),stateprovince:c("string"),zippostalcode:c("string"),country:c("string"),city:c("string")}}),customText:c("object",{definition:{stateLabel:c("string"),countryLabel:c("string")}}),placeholder:c("object",{definition:{streetaddress:c("string"),streetaddress2:c("string"),stateprovince:c("string"),zippostalcode:c("string"),country:c("string"),city:c("string")}})}},backButton:{name:"Back Button",
definition:null},partial:{name:"Partial",definition:{layout:b("string")}},photoManager:{name:"Photo Manager",definition:{elementName:b("string"),fieldPrefix:c("string"),previewSizeWidth:c("number"),previewSizeHeight:c("number"),originalMaxWidth:c("number"),originalMaxHeight:c("number"),name:b("string"),value:c("array",{subtype:"object",subtypeDefinition:{type:b("string")}}),customText:c("object",{definition:{profilePhotoTitlePhotoManager:c("string"),editProfilePhotoTitlePhotoManager:c("string"),editProfileInstructionPhotoManager:c("string"),
chooseNewPhotoLinkPhotoManager:c("string"),removePhotoLinkPhotoManager:c("string"),editPhotoLinkPhotoManager:c("string"),chooseDifferentPhotoLinkPhotoManager:c("string"),editPhotoButtonTextPhotoManager:c("string"),uploadPhotoButtonTextPhotoManager:c("string"),removePhotoButtonTextPhotoManager:c("string"),removePhotoCancelButtonTextPhotoManager:c("string"),uploadNewPhotoInstructionPhotoManager:c("string"),uploadNextStepInstructionPhotoManager:c("string"),editPhotoPreviewTitlePhotoManager:c("string")}})}},
datePicker:{name:"Date Picker",definition:{monthPreviousText:c("string"),monthNextText:c("string"),openOnTargetElementFocus:c("boolean"),provideOpenButton:c("boolean"),hasCloseButton:c("boolean"),minimumSelectableDate:c("string"),maximumSelectableDate:c("string"),monthAndYearSelectable:c("boolean"),defaultDate:c("string"),arrowKeyNavigation:c("boolean"),format:c("string"),calendarTitleFormat:c("string"),monthNames:c("array",{subtype:"string"}),weekStartsOnMonday:c("boolean"),daysOfWeek:c("array",
{subtype:"string"}),additionalClasses:c("array",{subtype:"string"})}},slider:{name:"Slider",definition:{publicDisplay:c("boolean"),displayPublic:c("boolean"),fieldPrefix:c("string"),initialPosition:c("number"),label:b("string"),elementName:b("string"),legend_items:b("array",{subtype:"string"}),publicPrivateToggle:c("boolean"),enabled:c("boolean"),value:c("object",{definition:{score:c("number")}})}},radioCollection:{name:"Radio Collection",definition:{classes:c("array",{subtype:"string"}),fieldPrefix:c("string"),
elementName:c("string"),collection:b("array",{subtype:"object",subtypeDefinition:{elementName:b("string")}})}},tabCollection:{name:"Tab Collection",definition:{classes:c("array",{subtype:"string"}),elementName:c("string"),collection:b("array",{subtype:"object",subtypeDefinition:{elementName:b("string")}})}},newsletterSubscriptions:{name:"Newsletter Subscriptions",definition:{format:c("string"),startHTML:c("string"),endHTML:c("string"),delimiter:c("string"),value:c("array",{subtype:"string"}),classes:c("array",
{subtype:"string"}),fieldPrefix:c("string"),elementName:b("string")}},pluralIterator:{name:"Plural Iterator",definition:{format:c("string"),startHMTL:c("string"),endHTML:c("string"),delimiter:c("string"),emptyMessage:c("string"),value:c("array",{subtype:"object"})}},datetime_public:{name:"Date Time Public",definition:{displayPublic:c("boolean"),format:c("string"),value:c("string"),justString:c("boolean")}}},widget:{login:{name:"Login Widget",definition:{}},share:{name:"Share Widget",definition:{}}}},
h=[];e(function(a,b){h.push(a+"."+b)});var i=g,f=i.capture,i=i.html;f.dateselect.definition.customText.definition.datePickerSettings=f.datePicker.definition;f.backButton.definition=xa({},i.button.definition);e(function(a,b,d){d.path=a+"."+b;d.group=a;d.name=b;xa(d.definition,{schemaId:c("string"),label:c("string"),tip:c("string")});"html"===a?d.definition.element=b:(d.definition.element=a,d.definition.type=b)});return{listComponents:function(){return h},componentDefinition:function(a){0>a.indexOf(".")&&
(a="html."+a);return Ca(g,a)}}}(),ie=!0,oa={},pe,Fb={addCustomLink:function(a,b,c){var e=b.fieldPrefix||O,f=document.createElement("li");f.className="capture_custom_add_linkedaccount";f.setAttribute("data-captureprovider",a);f.innerHTML=fa({provider:a},b.customAddLinkFormat);c&&c.parentNode?c.parentNode.insertBefore(f,c):document.getElementById(e+b.name+"_linkedproviderlist").appendChild(f)},unLinkAccountSuccessCallback:function(a,b){janrain.events.onCaptureProfileUnlink.fire({provider:b});var c=
a.value.providers.indexOf(b);F(a.value,function(a,b){t(b)&&b.splice(c,1)})},unLinkAccount:function(a,b,c,e){if(!("keypress"===a.type&&a.keyCode!==Fa)){var f=N(a);"#"===f.getAttribute("href")&&S(a);if(q(f).has("capture_remove_linkedaccount")){var g=this.completeUnLinkAccount;pe=function(){e&&e();g(f,b,c)};b.confirmRemoval?("undefined"===typeof hd&&(hd=new jf,hd.setTitle(na.confirmRemoveLinkedTitle||"Remove Linked Account?").setMessage(na.confirmRemoveLinkedMessage||"Are you sure you want to remove this linked account?").setButtons(na.confirmRemoveLinkedNoText||
"Cancel",na.confirmRemoveLinkedYesText||"Yes").setCallback(function(a){1===a.index&&pe();hd.close()})),hd.open()):pe()}}},completeUnLinkAccount:function(a,b,c){var e=a.getAttribute("data-captureidentifier"),f=a.getAttribute("data-captureprovider"),g=a.parentNode.getAttribute("data-capturerelatedfieldsid");b.customAddLinks&&Fb.addCustomLink(f,b,a.parentNode);Jb(a.parentNode);g&&Jb(document.getElementById(g));l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",
elementId:"getUserData_form",fieldPrefix:b.fieldPrefix||O,captureScreen:c,needsResponse:!0,callback:function(){Fb.unLinkAccountSuccessCallback(b,f)},fields:[{elementName:"identifier[]",elementType:"hidden",elementValue:e},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:e}]})},openInModal:function(a,b,c){janrain.engage&&janrain.engage.signin&&(janrain.engage.signin.setNoReturnExperience(!0),janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:b},!0));e(document.getElementById(c));
S(a)},linkWithCustomLink:function(a,b){if(!("keypress"===a.type&&a.keyCode!=Fa)){var c=N(a),c=ub(c,"li");q(c).has("capture_custom_add_linkedaccount")&&(c=c.getAttribute("data-captureprovider"),Nb(b,c))}},triggerLinkSocialAccountFlow:function(a,b,c){"keypress"===a.type&&a.keyCode!==Fa||Nb(b,c)},renderHandler:function(a,b){var c=document.getElementById(a);document.getElementById(b).appendChild(c)}},ed=!0,Qe=0,Re,fd=0,ke=0,Rd=janrain.settings.capture.autoSaveUpdateInterval||1E4,Vd=janrain.settings.capture.autoSaveDelay||
janrain.settings.capture.autoSaveInterval||1E4;Ke=function(a){if(janrain.settings.capture.redirectFlow){var b=dc(Hd?"true":"false");Ba(b.capture_transactionId);b.flow=M();delete b.token;a&&(b.capture_screen=da,b.engage_add_account=!0,b.access_token=ia);a=a?"/widget/profile":"/widget/token_url";b=Mc(b);return janrain.settings.capture.captureServer+a+b}};var Se={reactivateAccount:function(a){if("accountReactivated"===a.statusMessage||"invalidReactivationCode"===a.statusMessage)"success"===a.status?
janrain.events.onCaptureAccountReactivateSuccess.fire(a):janrain.events.onCaptureAccountReactivateFailed.fire(a)},deactivateAccount:function(a){a.statusMessage&&("success"===a.status&&"accountDeactivated"===a.statusMessage?janrain.events.onCaptureAccountDeactivateSuccess.fire(a):janrain.events.onCaptureAccountDeactivateFailed.fire(a))},emailCode:function(a){if("verified"===a.statusMessage||"invalidVerificationCode"===a.statusMessage)"success"===a.status?wb(a)?(a.accessToken||a.authorizationCode)&&
Eb(a,"onCaptureEmailVerificationSuccess"):janrain.events.onCaptureEmailVerificationSuccess.fire(a):janrain.events.onCaptureEmailVerificationFailed.fire(a);else if("forgotPasswordCodeRedeemed"===a.statusMessage||"invalidForgotPasswordCode"===a.statusMessage)"success"===a.status?wb(a)?(a.accessToken||a.authorizationCode)&&Eb(a,"onCaptureForgotPasswordCodeSuccess"):janrain.events.onCaptureForgotPasswordCodeSuccess.fire(a):janrain.events.onCaptureForgotPasswordCodeFailed.fire(a)},profile:function(a){"profileFound"!==
a.statusMessage&&("success"===a.status?(de=!0,ke=(new Date).getTime(),janrain.events.onCaptureProfileSaveSuccess.fire(a)):janrain.events.onCaptureProfileSaveFailed.fire(a))},traditionalSignin:function(a){bd=!1;if("success"!==a.status)janrain.events.onCaptureLoginFailed.fire(a);else{if(a.authorizationCode){var b=pd(janrain.settings.capture.redirectUri,{code:a.authorizationCode});a.redirectUri=b}if(a.accessToken||a.authorizationCode){if(wb(a))a.oneTime?(bd=!0,a.fireEvent="onCapturePostLoginScreen"):
Eb(a,"onCaptureLoginSuccess");else if(Id)Id=!1;else if(a.oneTime){bd=!0;var c=X(a);delete c.accessToken;janrain.events.onCapturePostLoginScreen.fire(c)}else janrain.events.onCaptureLoginSuccess.fire(a);("traditionalSignin"===a.action||"socialSignin"===a.action)&&Ma(a.action);janrain.settings.capture.federate&&a.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(a),vb(a.transactionId),U=!0)}a.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=b)}},postLoginConfirmation:function(a){"success"!==
a.status?janrain.events.onCaptureLoginFailed.fire(a):a.oneTime?janrain.events.onCapturePostLoginScreen.fire(a):cd&&!bd?janrain.events.onCaptureRegistrationSuccess.fire(a):!cd&&bd&&janrain.events.onCaptureLoginSuccess.fire(a)},traditionalRegister:function(a){cd=!1;if("success"!==a.status)janrain.events.onCaptureRegistrationFailed.fire(a);else{if(!wb(a))if(a.oneTime){cd=!0;var b=X(a);delete b.accessToken;janrain.events.onCaptureRegistrationSuccessNoLogin.fire(b);janrain.events.onCapturePostLoginScreen.fire(b)}else janrain.events.onCaptureRegistrationSuccess.fire(a);
dd&&(dd=!1);if(a.accessToken||a.authorizationCode)"socialRegister"===a.action?Ma("socialSignin"):Ma("traditionalSignin"),wb(a)&&(a.oneTime?(cd=!0,a.fireEvent=["onCapturePostLoginScreen","onCaptureRegistrationSuccessNoLogin"]):Eb(a,"onCaptureRegistrationSuccess"))}},control:function(a){"success"===a.status?janrain.events.onCaptureControlSuccesss.fire(a):janrain.events.onCaptureControlFailed.fire(a)}};(function(){this.otpSignin=this.ssoSignin=this.socialSignin=this.traditionalSignin;this.socialRegister=
this.traditionalRegister}).call(Se);var Te=function(){Tb("accessDenied","capture_access","Sorry. Access denied.");Tb("retrievingUserData","capture_retrieving","Please wait while we retrieve your user data.");Tb("dialog","capture_dialog","",{layout:"captureDialogBuiltIn",modal:!0,modalLoadOnLoad:!0,source:"server"})};Te();var Wd=[],oe={};return{modal:{close:function(){"object"==typeof x&&x.close()},closeConfirm:function(){"object"==typeof x&&x.closeConfirm()},open:function(a){Q=!0;var b=a||Z.flow.defaultScreen;
if("object"==typeof x&&(a&&janrain.capture.ui.renderScreen(b),a=Z.div))x.setShowContentOnLoad(!0),x.addContent(a).show(),janrain.events.onCaptureContentChange.fire()},setBorder:function(a){"object"===typeof x&&(x.setBorder(a),x.refresh({center:!0}));return!0},setBorderColor:function(a){"object"===typeof x&&(x.setBorderColor(a),x.refresh());return!0},setBorderOpacity:function(a){"object"===typeof x&&(x.setBorderOpacity(a),x.refresh());return!0},setBorderRadius:function(a){"object"==typeof x&&(x.setBorderRadius(a),
x.refresh());return!0},setOverlayZIndex:function(a){"object"==typeof x&&(x.setZIndex(a),x.refresh());return!0}},start:function(a,b){Hb.fire();if(janrain.settings.capture.hasSettings&&janrain.settings.capture.appId&&janrain.settings.capture.clientId){var c=V()+"/widget_data/settings/"+janrain.settings.capture.appId+"/"+janrain.settings.capture.clientId+".js";nd(c,function(){f(a,b)}).setTimeoutCallback(function(){janrain.settings.capture.hasSettings=!1;n.forceError("Failed to load capture settings.");
f(a,b)}).load()}else f(a,b)},hasActiveSession:function(){return!!ia},renderComponent:bb().renderField,listComponents:Ye.listComponents,componentDefinition:Ye.componentDefinition,render:function(a,c){if(janrain.settings.capture.hasSettings){if(uc){var e,f,g,h,i,j;e=uc.mergeFlow;f=a.mergeFromSettings;if(e&&f)for(h=0,i=f.length;h<i;++h)g=f[h],j=Ca(e,g),g=Ca(a,g),j&&g&&De(g,j)}else n.forceError("_clientSettings doesn't exist: did _clientSettings fail to load from the server?");pc(a)}Jc(a);Sb||(Sb=b());
a.i18nStrings&&(na=a.i18nStrings);na.validatingText&&(Ve=na.validatingText);if(a.version)Ad=a.version;else throw Error("MissingVersionError: Missing version.");Bc(a);Ed=a.hasTraditionalAccount;ae=a.form;if(Ed){e=$("janrain_traditional_account_only");f=e.length;for(h=0;h<f;h++)e[h].style.display="block"}Rb(a);e=new bb;f=!1;ad&&dd&&(f=janrain.settings.capture.registerFlow||"socialRegister");f=o.oneTimeRender||f||janrain.settings.capture.screenToRender||o.defaultScreen;e.setScreenData(f,o.screens[f]);
if(c)for(var k in c)c[k].id&&c[k].value&&(e=document.getElementById(c[k].id),e.value=c[k].value,"radio"===c[k].type&&(e.checked=c[k].checked,c[k].checked&&e.click()))},renderScreen:function(a,b){var c=o.screens[a];c?(Ld=!1,b||yc.push(Z),(new bb).setScreenData(a,c)):n.forceError("Can't render - Missing screen '"+a+"' in flow.")},applySettings:function(a){uc=a;ja=a.janrain_settings_version||""},getClientSettings:function(){return X(uc)},setHandler:function(a,b,c){this.setFieldAttribute(a,b+"Handler",
c)},setFieldAttribute:function(a,b,c){$c.push({field:a,attribute:b,value:c})},setRenderer:function(a,b,c){z.prototype.render[a].helpers=je;z.prototype.render[a][b]=c},setValidator:function(a,b){ha.prototype[a]=b},registerFunction:function(a,b){oe[a]=b},addRenderer:function(a,b,c){this.setRenderer(a,b,c)},trackLoadedCssFiles:function(a){le.push(a)},handleCaptureUniqueResponse:function(a){Nc(a)},handleCaptureResponse:function(a,b){Lc(a,b)},handleErrorResponse:function(a,b){Qc(a,b)},createCaptureSession:function(a){ba(a)},
endCaptureSession:function(){La()},addTransactionIds:function(a){Ub(a)},getFailedLogins:function(){return vc},setCustomHtml:function(a,b){Gc(a,b)},getEngageCookie:function(a){return Hc(a)},getProfileCookieData:function(a,b){return Wc(a,b)},getReturnExperienceData:function(a,b){return kd(a,b)},federateLogoutCallbackFired:function(a,b){n.info("Federate logout callback fired");A(Dd,a)||(Dd.push(a),b())},federateNoLogin:function(a){n.info("federateNoLogin called at "+new Date);janrain.events.onCaptureFederateNoLogin.fire(a.result);
vb(a.transactionId);cc();U=!0},federateSetLoginSuccess:function(a){n.info("Federate set login success");a&&a.transactionId&&Qb&&Qb[a.transactionId]&&(Qb[a.transactionId].setLoginSuccess=!0,Qb[a.transactionId].eventFiredDueToSlowResponse||tc(a.transactionId))},federateRefreshToken:function(b){b&&"ok"===b.stat?(ba(b.accessToken,!1,!0),s()):6>=++a?(n.warn("SSO refresh token returned: "+b.stat+" at "+new Date),n.warn("SSO refresh token retry attempt: "+a),s()):n.error("SSO refresh token failed with stat: "+
b.stat+" at "+new Date)},linkSocialAccount:function(a){Vc||ra();Nb(da,a)},scriptLoader:function(a,b){return nd(a,b)},noop:function(){},validationHandler:function(a){var b=document.getElementById(a.elementId),c=new l.validation;c.setParentDiv(b);c.setElement(b);c.valid();a.valid?c.valid():c.notValid(a.reason)},setNoReturnExperience:function(){var a=new C;a.setUseLocalStorage(!0).setName("janrainLastAuthMethod");a.remove();janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);
Zc&&janrain.capture.ui.renderScreen(Zc)},getPublicProfile:function(a,b){Ic(a,b)},activateCaptureControl:function(a){jb(a)},postCaptureForm:function(a,b){od(a,b)}}};Oc();return{engage:{signin:"loaded"===Ca(janrain,"engage.signin.status")?janrain.engage.signin:sf,share:"loaded"===Ca(janrain,"engage.share.status")?janrain.engage.share:tf},capture:{ui:uf}}}();janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;