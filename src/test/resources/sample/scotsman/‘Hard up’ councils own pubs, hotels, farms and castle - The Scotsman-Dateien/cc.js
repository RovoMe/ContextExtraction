(function(){var ccJs=function(options){var mode='BCP';var bcpDomain='',async_props={async:false,asyncBehaviors:{},asyncOpportunityIds:[],asyncOpportunities:[]},behaviors={},urls={},bcpd_callback=null,pv="pv=y",dobcp=false,placementOpps={p:[],pt:[]};var userAgent=navigator.userAgent.toLowerCase(),domain=document.domain,test=false,sep="/",delim="/",autoFire=false;var portNumber;var client, bcpClient; client = bcpClient =4810;var networkClient = { id: 4810, useFirstPartyDomain: 'NEVER', domainPrefix: 'cc', cookieDomain: '',cookieDomainIDN: '' };var mappedClientList = [{ id: 5083, domain: 'portsmouth.co.uk', punyDomain: 'portsmouth.co.uk', matchType: 'ALL'},{ id: 5082, domain: 'thestar.co.uk', punyDomain: 'thestar.co.uk', matchType: 'ALL'},{ id: 4944, domain: 'yorkshireeveningpost.co.uk', punyDomain: 'yorkshireeveningpost.co.uk', matchType: 'ALL'},{ id: 4945, domain: 'scotsman.com', punyDomain: 'scotsman.com', matchType: 'ALL'},{ id: 5087, domain: 'lep.co.uk', punyDomain: 'lep.co.uk', matchType: 'ALL'},{ id: 5086, domain: 'blackpoolgazette.co.uk', punyDomain: 'blackpoolgazette.co.uk', matchType: 'ALL'},{ id: 5085, domain: 'sunderlandecho.com', punyDomain: 'sunderlandecho.com', matchType: 'ALL'},{ id: 5424, domain: 'wownewv2.johnstonpress.co.uk', punyDomain: 'wownewv2.johnstonpress.co.uk', matchType: 'ALL'},{ id: 5298, domain: 'dvlpashb.lep.co.uk', punyDomain: 'dvlpashb.lep.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'free-adstoday.co.uk', punyDomain: 'free-adstoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'leightonbuzzardonline.co.uk', punyDomain: 'leightonbuzzardonline.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'northantstelegraph.co.uk', punyDomain: 'northantstelegraph.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'themercury.co.za', punyDomain: 'themercury.co.za', matchType: 'ALL'},{ id: 4963, domain: 'announce.jpress.co.uk', punyDomain: 'announce.jpress.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'fraserburghherald.co.uk', punyDomain: 'fraserburghherald.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'louthleader.co.uk', punyDomain: 'louthleader.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'warwickcourier.co.uk', punyDomain: 'warwickcourier.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'leamingtoncourier.co.uk', punyDomain: 'leamingtoncourier.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'maltonmercury.co.uk', punyDomain: 'maltonmercury.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'kirkintilloch-herald.co.uk', punyDomain: 'kirkintilloch-herald.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'linlithgowgazette.co.uk', punyDomain: 'linlithgowgazette.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'edinburgh-festivals.com', punyDomain: 'edinburgh-festivals.com', matchType: 'ALL'},{ id: 4963, domain: 'wigantoday.net', punyDomain: 'wigantoday.net', matchType: 'ALL'},{ id: 4963, domain: 'gallowaygazette.co.uk', punyDomain: 'gallowaygazette.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'bingotoday.co.uk', punyDomain: 'bingotoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'johnstonprinting.co.uk', punyDomain: 'johnstonprinting.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'harrogateadvertiser.co.uk', punyDomain: 'harrogateadvertiser.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'yorkshirelife.co.uk', punyDomain: 'yorkshirelife.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'buteman.co.uk', punyDomain: 'buteman.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'southyorkshiretimes.co.uk', punyDomain: 'southyorkshiretimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'midlothianadvertiser.co.uk', punyDomain: 'midlothianadvertiser.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'rugbyadvertiser.co.uk', punyDomain: 'rugbyadvertiser.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'forfardispatch.co.uk', punyDomain: 'forfardispatch.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'findabusinesstoday.co.uk', punyDomain: 'findabusinesstoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'whitbygazette.co.uk', punyDomain: 'whitbygazette.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'hemsworthandsouthelmsallexpress.co.uk', punyDomain: 'hemsworthandsouthelmsallexpress.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'eastmidlandsnewspapers.newsprints.co.uk', punyDomain: 'eastmidlandsnewspapers.newsprints.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'fileymercury.co.uk', punyDomain: 'fileymercury.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'fenlandcitizen.co.uk', punyDomain: 'fenlandcitizen.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'northeastjobstoday.co.uk', punyDomain: 'northeastjobstoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'northumberlandgazette.co.uk', punyDomain: 'northumberlandgazette.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'eastwoodadvertiser.co.uk', punyDomain: 'eastwoodadvertiser.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'farminglife.com', punyDomain: 'farminglife.com', matchType: 'ALL'},{ id: 4963, domain: 'bucksherald.co.uk', punyDomain: 'bucksherald.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'ballymoneytimes.co.uk', punyDomain: 'ballymoneytimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'berwick-advertiser.co.uk', punyDomain: 'berwick-advertiser.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'stokenewingtongazette.co.uk', punyDomain: 'stokenewingtongazette.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'eastbourneherald.co.uk', punyDomain: 'eastbourneherald.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'chad.co.uk', punyDomain: 'chad.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'beverleyguardian.co.uk', punyDomain: 'beverleyguardian.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'ellontimes.co.uk', punyDomain: 'ellontimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'midulstermail.co.uk', punyDomain: 'midulstermail.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'stornowaygazette.co.uk', punyDomain: 'stornowaygazette.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'westsussextoday.co.uk', punyDomain: 'westsussextoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thestar.co.za', punyDomain: 'thestar.co.za', matchType: 'ALL'},{ id: 4963, domain: 'bognor.co.uk', punyDomain: 'bognor.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'stratfordobserver.co.uk', punyDomain: 'stratfordobserver.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'larnetimes.co.uk', punyDomain: 'larnetimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'garstangcourier.co.uk', punyDomain: 'garstangcourier.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'mirfieldreporter.co.uk', punyDomain: 'mirfieldreporter.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thewestonmercury.co.uk', punyDomain: 'thewestonmercury.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'spaldingtoday.co.uk', punyDomain: 'spaldingtoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'hucknalldispatch.co.uk', punyDomain: 'hucknalldispatch.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'touchfm962.co.uk', punyDomain: 'touchfm962.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thametoday.co.uk', punyDomain: 'thametoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thornegazette.co.uk', punyDomain: 'thornegazette.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'businessmatterssussex.co.uk', punyDomain: 'businessmatterssussex.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'ripleyandheanornews.co.uk', punyDomain: 'ripleyandheanornews.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'tyronetimes.co.uk', punyDomain: 'tyronetimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'eastlothiannews.co.uk', punyDomain: 'eastlothiannews.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'hastingsobserver.co.uk', punyDomain: 'hastingsobserver.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'srilankaweekly.co.uk', punyDomain: 'srilankaweekly.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'gainsboroughstandard.co.uk', punyDomain: 'gainsboroughstandard.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'advertiser24.co.uk', punyDomain: 'advertiser24.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'dromoreleader.co.uk', punyDomain: 'dromoreleader.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'londonderrysentinel.co.uk', punyDomain: 'londonderrysentinel.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'spenboroughguardian.co.uk', punyDomain: 'spenboroughguardian.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'newspostleader.co.uk', punyDomain: 'newspostleader.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'bridlingtonfreepress.co.uk', punyDomain: 'bridlingtonfreepress.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'midsussextimes.co.uk', punyDomain: 'midsussextimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'twns.co.uk', punyDomain: 'twns.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'windsorexpress.co.uk', punyDomain: 'windsorexpress.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'halifaxcourier.co.uk', punyDomain: 'halifaxcourier.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'foodanddrink.scotsman.com', punyDomain: 'foodanddrink.scotsman.com', matchType: 'ALL'},{ id: 4963, domain: 'dirtbikerider.co.uk', punyDomain: 'dirtbikerider.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'wam24.co.uk', punyDomain: 'wam24.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'belfastvibe.com', punyDomain: 'belfastvibe.com', matchType: 'ALL'},{ id: 4963, domain: 'dunstabletoday.co.uk', punyDomain: 'dunstabletoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'digitalkitbag.com', punyDomain: 'digitalkitbag.com', matchType: 'ALL'},{ id: 4963, domain: 'letterboxdirect.co.uk', punyDomain: 'letterboxdirect.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'northernirelandjobstoday.co.uk', punyDomain: 'northernirelandjobstoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'derryjournal.com', punyDomain: 'derryjournal.com', matchType: 'ALL'},{ id: 4963, domain: 'newtownabbeytoday.co.uk', punyDomain: 'newtownabbeytoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'leitrimobserver.ie', punyDomain: 'leitrimobserver.ie', matchType: 'ALL'},{ id: 4963, domain: 'meltontimes.co.uk', punyDomain: 'meltontimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'buchanobserver.co.uk', punyDomain: 'buchanobserver.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'solihullobserver.co.uk', punyDomain: 'solihullobserver.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'stamfordmercury.co.uk', punyDomain: 'stamfordmercury.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'timesandstar.co.uk', punyDomain: 'timesandstar.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'jobstoday.ie', punyDomain: 'jobstoday.ie', matchType: 'ALL'},{ id: 4963, domain: 'bakewelltoday.co.uk', punyDomain: 'bakewelltoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'banburyguardian.co.uk', punyDomain: 'banburyguardian.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'tipperarystar.ie', punyDomain: 'tipperarystar.ie', matchType: 'ALL'},{ id: 4963, domain: 'anglerstimes.co.uk', punyDomain: 'anglerstimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'lancasterguardian.co.uk', punyDomain: 'lancasterguardian.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'lurganmail.co.uk', punyDomain: 'lurganmail.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'propertytoday.co.uk', punyDomain: 'propertytoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thepressnews.co.uk', punyDomain: 'thepressnews.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'leighreporter.co.uk', punyDomain: 'leighreporter.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'whitehavennews.co.uk', punyDomain: 'whitehavennews.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'themeetingpoint.ie', punyDomain: 'themeetingpoint.ie', matchType: 'ALL'},{ id: 4963, domain: 'dinningtontoday.co.uk', punyDomain: 'dinningtontoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thebay.co.uk', punyDomain: 'thebay.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'tios.co.za', punyDomain: 'tios.co.za', matchType: 'ALL'},{ id: 4963, domain: 'jobstoday.co.im', punyDomain: 'jobstoday.co.im', matchType: 'ALL'},{ id: 4963, domain: 'hawick-news.co.uk', punyDomain: 'hawick-news.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'tringtoday.co.uk', punyDomain: 'tringtoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'berkhamstedtoday.co.uk', punyDomain: 'berkhamstedtoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'worcestershirelife.co.uk', punyDomain: 'worcestershirelife.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'limerickleader.ie', punyDomain: 'limerickleader.ie', matchType: 'ALL'},{ id: 4963, domain: 'offalyexpress.ie', punyDomain: 'offalyexpress.ie', matchType: 'ALL'},{ id: 4963, domain: 'portadowntimes.co.uk', punyDomain: 'portadowntimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'tonight.co.za', punyDomain: 'tonight.co.za', matchType: 'ALL'},{ id: 4963, domain: 'biggleswadetoday.co.uk', punyDomain: 'biggleswadetoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'selbytimes.co.uk', punyDomain: 'selbytimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'theenglishhome.co.uk', punyDomain: 'theenglishhome.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'bexhillobserver.net', punyDomain: 'bexhillobserver.net', matchType: 'ALL'},{ id: 4963, domain: 'newsletter.co.uk', punyDomain: 'newsletter.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'lisburntoday.co.uk', punyDomain: 'lisburntoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'sloughexpress.co.uk', punyDomain: 'sloughexpress.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'dundalkdemocrat.ie', punyDomain: 'dundalkdemocrat.ie', matchType: 'ALL'},{ id: 4963, domain: 'marketrasenmail.co.uk', punyDomain: 'marketrasenmail.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'driffieldtoday.co.uk', punyDomain: 'driffieldtoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'theweddingshowsouthwest.co.uk', punyDomain: 'theweddingshowsouthwest.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'yorkshirepost.co.uk', punyDomain: 'yorkshirepost.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'todmordennews.co.uk', punyDomain: 'todmordennews.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'sthelensreporter.co.uk', punyDomain: 'sthelensreporter.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'morpethherald.co.uk', punyDomain: 'morpethherald.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'sundaylife.co.uk', punyDomain: 'sundaylife.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'wharfevalleytoday.co.uk', punyDomain: 'wharfevalleytoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'stratfordexpress.co.uk', punyDomain: 'stratfordexpress.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'jobstoday.co.uk', punyDomain: 'jobstoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'wearebarnsley.co.uk', punyDomain: 'wearebarnsley.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'harboroughmail.co.uk', punyDomain: 'harboroughmail.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'fleetwoodtoday.co.uk', punyDomain: 'fleetwoodtoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'newcastlejobstoday.co.uk', punyDomain: 'newcastlejobstoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'hemeltoday.co.uk', punyDomain: 'hemeltoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'donsidepiper.co.uk', punyDomain: 'donsidepiper.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thisisguernsey.co.uk', punyDomain: 'thisisguernsey.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'burnleyexpress.net', punyDomain: 'burnleyexpress.net', matchType: 'ALL'},{ id: 4963, domain: 'miltonkeynes.co.uk', punyDomain: 'miltonkeynes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'wisbechstandard24.co.uk', punyDomain: 'wisbechstandard24.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'retfordtoday.co.uk', punyDomain: 'retfordtoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'agriculturaltrader.co.uk', punyDomain: 'agriculturaltrader.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'morleyobserver.co.uk', punyDomain: 'morleyobserver.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'skegnessstandard.co.uk', punyDomain: 'skegnessstandard.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'cumbernauld-news.co.uk', punyDomain: 'cumbernauld-news.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'leinsterexpress.ie', punyDomain: 'leinsterexpress.ie', matchType: 'ALL'},{ id: 4963, domain: 'sudburymercury.co.uk', punyDomain: 'sudburymercury.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'seahamstar.co.uk', punyDomain: 'seahamstar.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'horncastlenews.co.uk', punyDomain: 'horncastlenews.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'sussexlife.com', punyDomain: 'sussexlife.com', matchType: 'ALL'},{ id: 4963, domain: 'granthamjournal.co.uk', punyDomain: 'granthamjournal.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'berwickshirenews.co.uk', punyDomain: 'berwickshirenews.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'longfordleader.ie', punyDomain: 'longfordleader.ie', matchType: 'ALL'},{ id: 4963, domain: 'pontefractandcastlefordexpress.co.uk', punyDomain: 'pontefractandcastlefordexpress.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'banbridgeleader.co.uk', punyDomain: 'banbridgeleader.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'epworthbells.co.uk', punyDomain: 'epworthbells.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'motorstoday.co.uk', punyDomain: 'motorstoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'nationalist.ie', punyDomain: 'nationalist.ie', matchType: 'ALL'},{ id: 4963, domain: 'wstimes24.co.uk', punyDomain: 'wstimes24.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thehillmag.co.uk', punyDomain: 'thehillmag.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'surreylife.co.uk', punyDomain: 'surreylife.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'jarrowandhebburngazette.com', punyDomain: 'jarrowandhebburngazette.com', matchType: 'ALL'},{ id: 4963, domain: 'thepost.co.za', punyDomain: 'thepost.co.za', matchType: 'ALL'},{ id: 4963, domain: 'daysoutuk.com', punyDomain: 'daysoutuk.com', matchType: 'ALL'},{ id: 4963, domain: 'leinsterleader.ie', punyDomain: 'leinsterleader.ie', matchType: 'ALL'},{ id: 4963, domain: 'sussexexpress.co.uk', punyDomain: 'sussexexpress.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'talent.scotsman.com', punyDomain: 'talent.scotsman.com', matchType: 'ALL'},{ id: 4963, domain: 'donegaldemocrat.ie', punyDomain: 'donegaldemocrat.ie', matchType: 'ALL'},{ id: 4963, domain: 'suffolkfreepress.co.uk', punyDomain: 'suffolkfreepress.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'wscountytimes.co.uk', punyDomain: 'wscountytimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'sundayindependent.co.za', punyDomain: 'sundayindependent.co.za', matchType: 'ALL'},{ id: 4963, domain: 'wakefieldexpress.co.uk', punyDomain: 'wakefieldexpress.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'fifetoday.co.uk', punyDomain: 'fifetoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'haylingtoday.co.uk', punyDomain: 'haylingtoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'iomtoday.co.im', punyDomain: 'iomtoday.co.im', matchType: 'ALL'},{ id: 4963, domain: 'tmxnews.co.uk', punyDomain: 'tmxnews.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'shorehamherald.co.uk', punyDomain: 'shorehamherald.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thefranceshow.com', punyDomain: 'thefranceshow.com', matchType: 'ALL'},{ id: 4963, domain: 'guideandgazette.co.uk', punyDomain: 'guideandgazette.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'matlockmercury.co.uk', punyDomain: 'matlockmercury.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'somerset-life.co.uk', punyDomain: 'somerset-life.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'wbtimes.co.uk', punyDomain: 'wbtimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'worksopguardian.co.uk', punyDomain: 'worksopguardian.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'newsguardian.co.uk', punyDomain: 'newsguardian.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'buxtonadvertiser.co.uk', punyDomain: 'buxtonadvertiser.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thecomet24.net', punyDomain: 'thecomet24.net', matchType: 'ALL'},{ id: 4963, domain: 'dealmonster.co.uk', punyDomain: 'dealmonster.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'dissexpress.co.uk', punyDomain: 'dissexpress.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'tottenhamjournal.co.uk', punyDomain: 'tottenhamjournal.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'lutontoday.co.uk', punyDomain: 'lutontoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'peterleestar.co.uk', punyDomain: 'peterleestar.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'littlehamptongazette.co.uk', punyDomain: 'littlehamptongazette.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'falkirkherald.co.uk', punyDomain: 'falkirkherald.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'yourlocal.ie', punyDomain: 'yourlocal.ie', matchType: 'ALL'},{ id: 4963, domain: 'worcesterstandard.co.uk', punyDomain: 'worcesterstandard.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'westmeathindependent.ie', punyDomain: 'westmeathindependent.ie', matchType: 'ALL'},{ id: 4963, domain: 'hebdenbridgetimes.co.uk', punyDomain: 'hebdenbridgetimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'bournelocal.co.uk', punyDomain: 'bournelocal.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'belpernews.co.uk', punyDomain: 'belpernews.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'motorstoday.ie', punyDomain: 'motorstoday.ie', matchType: 'ALL'},{ id: 4963, domain: 'buckinghamtoday.co.uk', punyDomain: 'buckinghamtoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'washingtonstar.co.uk', punyDomain: 'washingtonstar.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'pocklingtonpost.co.uk', punyDomain: 'pocklingtonpost.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'doncasterfreepress.co.uk', punyDomain: 'doncasterfreepress.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'inverurieherald.co.uk', punyDomain: 'inverurieherald.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thescarboroughnews.co.uk', punyDomain: 'thescarboroughnews.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'peterboroughjobstoday.co.uk', punyDomain: 'peterboroughjobstoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'newmarketjournal.co.uk', punyDomain: 'newmarketjournal.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thamesgatewaybusinessawards.co.uk', punyDomain: 'thamesgatewaybusinessawards.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'derbyshiretimes.co.uk', punyDomain: 'derbyshiretimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'propertytoday.ie', punyDomain: 'propertytoday.ie', matchType: 'ALL'},{ id: 4963, domain: 'brechinadvertiser.co.uk', punyDomain: 'brechinadvertiser.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'peterboroughtoday.co.uk', punyDomain: 'peterboroughtoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'daventryexpress.co.uk', punyDomain: 'daventryexpress.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'wexfordpeople.ie', punyDomain: 'wexfordpeople.ie', matchType: 'ALL'},{ id: 4963, domain: 'lakelandtoday.co.uk', punyDomain: 'lakelandtoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'sussexjobstoday.co.uk', punyDomain: 'sussexjobstoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'unison.ie', punyDomain: 'unison.ie', matchType: 'ALL'},{ id: 4963, domain: 'sportdiver.co.uk', punyDomain: 'sportdiver.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'mearnsleader.co.uk', punyDomain: 'mearnsleader.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'crawleyobserver.co.uk', punyDomain: 'crawleyobserver.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'wktimes.co.uk', punyDomain: 'wktimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'portsmouth.holidaytoday.co.uk', punyDomain: 'portsmouth.holidaytoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'selkirkweekendadvertiser.co.uk', punyDomain: 'selkirkweekendadvertiser.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'bedfordtoday.co.uk', punyDomain: 'bedfordtoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'streetnortheast.com', punyDomain: 'streetnortheast.com', matchType: 'ALL'},{ id: 4963, domain: 'kenilworthweeklynews.co.uk', punyDomain: 'kenilworthweeklynews.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'kirriemuirherald.co.uk', punyDomain: 'kirriemuirherald.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'dewsburyreporter.co.uk', punyDomain: 'dewsburyreporter.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'milngavieherald.co.uk', punyDomain: 'milngavieherald.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'stowmarketadvertiser.co.uk', punyDomain: 'stowmarketadvertiser.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'google.com', punyDomain: 'google.com', matchType: 'ALL'},{ id: 4963, domain: 'wetherbynews.co.uk', punyDomain: 'wetherbynews.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'suffolkmagazine.co.uk', punyDomain: 'suffolkmagazine.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'haverhillecho.co.uk', punyDomain: 'haverhillecho.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thisisjersey.com', punyDomain: 'thisisjersey.com', matchType: 'ALL'},{ id: 4963, domain: 'deesidepiper.co.uk', punyDomain: 'deesidepiper.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'yarmouthmercury24.co.uk', punyDomain: 'yarmouthmercury24.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thepeoplesfriend.co.uk', punyDomain: 'thepeoplesfriend.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'antrimtimes.co.uk', punyDomain: 'antrimtimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'ryeandbattleobserver.co.uk', punyDomain: 'ryeandbattleobserver.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thesouthernreporter.co.uk', punyDomain: 'thesouthernreporter.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'equestriantoday.co.uk', punyDomain: 'equestriantoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'lythamstannesexpress.co.uk', punyDomain: 'lythamstannesexpress.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'lutterworthmail.co.uk', punyDomain: 'lutterworthmail.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'tamesidereporter.com', punyDomain: 'tamesidereporter.com', matchType: 'ALL'},{ id: 4963, domain: 'batleynews.co.uk', punyDomain: 'batleynews.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thegreenmag.co.uk', punyDomain: 'thegreenmag.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'ilkestonadvertiser.co.uk', punyDomain: 'ilkestonadvertiser.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'kincardineshireobserver.co.uk', punyDomain: 'kincardineshireobserver.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'chichester.co.uk', punyDomain: 'chichester.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'motherwelltimes.co.uk', punyDomain: 'motherwelltimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'carlukegazette.co.uk', punyDomain: 'carlukegazette.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'chorley-guardian.co.uk', punyDomain: 'chorley-guardian.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'midhurstandpetworth.co.uk', punyDomain: 'midhurstandpetworth.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'petersfieldpost.co.uk', punyDomain: 'petersfieldpost.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'scotsmanconferences.com', punyDomain: 'scotsmanconferences.com', matchType: 'ALL'},{ id: 4963, domain: 'sheffieldtelegraph.co.uk', punyDomain: 'sheffieldtelegraph.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'lancashirejobstoday.co.uk', punyDomain: 'lancashirejobstoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'hartlepoolmail.co.uk', punyDomain: 'hartlepoolmail.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'yourviewk.com', punyDomain: 'yourviewk.com', matchType: 'ALL'},{ id: 4963, domain: 'therugbyobserver.co.uk', punyDomain: 'therugbyobserver.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thecourier.co.uk', punyDomain: 'thecourier.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'touchfm102.co.uk', punyDomain: 'touchfm102.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'kilkennypeople.ie', punyDomain: 'kilkennypeople.ie', matchType: 'ALL'},{ id: 4963, domain: 'goolecourier.co.uk', punyDomain: 'goolecourier.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'glasgowsouthandeastwoodextra.co.uk', punyDomain: 'glasgowsouthandeastwoodextra.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'wicklowpeople.ie', punyDomain: 'wicklowpeople.ie', matchType: 'ALL'},{ id: 4963, domain: 'worthingherald.co.uk', punyDomain: 'worthingherald.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'ripongazette.co.uk', punyDomain: 'ripongazette.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'haggishunt.com', punyDomain: 'haggishunt.com', matchType: 'ALL'},{ id: 4963, domain: 'etcnortheast.co.uk', punyDomain: 'etcnortheast.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'woodandvale.co.uk', punyDomain: 'woodandvale.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'colerainetimes.co.uk', punyDomain: 'colerainetimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'buryfreepress.co.uk', punyDomain: 'buryfreepress.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'westmeathexaminer.ie', punyDomain: 'westmeathexaminer.ie', matchType: 'ALL'},{ id: 4963, domain: 'sleafordstandard.co.uk', punyDomain: 'sleafordstandard.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'longridgenews.co.uk', punyDomain: 'longridgenews.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thesundaypost.co.uk', punyDomain: 'thesundaypost.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'wakefieldbusiness.co.uk', punyDomain: 'wakefieldbusiness.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'carricktoday.co.uk', punyDomain: 'carricktoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'montrosereview.co.uk', punyDomain: 'montrosereview.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'southwestmag.co.uk', punyDomain: 'southwestmag.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'brighouseecho.co.uk', punyDomain: 'brighouseecho.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'yoursouthwestwedding.co.uk', punyDomain: 'yoursouthwestwedding.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'leylandguardian.co.uk', punyDomain: 'leylandguardian.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'sportingshooter.co.uk', punyDomain: 'sportingshooter.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'pendletoday.co.uk', punyDomain: 'pendletoday.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'lynnnews.co.uk', punyDomain: 'lynnnews.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'thevisitor.co.uk', punyDomain: 'thevisitor.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'arbroathherald.co.uk', punyDomain: 'arbroathherald.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'carrickfergustimes.co.uk', punyDomain: 'carrickfergustimes.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'northyorkshirenews.com', punyDomain: 'northyorkshirenews.com', matchType: 'ALL'},{ id: 4963, domain: 'ballymenatimes.com', punyDomain: 'ballymenatimes.com', matchType: 'ALL'},{ id: 4963, domain: 'scottsman.com', punyDomain: 'scottsman.com', matchType: 'ALL'},{ id: 4963, domain: 'clitheroeadvertiser.co.uk', punyDomain: 'clitheroeadvertiser.co.uk', matchType: 'ALL'},{ id: 4963, domain: 'rutland-times.co.uk', punyDomain: 'rutland-times.co.uk', matchType: 'ALL'},{ id: 5423, domain: 'wow247.co.uk', punyDomain: 'wow247.co.uk', matchType: 'ALL'},{ id: 5088, domain: 'shieldsgazette.com', punyDomain: 'shieldsgazette.com', matchType: 'ALL'},{ id: 5089, domain: 'northamptonchron.co.uk', punyDomain: 'northamptonchron.co.uk', matchType: 'ALL'}];var clientLookupTable = { 5083: { id: 5083, useFirstPartyDomain: 'NEVER', domainPrefix: 'cc', cookieDomain: 'portsmouth.co.uk',cookieDomainIDN: 'portsmouth.co.uk' },5082: { id: 5082, useFirstPartyDomain: 'NEVER', domainPrefix: 'cc', cookieDomain: 'thestar.co.uk',cookieDomainIDN: 'thestar.co.uk' },4944: { id: 4944, useFirstPartyDomain: 'NEVER', domainPrefix: 'cc', cookieDomain: 'yorkshireeveningpost.co.uk',cookieDomainIDN: 'yorkshireeveningpost.co.uk' },4945: { id: 4945, useFirstPartyDomain: 'NEVER', domainPrefix: 'cc', cookieDomain: 'scotsman.com',cookieDomainIDN: 'scotsman.com' },5087: { id: 5087, useFirstPartyDomain: 'NEVER', domainPrefix: 'cc', cookieDomain: 'lep.co.uk',cookieDomainIDN: 'lep.co.uk' },5086: { id: 5086, useFirstPartyDomain: 'NEVER', domainPrefix: 'cc', cookieDomain: 'blackpoolgazette.co.uk',cookieDomainIDN: 'blackpoolgazette.co.uk' },5085: { id: 5085, useFirstPartyDomain: 'NEVER', domainPrefix: 'cc', cookieDomain: 'sunderlandecho.com',cookieDomainIDN: 'sunderlandecho.com' },5424: { id: 5424, useFirstPartyDomain: 'NEVER', domainPrefix: 'cc', cookieDomain: 'wownewv2.johnstonpress.co.uk',cookieDomainIDN: 'wownewv2.johnstonpress.co.uk' },5298: { id: 5298, useFirstPartyDomain: 'NEVER', domainPrefix: 'cc', cookieDomain: 'dvlpashb.lep.co.uk',cookieDomainIDN: 'dvlpashb.lep.co.uk' },4963: { id: 4963, useFirstPartyDomain: 'NEVER', domainPrefix: '', cookieDomain: '',cookieDomainIDN: '' },5423: { id: 5423, useFirstPartyDomain: 'NEVER', domainPrefix: 'cc', cookieDomain: 'wow247.co.uk',cookieDomainIDN: 'wow247.co.uk' },5088: { id: 5088, useFirstPartyDomain: 'NEVER', domainPrefix: 'cc', cookieDomain: 'shieldsgazette.com',cookieDomainIDN: 'shieldsgazette.com' },5089: { id: 5089, useFirstPartyDomain: 'NEVER', domainPrefix: 'cc', cookieDomain: 'northamptonchron.co.uk',cookieDomainIDN: 'northamptonchron.co.uk' } };function strEndsWith(str, substr){    var lastIndex = str.lastIndexOf(substr);    return lastIndex > -1 && ( (lastIndex + substr.length) === str.length);}function resolveClient(host){    if (!mappedClientList){        return networkClient;    }    var candidates = [];    var currentClient, i;    for (i = 0; i < mappedClientList.length; i++){        currentClient = mappedClientList[i];        if((currentClient.domain === host || currentClient.punyDomain === host) &&            (currentClient.matchType === 'ALL' || currentClient.matchType === 'EXACT'))        {            return clientLookupTable[currentClient.id];        }        if((strEndsWith(host, '.' + currentClient.domain) || strEndsWith(host, '.' + currentClient.punyDomain)) &&            (currentClient.matchType === 'UNDER' || currentClient.matchType === 'ALL' ))        {            candidates.push(currentClient);        }    }    var winningIndex = host.length;    var returnClient = networkClient;    for (i = 0; i < candidates.length; i++){        var curIndex = host.lastIndexOf(candidates[i].domain);        if(curIndex < 0){            curIndex = host.lastIndexOf(candidates[i].punyDomain);        }        if (curIndex < winningIndex && curIndex >= 0){            winningIndex = curIndex;            returnClient = clientLookupTable[candidates[i].id];        }    }    return returnClient;}var actualClient = resolveClient(location.host);bcpClient = actualClient.id;function shouldUseFirstPartyDomain(){	switch (actualClient.useFirstPartyDomain){		case 'NEVER':			return false;		case 'ALWAYS':			return true;		case 'USERAGENT':			return /^(?!.*chrome.*).*safari\/\d+.*/.test(navigator.userAgent.toLowerCase()); ;	}}function resolveFirstPartyHost(){	if (!shouldUseFirstPartyDomain()){		return '';	}	var client = actualClient;	var domain = '';	if (client.domainPrefix && client.domainPrefix != ''){		domain = client.domainPrefix + '.';	}	domain += client.cookieDomain;	return domain;}var firstPartyHost =  resolveFirstPartyHost();var useFirstPartyDomain =  shouldUseFirstPartyDomain();var useFpcMatchesUserAgent = /^(?!.*chrome.*).*safari\/\d+.*/.test(navigator.userAgent.toLowerCase()); var browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};function setTest(testOn){if(typeof(testOn)!='undefined'&&(testOn==true||testOn==false)){test=testOn}}var ns,running=document.getElementById('LOTCC_'+client);if(running){var qs=parseQuery(running.src.replace(/^[^\?]+\??/,''));ns=qs['ns']||('LOTCC_'+client);if(mode=='BCP'){autoFire=!!(qs['autobcp']||false);delete qs['ns'];delete qs['autobcp'];for(var type in qs){if(isArray(qs[type])){for(var i=0,beh;beh=qs[type][i++];){add(type,beh)}}}}}else{ns=('LOTCC_'+client);}if(!(ns in window))window[ns]={};function parseQuery(query){var params={};if(!query)return params;var pairs=query.split(/[;&]/);for(var i=0;i<pairs.length;i++){var key_val=pairs[i].split('=');if(!key_val||key_val.length!=2)continue;var key=unescape(key_val[0]);var val=unescape(key_val[1]);val=val.replace(/\+/g,' ');(params[key]&&params[key].push)?params[key].push(val):params[key]=[val]}return params}function isArray(v){return v&&typeof v==='object'&&typeof v.length==='number'&&!(v.propertyIsEnumerable('length'))}function getDefinedValue(overrideVal,defaultVal){if(typeof(overrideVal)!='undefined'&&overrideVal!=null){return overrideVal}else{return defaultVal}}function append(url,val,vr,delimArg){if((typeof(val)!="undefined")&&(val.length>0)){var delimToUse=getDefinedValue(delimArg,delim);var vals;if(isArray(val)){vals=val}else{vals=val.split(",")}var vn=delimToUse+vr+"=";for(var i=0;i<vals.length;i++){url+=vn+vals[i]}}return url}function baseURL(is_pv,version,domainArg,sepArg,delimArg){if(typeof(version)=='undefined'||version==null){version='5'}is_pv=!namespace.pvdone;var domainToUse;if(typeof(domainArg)!='undefined'&&domainArg!=null){domainToUse=domainArg}else{domainToUse=getDomain()}var url=addPortNumber(getPrefix()+domainToUse);var sepToUse=getDefinedValue(sepArg,sep);var delimToUse=getDefinedValue(delimArg,delim);url+='/'+version+sepToUse+'c='+bcpClient+delimToUse+'rand='+getRandomNumber();if(is_pv&&mode=='BCP'){url+=delimToUse+pv}return url}function getRandomNumber(){var min=100000000;var max=999999999;var randomnumber=Math.floor(min+(max-min)*Math.random());return randomnumber}function getPrefix(){return((document.location.protocol=='https:')?'https:':'http:')+'//'}function addPortNumber(url){if(typeof(portNumber)!='undefined'&&portNumber!=null){return url+=':'+portNumber}else{return url}}var options=options||{};var namespace=('namespace'in options)?options.namespace:(window[ns]);namespace.pvdone=('pvdone'in options)?options.pvdone:false;namespace.loaded=('loaded'in options)?options.loaded:false;namespace.dropSyncPixels=('dropSyncPixels'in options)?options.dropSyncPixels:true;namespace.runOptimus=('runOptimus'in options)?options.runOptimus:true;if(!client)return false;var addEvent=(function(){if(document.addEventListener){return function(obj,sEvent,func){obj.addEventListener(sEvent,func,false);return true}}else{if(document.attachEvent){return function(obj,sEvent,func){obj.attachEvent("on"+sEvent,func);return true}}else{return function(obj,sEvent,func){return false}}}})();for(var prop in async_props){if(prop in namespace){async_props[prop]=namespace[prop]}else if(('LOTCC'in window)&&(typeof LOTCC==='object')&&(prop in LOTCC)){async_props[prop]=LOTCC[prop]}}namespace.enableDiv=function(){};namespace.enableNamedDiv=function(){};namespace.fillDiv=function(){};namespace.add=add;namespace.addBehavior=addBehavior;namespace.addInterest=addInterest;namespace.addAction=addAction;namespace.addMedia=addMedia;namespace.bcp=bcp;namespace.bcpd=bcpd;namespace.bcpw=bcpw;namespace.bcpdpv=bcpdpv;namespace.setTest=setTest;LOTCC=namespace;addEvent(window,"load",doneload);addEvent(window,"load",loadAsync);if(autoFire){bcp()}function flash(msg){var div;if(div=document.getElementById('LOTCC.status'))div.innerHTML=msg}function add(name,id){if(behaviors[name]==null){behaviors[name]=new Array()}var entry=behaviors[name];entry[entry.length]=encodeURIComponent(id)}function addBehavior(id){add("b",id)}function addAction(id){add("act",id)}function addInterest(id){add("int",id)}function addMedia(id){add("med",id)}function addMemberId(id){}function addContentId(id){}function addOpportunityId(id){placementOpps.p.push(id)}function addOpportunity(tag){placementOpps.pt.push(tag)}function appendInternal(url,vals,vr){if((typeof(vals)!="undefined")&&(vals.length>0)){var vn=delim+vr+"=";for(var i=0;i<vals.length;i++){url+=vn+vals[i]}}return url}function appendAll(url){for(var type in behaviors){url=appendInternal(url,behaviors[type],type)}for(var pl_type in placementOpps){url=append(url,placementOpps[pl_type],pl_type)}if(placementOpps.p.length>0||placementOpps.pt.length>0){url=append(url,'y','dp')}if(async_props.async){url=append(url,'y','async')}return url}function getDomain(){if (useFirstPartyDomain){return 'bcp.' + ( test ? 'test.' : '' ) + firstPartyHost;} else {return (test) ? 'bcp.test.lotame.com' : 'bcp.crwdcntrl.net';}}function bcp(){if(client=="15"||/fotolog/i.test(domain)){var foundUS=false;var ints=behaviors["int"]||[];for(var i=0;i<ints.length;i++){if(decodeURIComponent(ints[i]).toLowerCase()=="country:us"||decodeURIComponent(ints[i]).toLowerCase()=="country:ca"){foundUS=true}}if(!foundUS){return}}bcpinternal()}function bcpinternal(){(namespace.loaded)?firebcp():dobcp=true}function bcpdpv(){var pvbak=namespace.pvdone;namespace.pvdone=true;bcpd();namespace.pvdone=pvbak}function bcpd(cb){var GTKPR_ABORT_BCP;var url=appendAll(baseURL(false));pixel(url,cb)}function bcpw(){var len=arguments.length;if(len>0){for(var i=0;i<len;i+=2){if(i+1<len){add(arguments[i],arguments[i+1])}}}bcpd()}function pixel(url,cb){var pi=new Image();pi.onload=img_done;pi.onerror=img_done;pi.onabort=img_done;bcpd_callback=cb;reset(url);pi.src=url}function img_done(url){if(bcpd_callback)bcpd_callback()}function reset(url){behaviors={};placementOpps={p:[],pt:[]};if(typeof(lotbcp)!="undefined")lotbcp="";if(typeof(lotact)!="undefined")lotact="";if(typeof(lotint)!="undefined")lotint="";if(typeof(lotmed)!="undefined")lotmed="";if(url&&url.indexOf(pv)>0){namespace.pvdone=true}}function firebcp(){var GTKPR_ABORT_BCP;if(namespace.runOptimus){try{ addTrigger({act: ["JohnstonPress : Submit Comment : $2 : $3"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)\\-([0-9]+)\\-([0-9]+)", element: "{{a.pluck-comm-submit}}", event: "click", opr: 45791}); addTrigger({act: ["JohnstonPress : Submit Comment : $2"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)\\-([0-9]+)\\-([0-9]+)", element: "{{a.pluck-comm-submit}}", event: "click", opr: 45792}); addTrigger({act: ["JohnstonPress : Submit Comment"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)\\-([0-9]+)\\-([0-9]+)", element: "{{a.pluck-comm-submit}}", event: "click", opr: 45793}); addTrigger({act: ["JohnstonPress : Submit Comment via Facebook : $2 : $3"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)\\-([0-9]+)\\-([0-9]+)", element: "{{span.pluck-comm-facebook-option input}}", event: "click", opr: 45794}); addTrigger({act: ["JohnstonPress : Submit Comment via Facebook : $2"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)\\-([0-9]+)\\-([0-9]+)", element: "{{span.pluck-comm-facebook-option input}}", event: "click", opr: 45795}); addTrigger({act: ["JohnstonPress : Submit Comment via Facebook"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)\\-([0-9]+)\\-([0-9]+)", element: "{{span.pluck-comm-facebook-option input}}", event: "click", opr: 45796}); addTrigger({act: ["JohnstonPress : Submit Comment via Twitter : $2 : $3"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)\\-([0-9]+)\\-([0-9]+)", element: "{{span.pluck-comm-twitter-option input}}", event: "click", opr: 45797}); addTrigger({act: ["JohnstonPress : Submit Comment via Twitter : $2"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)\\-([0-9]+)\\-([0-9]+)", element: "{{span.pluck-comm-twitter-option input}}", event: "click", opr: 45798}); addTrigger({act: ["JohnstonPress : Submit Comment via Twitter"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)\\-([0-9]+)\\-([0-9]+)", element: "{{span.pluck-comm-twitter-option input}}", event: "click", opr: 45799}); addTrigger({act: ["JohnstonPress : Job Search : {{#Keywords}}.value"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk/jobs", element: "{{#jobsSearch}}", event: "submit", opr: 45800}); addTrigger({act: ["JohnstonPress : JobsToday : Apply for Job : Sector : {{dl.grid > div:nth-of-type(3) dd.grid-item a:nth-of-type(1)}}.textContent"], location: "jobstoday\\.co\\.uk/job/([0-9]+)/([a-zA-Z0-9_+%-]+)", element: "{{li.actions__applylink a}}", event: "click", opr: 45804}); addTrigger({act: ["JohnstonPress : JobsToday : Apply for Job : Sector : {{dl.grid > div:nth-of-type(3) dd.grid-item a:nth-of-type(1)}}.textContent"], location: "jobstoday\\.co\\.uk/job/([0-9]+)/([a-zA-Z0-9_+%-]+)", element: "{{div.float-right a.icon-after}}", event: "click", opr: 45805}); addTrigger({act: ["JohnstonPress : JobsToday : Apply for Job"], location: "jobstoday\\.co\\.uk/job/([0-9]+)/([a-zA-Z0-9_+%-]+)", element: "{{li.actions__applylink a}}", opr: 45806}); addTrigger({act: ["JohnstonPress : JobsToday : Apply for Job"], location: "jobstoday\\.co\\.uk/job/([0-9]+)/([a-zA-Z0-9_+%-]+)", element: "{{div.float-right a.icon-after}}", event: "click", opr: 45807}); addTrigger({act: ["JohnstonPress : JobsToday : Share Job : Sector : {{dl.grid > div:nth-of-type(3) dd.grid-item a:nth-of-type(1)}}.textContent"], location: "jobstoday\\.co\\.uk/job/([0-9]+)/([a-zA-Z0-9_+%-]+)", element: "{{ul.social-buttons li a}}", event: "click", opr: 45808}); addTrigger({act: ["JohnstonPress : JobsToday : Share Job"], location: "jobstoday\\.co\\.uk/job/([0-9]+)/([a-zA-Z0-9_+%-]+)", element: "{{ul.social-buttons li a}}", event: "click", opr: 45809}); addTrigger({act: ["JohnstonPress : JobsToday : Share Job on Facebook : Sector : {{dl.grid > div:nth-of-type(3) dd.grid-item a:nth-of-type(1)}}.textContent"], location: "jobstoday\\.co\\.uk/job/([0-9]+)/([a-zA-Z0-9_+%-]+)", element: "{{ul.social-buttons li.social-buttons__item--fb a}}", event: "click", opr: 45810}); addTrigger({act: ["JohnstonPress : JobsToday : Share Job on Facebook"], location: "jobstoday\\.co\\.uk/job/([0-9]+)/([a-zA-Z0-9_+%-]+)", element: "{{ul.social-buttons li.social-buttons__item--fb a}}", event: "click", opr: 45811}); addTrigger({act: ["JohnstonPress : JobsToday : Share Job on Twitter : Sector : {{dl.grid > div:nth-of-type(3) dd.grid-item a:nth-of-type(1)}}.textContent"], location: "jobstoday\\.co\\.uk/job/([0-9]+)/([a-zA-Z0-9_+%-]+)", element: "{{ul.social-buttons li.social-buttons__item--tw a}}", event: "click", opr: 45812}); addTrigger({act: ["JohnstonPress : JobsToday : Share Job on Twitter"], location: "jobstoday\\.co\\.uk/job/([0-9]+)/([a-zA-Z0-9_+%-]+)", element: "{{ul.social-buttons li.social-buttons__item--tw a}}", event: "click", opr: 45813}); addTrigger({act: ["JohnstonPress : Like on Facebook"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk", element: "{{ul.info li a[href*=\"facebook\"]}}", event: "click", opr: 45814}); addTrigger({act: ["JohnstonPress : Follow on Twitter"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk", element: "{{ul.info li a[href*=\"twitter\"]}}", event: "click", opr: 45815}); addTrigger({act: ["JohnstonPress : Request Property Details : for $2"], location: "([a-zA-Z0-9__]+)\\.co\\.uk/property/for\\-(sale|rent)/([a-zA-Z0-9_-]+)/property\\-([0-9]+)", element: "{{a[id^=\"prop_requestBtn\"]}}", event: "click", opr: 45818}); addTrigger({act: ["JohnstonPress : Share Property"], location: "([a-zA-Z0-9__]+)\\.co\\.uk/property", element: "{{#at_hover a span.at16nc}}", event: "click", opr: 45819}); addTrigger({act: ["JohnstonPress : DealMonster : Add to Cart : $1 : Category : {{div.dm-header-cat a:nth-of-type(3)}}.textContent : {{div.dm-header-cat a:nth-of-type(4)}}.textContent"], location: "dealmonster\\.co\\.uk/deal/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)", element: "{{div.buyThisBtn}}", event: "click", opr: 45825}); addTrigger({act: ["JohnstonPress : DealMonster : Add to Cart : $1 : Category : {{div.dm-header-cat a:nth-of-type(3)}}.textContent"], location: "dealmonster\\.co\\.uk/deal/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)", element: "{{div.buyThisBtn}}", event: "click", opr: 45826}); addTrigger({act: ["JohnstonPress : DealMonster : Add to Cart : $1"], location: "dealmonster\\.co\\.uk/deal/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)", element: "{{div.buyThisBtn}}", event: "click", opr: 45827}); addTrigger({act: ["JohnstonPress : DealMonster : Share Deal : $1 : Category : {{div.dm-header-cat a:nth-of-type(3)}}.textContent"], location: "dealmonster\\.co\\.uk/deal/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)", element: "{{ul.shareIcons li a}}", event: "click", opr: 45828}); addTrigger({act: ["JohnstonPress : DealMonster : Share Deal : $1"], location: "dealmonster\\.co\\.uk/deal/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)", element: "{{ul.shareIcons li a}}", event: "click", opr: 45829}); addTrigger({act: ["JohnstonPress : DealMonster : Share Deal to Facebook : $1"], location: "dealmonster\\.co\\.uk/deal/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)", element: "{{#fbShareButton a}}", event: "click", opr: 45830}); addTrigger({act: ["JohnstonPress : DealMonster : Share Deal to Twitter : $1"], location: "dealmonster\\.co\\.uk/deal/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)", element: "{{li.ddpTwitterShare a}}", event: "click", opr: 45831}); addTrigger({int: ["JohnstonPress : DealMonster : Shop : Category : {{div.dm-header-cat a:nth-of-type(3)}}.textContent"], location: "dealmonster\\.co\\.uk/category/Home/Shop/([a-zA-Z0-9_+%-]+)", element: "{{div.dm-header-cat a:nth-of-type(3)}}", opr: 45820}); addTrigger({int: ["JohnstonPress : DealMonster : Shop : Category : {{div.dm-header-cat a:nth-of-type(3)}}.textContent : {{div.dm-header-cat a:nth-of-type(4)}}.textContent"], location: "dealmonster\\.co\\.uk/category/Home/Shop/([a-zA-Z0-9_+%-]+)", element: "{{div.dm-header-cat a:nth-of-type(4)}}", opr: 45821}); addTrigger({int: ["JohnstonPress : Total Site Traffic : $1$2"], location: "([a-zA-Z0-9_+%-]+)(.com|.com.in|.co.uk|.in|.vn|.fm|.org|.tv|.my|.sg|.ca|.net|.pk|.ar|.br|.cl|.ec|.gy|.es|.mx|.)", element: "{{html}}", opr: 46390}); addTrigger({int: ["Johnston Press : Total Site Traffic : $1"], location: "\\://([^/]*)([/])", element: "{{html}}", opr: 46919}); addTrigger({int: ["JohnstonPress : Site Level 1 : $1$2 : $3"], location: "([a-zA-Z0-9_+%-]+)(.com|.com.in|.co.uk|.in|.vn|.fm|.org|.tv|.my|.sg|.ca|.net|.pk|.ar|.br|.cl|.ec|.gy|.es|.mx|)/([a-zA-Z0-9_+%-]+)", element: "{{html}]", opr: 66897}); addTrigger({int: ["JohnstonPress : Site Level 2 : $1$2 : $3 : $4"], location: "([a-zA-Z0-9_+%-]+)(.com|.com.in|.co.uk|.in|.vn|.fm|.org|.tv|.my|.sg|.ca|.net|.pk|.ar|.br|.cl|.ec|.gy|.es|.mx|)/([a-zA-Z0-9_+%-]+)/([a-zA-Z0-9_+%-]+)", element: "{{html}}", opr: 66898}); addTrigger({srch: ["JohnstonPress : Search : Term : {{#searchHeader span}}.textContent"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk", element: "{{href}}", opr: 45816}); addTrigger({med: ["JohnstonPress : Article"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)\\-([0-9]+)\\-([0-9]+)", element: "{{html}}", opr: 45788}); addTrigger({med: ["JohnstonPress : Article : Category : $2"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)\\-([0-9]+)\\-([0-9]+)", element: "{{html}}", opr: 45789}); addTrigger({med: ["JohnstonPress : Article : $2 : $3"], location: "([a-zA-Z0-9_-]+)\\.co\\.uk/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)\\-([0-9]+)\\-([0-9]+)", element: "{{html}}", opr: 45790}); addTrigger({med: ["JohnstonPress : JobsToday : Job Page : Sector : {{dl.grid > div:nth-of-type(3) dd.grid-item a:nth-of-type(1)}}.textContent"], location: "jobstoday\\.co\\.uk/job/([0-9]+)/([a-zA-Z0-9_+%-]+)", element: "{{dl.grid > div:nth-of-type(3) dd.grid-item a:nth-of-type(1)}}", opr: 45802}); addTrigger({med: ["JohnstonPress : JobsToday : Job Page : Sector : {{dl.grid > div:nth-of-type(3) dd.grid-item a:nth-of-type(2)}}.textContent"], location: "jobstoday\\.co\\.uk/job/([0-9]+)/([a-zA-Z0-9_+%-]+)", element: "{{dl.grid > div:nth-of-type(3) dd.grid-item a:nth-of-type(2)}}", opr: 45803}); addTrigger({med: ["JohnstonPress : Property Page : for $2"], location: "([a-zA-Z0-9__]+)\\.co\\.uk/property/for\\-(sale|rent)/([a-zA-Z0-9_-]+)/property\\-([0-9]+)", element: "{{html}}", opr: 45817}); addTrigger({med: ["JohnstonPress : DealMonster : Deal Page : $1 : Category : {{div.dm-header-cat a:nth-of-type(3)}}.textContent"], location: "dealmonster\\.co\\.uk/deal/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)", element: "{{div.dm-header-cat a:nth-of-type(3)}}", opr: 45823}); addTrigger({med: ["JohnstonPress : DealMonster : Deal Page : $1 : Category : {{div.dm-header-cat a:nth-of-type(3)}}.textContent : {{div.dm-header-cat a:nth-of-type(4)}}.textContent"], location: "dealmonster\\.co\\.uk/deal/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_+%-]+)", element: "{{div.dm-header-cat a:nth-of-type(4)}}", opr: 45824}); addTrigger({ug: ["GrapeShot : Channel : {{html}}.ownerDocument.defaultView.gs_channels"], location: "(.*)", element: "{{html}}.ownerDocument.defaultView.gs_channels", opr: 47146}); addTrigger({ug: ["GrapeShot : Channel : {{html}}.ownerDocument.defaultView.gs_channels"], location: "(.*)", element: "{{html}}.ownerDocument.defaultView.gs_channels", opr: 47147});bindTriggers();}catch(exception){}}if(namespace.dropSyncPixels){if(useFpcMatchesUserAgent){var url=generateFirebcpURL('j');makeJsonpCall(url,'jsonpCallback');}else{var url=generateFirebcpURL('5');try{var tempIFrame=document.createElement('iframe');tempIFrame.setAttribute('id','LOTCCFrame'+new Date());url=append(url,"ifr","rt");tempIFrame.setAttribute('src',url.replace(/'/g,"%27"));tempIFrame.style.border='0px';tempIFrame.style.width='0px';tempIFrame.style.height='0px';tempIFrame.style.display='block';document.body.appendChild(tempIFrame)}catch(exception){var pixel=new Image(1,1);pixel.src=url.replace(/'/g,"%27")}}}reset(url)}function generateFirebcpURL(version){var url=appendAll(baseURL(true,version));if(typeof(lotbcp)!="undefined")url=append(url,lotbcp,"b");if(typeof(lotact)!="undefined")url=append(url,lotact,"act");if(typeof(lotint)!="undefined")url=append(url,lotint,"int");if(typeof(lotmed)!="undefined")url=append(url,lotmed,"med");return url}function doneload(){if(dobcp){firebcp();dobcp=false}namespace.loaded=true}function loadAsync(){if(async_props.async){try{with(async_props){for(type in asyncBehaviors){for(var i=0,b;b=asyncBehaviors[type][i++];){add(type,b)}}for(var i=0,id;id=asyncOpportunityIds[i++];){addOpportunityId(asyncOpportunityIds[id])}for(var i=0,tag;tag=asyncOpportunities[i++];){addOpportunity(asyncOpportunities[tag])}}bcp()}catch(e){}}}var GTKPR_INCLUDE_INVIEW;var placement_rules=[],addTrigger=addOptimusRule;function bindTriggers(){placement_rules.sort(function(a,b){var regex=/^#/;if(regex.test(a.element)&&!regex.test(b.element))return-1;if(!regex.test(a.element)&&regex.test(b.element))return 1;return 0});for(var i=0,pl;pl=placement_rules[i++];){pl.process()}if(OptimusRule.element_cache.length>0){for(var i=OptimusRule.element_cache.length-1;i>=0;i--){var el=OptimusRule.element_cache[i][0];var handlers=OptimusRule.element_cache[i][1];for(var ev in handlers){addEvent(el,ev,(function(h){var evt_el=el;return function(evt){for(var j=0,callback;callback=h[j++];){callback.call(evt_el,evt)}var b_count=0;for(var type in behaviors){b_count++}if(b_count>0)bcpw()}})(handlers[ev]))}delete OptimusRule.element_cache[i];OptimusRule.element_cache.length--}}};function addOptimusRule(r){var o=new OptimusRule(r);return o.process()};function addHapaxRule(r){var h=new HapaxRule(r);return h.process()};function addPlacementRule(r){placement_rules.push(new PlacementRule(r))};function OptimusRule(o){var o=o||{};this.location=o.location||null;this.rule_id=o.opr||null;this.element=o.element||null;this.event=o.event||null;this.location_matches=null;this.element_matches=null;this.current_document=document;for(var bt in o){if(typeof o[bt]==='object'&&o[bt]!==null&&o[bt].length>0){this.behavior_type=bt;this.behavior=o[bt][0]}}};OptimusRule.prototype={process:function(){var rule_matches=0;if(!this.is_valid())return false;for(var href in this.document_map){if(this.document_map[href]===null)continue;var loc_match=null;try{var re=new RegExp(this.location);loc_match=re.exec(href)}catch(e){this.add("opterr","location-match")}if(loc_match===null)continue;this.location_matches=loc_match;var doc=this.document_map[href];if(this.element!==null){this.query_regex.lastIndex=0;var query_element=(this.query_regex.test(this.element))?this.element:"{{#"+this.element+"}}";var elm_match=this.query(query_element,doc);if(elm_match.length==0&&this.event==null)continue;var missing_property=false;for(var i=0,el;el=elm_match[i++];){if(typeof el["property_name"]!=="undefined"&&el["property_name"]!==null&&el["property_content"]===null)missing_property=true}if(missing_property)continue;this.element_matches=elm_match;(this.event!==null)?this.create_event(doc):this.match(doc);rule_matches++}else{this.match(doc);rule_matches++}}return rule_matches},match:function(doc){var matches=this.query(this.behavior,doc);var p_behavior=this.behavior;for(var i=0,m;m=matches[i++];){p_behavior=p_behavior.replace(m.expression,(m.property_content!==null)?m.property_content:"")}p_behavior=p_behavior.replace(this.query_regex,"");if(this.location_matches!==null&&this.location_matches.length>0){for(var i=0;i<this.location_matches.length;i++){var sub_regex=new RegExp("\\$"+i.toString()+"\\b");p_behavior=p_behavior.replace(sub_regex,this.location_matches[i])}}if(p_behavior!==""){p_behavior=("#OpR#"+this.rule_id+"#"+decodeURI(p_behavior));this.add(p_behavior)}return p_behavior},add:function(b){add(this.behavior_type,b)},create_event:function(doc){var bind_to=[];if(this.element_matches.length>0){for(var i=0;i<this.element_matches.length;i++){for(var j=0;j<this.element_matches[i]["elements"].length;j++){bind_to.push(this.element_matches[i]["elements"][j])}}}else if(this.element_matches.length==0&&this.event=='click'){bind_to.push(doc)}else{return false}var create_callback=function(curr_elm,inst){var curDoc=doc;return function(evt){if(curr_elm===curDoc&&inst.element!==null){var els=inst.query(inst.element,curDoc);if(els.length==0)return;for(var i=0,el_list;el_list=els[i++];){var found=false;if(el_list.elements&&el_list.elements.length>0){for(var j=0,el;el=el_list.elements[j++];){if((evt.target&&evt.target==el)||(evt.srcElement&&evt.srcElement==el)){inst.match(curDoc);found=true;break}}}if(found)break}}else if(this===curr_elm){inst.match(curDoc)}}};for(var i=0,curr_elm;curr_elm=bind_to[i++];){if(!(curr_elm.nodeType&&(curr_elm.nodeType==1||curr_elm.nodeType==9)))continue;var found=false;for(var j=0,arr_elm;arr_elm=OptimusRule.element_cache[j++];){if(!isArray(arr_elm))continue;var cached_elm=arr_elm[0];var handler=arr_elm[1];if(curr_elm===cached_elm){if(!(this.event in handler))handler[this.event]=[];handler[this.event].push(create_callback(curr_elm,this));found=true}}if(found===false){var new_elm=[curr_elm,{}];new_elm[1][this.event]=[create_callback(curr_elm,this)];OptimusRule.element_cache.push(new_elm)}}return OptimusRule.element_cache},is_valid:function(){var valid=true;if((this.location==='')||(this.location===null)||(typeof this.location!=="string"))valid=false;if((this.rule_id===null)||isNaN(parseInt(this.rule_id)))valid=false;if((this.element!==null&&typeof this.element!=="string"))valid=false;if((this.event!==null)&&((this.element==null||typeof this.event!=="string")))valid=false;return valid},filter:function(c){var str=c.replace(/\<\/?[^>]+\/?\>/gi,'').replace(/\n|\t|\r/gi,' ').replace(/\s{2,}/g,' ').replace(/\[quote\][\s\S]*\[\/quote\]/gi,'');try{str=decodeURIComponent(str)}catch(e){}if(typeof client!=='undefined'&&client==2241){str=str.replace(/[^\u0020-\u007e]/g,'')}return str},query:function(q,doc){var matches=[],results,expr,selector,property,els,prefix;try{this.query_regex.lastIndex=0;while((results=this.query_regex.exec(q))!==null){expr=results[0];prefix=results[1]||"e";selector=results[2];property=results[4]||null;els=(typeof OptimusRule.supported_sources[prefix]==='function')?OptimusRule.supported_sources[prefix].call(this,selector,property,doc):[];if(els.length>0){matches.push({expression:expr,elements:els[0],property_name:property,property_content:els[1]})}}}catch(e){this.add("opterr","get-elements-by-selector");matches=[]}return matches},query_regex:/([a-zA-Z]+)?\{\{([^}}]*)\}\}(\.([a-zA-Z0-9\._-]+))?/g,document_map:(function(w,doc_map){doc_map[w.location.href]=w.document;var has_access=false;if(window.parent!=w){try{if(w.parent.location.href){has_access=true;return arguments.callee(w.parent,doc_map)}}catch(e){}if(!has_access){if(w.document.referrer!=='')doc_map[w.document.referrer]=null}}return doc_map})(window,{})};OptimusRule.element_cache=[];OptimusRule.supported_sources={e:function(s,p,d){var p=p||"value";var els=this.query_by_selector(s,d);var props=[];for(var i=0,e;e=els[i++];){var prop_arr=p.split('.');for(var j=0;typeof e[prop_arr[j]]!=="undefined";j++){e=e[prop_arr[j]]}if(j===prop_arr.length){props.push(this.filter(e.toString()))}}var p_content=(props.length>0)?props.join(','):null;return els.length>0?[els,p_content]:[]},r:function(s,p,d){var p=parseInt(p)||0;var re=new RegExp(s);var matches=re.exec(d.referrer);var r_prop=(matches!==null&&typeof matches[p]!=='undefined')?this.filter(matches[p]):null;return(r_prop!==null)?[matches,r_prop]:[]}};function HapaxRule(h){OptimusRule.call(this,h);this.behavior_type="ugc";this.behavior=h["ug"][0]||null};HapaxRule.prototype=new OptimusRule();HapaxRule.prototype.is_valid=function(){var valid=true;if((this.location==='')||(this.location===null)||(typeof this.location!=='string'))valid=false;if((this.element==='')||(this.element===null)||(typeof this.element!=='string'))valid=false;if((this.event==='')||(this.event===null)||(typeof this.event!=='string'))valid=false;if((this.behavior==='')||(this.behavior===null)||(typeof this.behavior!=='object'))valid=false;return valid};function PlacementRule(p){OptimusRule.call(this,p);this.placement_id=p.placement_id||null;this.placement=p.placement||null};PlacementRule.prototype=new OptimusRule();PlacementRule.prototype.process=function(){if(!this.is_valid)return false;var els=this.query((this.query_regex.test(this.element))?this.element:("{{"+this.element+"}}"),document);if(els.length<=0)return false;if(this.placement_id!==null){this.addOpportunityId()}else if(this.placement!==null){this.addOpportunity()}else{return false}return true};PlacementRule.prototype.addOpportunityId=function(){addOpportunityId(this.placement_id)};PlacementRule.prototype.addOpportunity=function(){addOpportunity(this.placement)};PlacementRule.prototype.is_valid=function(){var valid=true;if((this.placement==null||typeof this.placement!=='string')&&(this.placement_id==null||isNaN(parseInt(this.placement_id))))valid=false;if((this.element==='')||(this.element===null)||(typeof this.element!=="string"))valid=false;return valid};(function(){var doc=document;var isIE=/(?!.*?opera.*?)msie(?!.*?opera.*?)/i.test(navigator.userAgent);var isWebKit=/webkit/i.test(navigator.userAgent);var cache={};var cacheOn=!isIE&&!isWebKit;var persistCache={};var _uid=0;var reg={trim:/^\s+|\s+$/g,quickTest:/^[^:\[>+~ ,]+$/,typeSelector:/(^[^\[:]+?)(?:\[|\:|$)/,tag:/^(\w+|\*)/,id:/^(\w*|\*)#/,classRE:/^(\w*|\*)\./,attributeName:/(\w+)(?:[!+~*\^$|=])|\w+/,attributeValue:/(?:[!+~*\^$|=]=*)(.+)(?:\])/,pseudoName:/(\:[^\(]+)/,pseudoArgs:/(?:\()(.+)(?:\))/,nthParts:/([+-]?\d)*(n)([+-]\d+)*/i,combinatorTest:/[+>~ ](?![^\(]+\)|[^\[]+\])/,combinator:/\s*[>~]\s*(?![=])|\s*\+\s*(?![0-9)])|\s+/g,recursive:/:(not|has)\((\w+|\*)?([#.](\w|\d)+)*(\:(\w|-)+(\([^\)]+\))?|\[[^\}]+\])*(\s*,\s*(\w+|\*)?([#.](\w|\d)+)*(\:(\w|-)+(\([^\)]+\))?|\[[^\}]+\])*)*\)/gi};var arrayIt=function(a){if(!!(window.attachEvent&&!window.opera)){return function(a){if(a instanceof Array)return a;for(var i=0,result=[],m;m=a[i++];)result[result.length]=m;return result}}else{return function(a){return Array.prototype.slice.call(a)}}}();function filter(a,tag){var r=[],uids={};if(tag)tag=new RegExp("^"+tag+"$","i");for(var i=0,ae;ae=a[i++];){ae.uid=ae.uid||_uid++;if(!uids[ae.uid]&&(!tag||ae.nodeName.search(tag)!==-1)){r[r.length]=uids[ae.uid]=ae}}return r}function getAttribute(e,a){if(!e)return null;if(a==="class"||a==="className")return e.className;if(a==="for")return e.htmlFor;return e.getAttribute(a)||e[a]}function getByClass(selector,selectorRE,root,includeRoot,cacheKey,tag,flat){var result=[];if(!!flat){return selectorRE.test(root.className)?[root]:[]}if(root.getElementsByClassName){result=arrayIt(root.getElementsByClassName(selector));if(!!includeRoot){if(selectorRE.test(root.className))result[result.length]=root}if(tag!="*")result=filter(result,tag);cache[cacheKey]=result.slice(0);return result}else if(doc.getElementsByClassName){result=arrayIt(doc.getElementsByClassName(selector));if(tag!="*")result=filter(result,tag);cache[cacheKey]=result.slice(0);return result}var es=(tag=="*"&&root.all)?root.all:root.getElementsByTagName(tag);if(!!includeRoot)es[es.length]=root;for(var index=0,e;e=es[index++];){if(selectorRE.test(e.className)){result[result.length]=e}}return result}function getById(selector,root,includeRoot,cacheKey,tag,flat){var rs,result=[];if(!!flat){return getAttribute(root,"id")===selector?[root]:[]}if(root.getElementById){rs=root.getElementById(selector)}else{rs=doc.getElementById(selector)}if(rs&&getAttribute(rs,"id")===selector){result[result.length]=rs;cache[cacheKey]=result.slice(0);return result}var es=root.getElementsByTagName(tag);if(!!includeRoot)es[es.length]=root;for(var index=0,e;e=es[index++];){if(getAttribute(e,"id")===selector){result[result.length]=e;break}}return result}function getContextFromSequenceSelector(selector,roots,includeRoot,flat){var context,contextRE,tag,contextType="",result=[],tResult=[],root,rootCount,rootsLength;reg.id.lastIndex=reg.typeSelector.lastIndex=reg.classRE.lastIndex=0;if(!reg.tag.test(selector))selector="*"+selector;context=reg.typeSelector.exec(selector)[1];roots=roots instanceof Array?roots.slice(0):[roots];rootsLength=roots.length;rootCount=rootsLength-1;if(reg.id.test(context)){contextType="id";tag=(tag=context.match(/^\w+/))?tag[0]:"*";context=context.replace(reg.id,"")}else if(reg.classRE.test(context)){contextType="class";tag=(tag=context.match(reg.tag))?tag[0]:"*";context=context.replace(reg.tag,"");contextRE=persistCache[context+"RegExp"]||(persistCache[context+"RegExp"]=new RegExp("(?:^|\\s)"+context.replace(/\./g,"\\s*")+"(?:\\s|$)"));context=context.replace(/\./g," ")}while(rootCount>-1){root=roots[rootCount--];root.uid=root.uid||_uid++;var cacheKey=selector+root.uid;if(cacheOn&&cache[cacheKey]){result=result.concat(cache[cacheKey]);continue}if(contextType==="id"){tResult=getById(context,root,includeRoot,cacheKey,tag,flat)}else if(contextType==="class"){tResult=getByClass(context,contextRE,root,includeRoot,cacheKey,tag,flat)}else{tResult=arrayIt(root.getElementsByTagName(context));if(!!includeRoot&&(root.nodeName.toUpperCase()===context.toUpperCase()||context==="*"))tResult[tResult.length]=root}result=rootsLength>1?result.concat(tResult):tResult;cache[cacheKey]=result.slice(0)}return result}peppy={query:function(selectorGroups,root,includeRoot,recursed,flat){var elements=[];if(!recursed){selectorGroups=selectorGroups.replace(reg.trim,"").replace(/(\[)\s+/g,"$1").replace(/\s+(\])/g,"$1").replace(/(\[[^\] ]+)\s+/g,"$1").replace(/\s+([^ \[]+\])/g,"$1").replace(/(\()\s+/g,"$1").replace(/(\+)([^0-9])/g,"$1 $2").replace(/['"]/g,"").replace(/\(\s*even\s*\)/gi,"(2n)").replace(/\(\s*odd\s*\)/gi,"(2n+1)");}if(typeof root==="string"){root=(root=getContextFromSequenceSelector(root,doc)).length>0?root:undefined}root=root||doc;root.uid=root.uid||_uid++;var cacheKey=selectorGroups+root.uid;if(cacheOn&&cache[cacheKey])return cache[cacheKey];reg.quickTest.lastIndex=0;if(reg.quickTest.test(selectorGroups)){elements=getContextFromSequenceSelector(selectorGroups,root,includeRoot,flat);return(cache[cacheKey]=elements.slice(0))}var groupsWorker,groups,selector,parts=[],part;groupsWorker=selectorGroups.split(/\s*,\s*/g);groups=groupsWorker.length>1?[""]:groupsWorker;for(var gwi=0,tc=0,gi=0,g;groupsWorker.length>1&&(g=groupsWorker[gwi++])!==undefined;){var l,r;tc+=(((l=g.match(/\(/g))?l.length:0)-((r=g.match(/\)/g))?r.length:0));groups[gi]=groups[gi]||"";groups[gi]+=(groups[gi]===""?g:","+g);if(tc===0)gi++}var gCount=0;while((selector=groups[gCount++])!==undefined){reg.quickTest.lastIndex=0;if(reg.quickTest.test(selector)){result=getContextFromSequenceSelector(selector,root,includeRoot,flat);elements=groups.length>1?elements.concat(result):result;continue}reg.combinatorTest.lastIndex=0;if(reg.combinatorTest.test(selector)){var parts,pLength,pCount=0,combinators,cLength,cCount=0,result;parts=selector.split(reg.combinator);pLength=parts.length;combinators=selector.match(reg.combinator)||[""];cLength=combinators.length;while(pCount<pLength){var c,part1,part2;c=combinators[cCount++].replace(reg.trim,"");part1=result||peppy.query(parts[pCount++],root,includeRoot,true,flat);part2=peppy.query(parts[pCount++],c==""||c==">"?part1:root,c==""||c==">",true,flat);result=peppy.queryCombinator(part1,part2,c)}elements=groups.length>1?elements.concat(result):result;result=undefined}else{result=peppy.querySelector(selector,root,includeRoot,flat);elements=groups.length>1?elements.concat(result):result}}if(groups.length>1)elements=filter(elements);return(cache[cacheKey]=elements.slice(0))},queryCombinator:function(l,r,c){var result=[],uids={},proc={},succ={},fail={},combinatorCheck=peppy.simpleSelector.combinator[c];for(var li=0,le;le=l[li++];){le.uid=le.uid||_uid++;uids[le.uid]=le}for(var ri=0,re;re=r[ri++];){re.uid=re.uid||_uid++;if(!proc[re.uid]&&combinatorCheck(re,uids,fail,succ)){result[result.length]=re}proc[re.uid]=re}return result},querySelector:function(selector,root,includeRoot,flat){var context,passed=[],count,totalCount,e,first=true,localCache={};context=getContextFromSequenceSelector(selector,root,includeRoot,flat);count=context.length;totalCount=count-1;var tests,recursive;if(/:(not|has)/i.test(selector)){recursive=selector.match(reg.recursive);selector=selector.replace(reg.recursive,"")}if(!(tests=selector.match(/:(\w|-)+(\([^\(]+\))*|\[[^\[]+\]/g)))tests=[];if(recursive)tests=tests.concat(recursive);var aTest;while((aTest=tests.pop())!==undefined){var pc=persistCache[aTest],testFuncScope,testFunc,testFuncKey,testFuncArgs=[],isTypeTest=false,isCountTest=false;passed=[];if(pc){testFuncKey=pc[0];testFuncScope=pc[1];testFuncArgs=pc.slice(2);testFunc=testFuncScope[testFuncKey]}else if(!/^:/.test(aTest)){var n=aTest.match(reg.attributeName);var v=aTest.match(reg.attributeValue);testFuncArgs[1]=n[1]||n[0];testFuncArgs[2]=v?v[1]:"";testFuncKey=""+aTest.match(/[~!+*\^$|=]/);testFuncScope=peppy.simpleSelector.attribute;testFunc=testFuncScope[testFuncKey];persistCache[aTest]=[testFuncKey,testFuncScope].concat(testFuncArgs)}else{var pa=aTest.match(reg.pseudoArgs);testFuncArgs[1]=pa?pa[1]:"";testFuncKey=aTest.match(reg.pseudoName)[1];testFuncScope=peppy.simpleSelector.pseudos;if(/nth-(?!.+only)/i.test(aTest)){var a,b,nArg=testFuncArgs[1],nArgPC=persistCache[nArg];if(nArgPC){a=nArgPC[0];b=nArgPC[1]}else{var nParts=nArg.match(reg.nthParts);if(nParts){a=parseInt(nParts[1],10)||0;b=parseInt(nParts[3],10)||0;if(/^\+n|^n/i.test(nArg)){a=1}else if(/^-n/i.test(nArg)){a=-1}testFuncArgs[2]=a;testFuncArgs[3]=b;persistCache[nArg]=[a,b]}}}else if(/^:contains/.test(aTest)){var cArg=testFuncArgs[1];var cArgPC=persistCache[cArg];if(cArgPC){testFuncArgs[1]=cArgPC}else{testFuncArgs[1]=persistCache[cArg]=new RegExp(cArg)}}testFunc=testFuncScope[testFuncKey];persistCache[aTest]=[testFuncKey,testFuncScope].concat(testFuncArgs)}isTypeTest=/:(\w|-)+type/i.test(aTest);isCountTest=/^:(nth[^-]|eq|gt|lt|first|last)/i.test(aTest);if(isCountTest)testFuncArgs[3]=totalCount;var cLength=context.length,cCount=cLength-1;while(cCount>-1){e=context[cCount--];if(first){e.peppyCount=cCount+1}var pass=true;testFuncArgs[0]=e;if(isCountTest)testFuncArgs[2]=e.peppyCount;if(!testFunc.apply(testFuncScope,testFuncArgs)){pass=false}if(pass){passed.push(e)}}context=passed;first=false}return passed},simpleSelector:{attribute:{"null":function(e,a,v){return!!getAttribute(e,a)},"=":function(e,a,v){return getAttribute(e,a)==v},"~":function(e,a,v){return getAttribute(e,a).match(new RegExp('\\b'+v+'\\b'))},"^":function(e,a,v){return getAttribute(e,a).indexOf(v)===0},"$":function(e,a,v){var attr=getAttribute(e,a);return attr.lastIndexOf(v)===attr.length-v.length},"*":function(e,a,v){return getAttribute(e,a).indexOf(v)!=-1},"|":function(e,a,v){return getAttribute(e,a).match('^'+v+'-?(('+v+'-)*('+v+'$))*')},"!":function(e,a,v){return getAttribute(e,a)!==v}},pseudos:{":root":function(e){return e===doc.getElementsByTagName("html")[0]?true:false},":nth-child":function(e,n,a,b,t){if(!e.nodeIndex){var node=e.parentNode.firstChild,count=0,last;for(;node;node=node.nextSibling){if(node.nodeType==1){last=node;node.nodeIndex=++count}}last.IsLastNode=true;if(count==1)last.IsOnlyChild=true}var position=e.nodeIndex;if(n=="first")return position==1;if(n=="last")return!!e.IsLastNode;if(n=="only")return!!e.IsOnlyChild;return(!a&&!b&&position==n)||((a==0?position==b:a>0?position>=b&&(position-b)%a==0:position<=b&&(position+b)%a==0))},":nth-last-child":function(e,n){return this[":nth-child"](e,n)},":nth-of-type":function(e,n,t){return this[":nth-child"](e,n,null,null,t)},":nth-last-of-type":function(e,n,t){return this[":nth-child"](e,n,null,null,t)},":first-child":function(e){return this[":nth-child"](e,"first")},":last-child":function(e){return this[":nth-child"](e,"last")},":first-of-type":function(e,n,t){return this[":nth-child"](e,"first",null,null,t)},":last-of-type":function(e,n,t){return this[":nth-child"](e,"last",null,null,t)},":only-child":function(e){return this[":nth-child"](e,"only")},":only-of-type":function(e,n,t){return this[":nth-child"](e,"only",null,null,t)},":empty":function(e){for(var node=e.firstChild,count=0;node!==null;node=node.nextSibling){if(node.nodeType===1||node.nodeType===3)return false}return true},":not":function(e,s){return peppy.query(s,e,true,true,true).length===0},":has":function(e,s){return peppy.query(s,e,true,true,true).length>0},":selected":function(e){return e.selected},":hidden":function(e){return e.type==="hidden"||e.style.display==="none"},":visible":function(e){return e.type!=="hidden"&&e.style.display!=="none"},":input":function(e){return e.nodeName.search(/input|select|textarea|button/i)!==-1},":radio":function(e){return e.type==="radio"},":checkbox":function(e){return e.type==="checkbox"},":text":function(e){return e.type==="text"},":header":function(e){return e.nodeName.search(/h\d/i)!==-1},":enabled":function(e){return!e.disabled&&e.type!=="hidden"},":disabled":function(e){return e.disabled},":checked":function(e){return e.checked},":contains":function(e,s){return s.test((e.textContent||e.innerText||""))},":parent":function(e){return!!e.firstChild},":odd":function(e){return this[":nth-child"](e,"2n+2",2,2)},":even":function(e){return this[":nth-child"](e,"2n+1",2,1)},":nth":function(e,s,i){return s==i},":eq":function(e,s,i){return s==i},":gt":function(e,s,i){return i>s},":lt":function(e,s,i){return i<s},":first":function(e,s,i){return i==0},":last":function(e,s,i,end){return i==end}},combinator:{"":function(r,u,f,s){var rUID=r.uid;while((r=r.parentNode)!==null&&!f[r.uid]){if(!!u[r.uid]||!!s[r.uid]){return(s[rUID]=true)}}return(f[rUID]=false)},">":function(r,u,f,s){return r.parentNode&&u[r.parentNode.uid]},"+":function(r,u,f,s){while((r=r.previousSibling)!==null&&!f[r.uid]){if(r.nodeType===1)return r.uid in u}return false},"~":function(r,u,f,s){var rUID=r.uid;while((r=r.previousSibling)!==null&&!f[r.uid]){if(!!u[r.uid]||!!s[r.uid]){return(s[rUID]=true)}}return(f[rUID]=false)}}}};if(doc.querySelectorAll){(function(){var oldpeppy=peppy.query;peppy.query=function(sel,context){context=context||doc;if(context===doc){try{return context.querySelectorAll(sel)}catch(e){}}return oldpeppy.apply(oldpeppy,arrayIt(arguments))}})()}else{var aEvent=doc.addEventListener||doc.attachEvent;function clearCache(){cache={}}aEvent("DOMAttrModified",clearCache,false);aEvent("DOMNodeInserted",clearCache,false);aEvent("DOMNodeRemoved",clearCache,false)}OptimusRule.prototype.query_by_selector=function(){try{return peppy.query.apply(peppy,arguments)}catch(e){if(typeof console!='undefined'){console.log("Error processing selector: "+arguments[0])}return[]}}})();var GTKPR_AUTO_FIRE;window[ns].jsonpCallback=jsonpCallback;var _cc_idCkeName='_cc_id';var _cc_dcCkeName='_cc_dc';var _cc_cloCkeName='_cc_clo';var _cc_testCkeName='_cc_cc';var _cc_testCkeVal='ctst';function makeJsonpCall(url,callbackMethod,delimArg){var delimToUse=getDefinedValue(delimArg,delim);var callbackId='cc_'+callbackMethod;var urlString=new String(url);urlString=append(urlString,ns+'.'+callbackMethod,'callback',delimToUse);urlString=append(urlString,callbackId,'callbackid',delimToUse);urlString=append(urlString,encodeURIComponent(delimToUse),'delim',delimToUse);var fpcJsonArray=getFirstPartyCookiesJson();if(fpcJsonArray.length>0){var jsonPayload=[createJsonPayload(fpcJsonArray)];urlString=append(urlString,jsonPayload,'jsonpayload',delimToUse);if(urlString.indexOf('fpc=y')==-1){urlString=append(urlString,'y','fpc',delimToUse)}}var tempScriptTag=document.createElement('script');tempScriptTag.type='text/javascript';tempScriptTag.src=urlString;tempScriptTag.id=callbackId;document.body.appendChild(tempScriptTag)}function jsonpCallback(data){if(data==null||data=='undefined'){return}removeJsonpTag(data);var firstPartyDomainScope;var returnedDomain=new String();if(data.domain&&data.domain!='undefined'&&data.domain!=null){var firstPartyDomainScope=checkDomainScope()}else{firstPartyDomainScope=false}var delimToUse=getDefinedValue(data.delim,delim);if(firstPartyDomainScope){if(data.cookies&&data.cookies!='undefined'&&data.cookies!=null&&data.cookies.length>0){writeCookies(data.cookies,returnedDomain)}}if(data.redirect){var redirectUrl=new String(data.redirect);var redirectType=getDefinedValue(data.redirectType,'JSONP');switch(redirectType){case'WINDOW_LOCATION':window.location.assign(redirectUrl);break;case'JSONP':default:redirectUrl=removeCallbackParams(redirectUrl,data,delimToUse);var jsonPayload=null;if(redirectUrl.indexOf('ct=y')!=-1){var isCookieable=false;if(firstPartyDomainScope){isCookieable=writeTestCookie(returnedDomain)}if(isCookieable){redirectUrl=addFpcParam(redirectUrl)}}var url=addPortNumber(getPrefix()+getDomain());url+=redirectUrl;if(typeof(jsonPayload)!='undefined'&&jsonPayload!=null){url=append(url,jsonPayload,'jsonpayload')}makeJsonpCall(url,'jsonpCallback',delimToUse);break}}}function removeJsonpTag(data){if(!data.callbackId||data.callbackId=='undefined'||data.callbackId==null){return}var scriptTag=document.getElementById(data.callbackId);document.body.removeChild(scriptTag)}function removeCallbackParams(url,data,delimArg){var delimToUse=getDefinedValue(delimArg,delim);if(data.callback!='undefined'&&data.callback!=null){url=removeUrlParam(url,delimToUse+'callback='+data.callback)}if(data.callbackId){url=removeUrlParam(url,delimToUse+'callbackid='+data.callbackId)}if(data.delim){url=removeUrlParam(url,delimToUse+'delim='+data.delim)}return url}function removeUrlParam(url,param){var array=url.split(param);return new String(array[0]+array[1])}function getCookie(cookieName){var cookieValue=null;var cookieString=new String(document.cookie);if(cookieString.length!=0){var cookieMatch=cookieString.match(cookieName+'=([^;]*)');if(typeof(cookieMatch)!='undefined'&&cookieMatch!=null){cookieValue=cookieMatch[1]}}return cookieValue}function getFirstPartyCookiesJson(){var retVal=new Array();var fpcId=getCookie(_cc_idCkeName);if(fpcId!=null){retVal.push(createCookieJson(_cc_idCkeName,fpcId))}var fpcDc=getCookie(_cc_dcCkeName);if(fpcDc!=null){retVal.push(createCookieJson(_cc_dcCkeName,fpcDc))}var fpcClo=getCookie(_cc_cloCkeName);if(fpcClo!=null){retVal.push(createCookieJson(_cc_cloCkeName,fpcClo))}return retVal}function addFpcParam(url){if(url.indexOf('fpc=y')==-1){url=append(url,'y','fpc')}return url}function createCookieJson(name,value){return'{"name":"'+name+'","value":"'+value+'"}'}function createJsonPayload(cookies){var jsonPayload='{';if(cookies!=null&&typeof(cookies)=='object'&&cookies.length>0){var cookiesJson=new String('"cookies":[');var cookiesCount=cookies.length;for(var i=0;i<cookiesCount;i++){cookiesJson+=cookies[i]+','}cookiesJson=cookiesJson.substring(0,cookiesJson.length-1);cookiesJson+=']';jsonPayload+=cookiesJson}jsonPayload+='}';jsonPayload=encodeURI(jsonPayload);return jsonPayload}function writeTestCookie(returnedDomain){document.cookie=_cc_testCkeName+'='+_cc_testCkeVal+';'+'domain='+returnedDomain+';';var cookieValue=getCookie(_cc_testCkeName);if(cookieValue==_cc_testCkeVal){return true}else{return false}}function writeCookies(cookieArray,domainArg){if(typeof(cookieArray)!='undefined'&&cookieArray!=null){var cookieCount=cookieArray.length;for(var i=0;i<cookieCount;i++){var cookie=cookieArray[i];if(cookie.name=='undefined'||cookie.name==null||cookie.value=='undefined'||cookie.value==null){continue}var cookieString='';cookieString+=cookie.name+'='+cookie.value+';';var kvs=new Object();kvs['domain']=domainArg;kvs['path']=getCookieProperty(cookie,'path');var maxAge=getCookieProperty(cookie,'maxAge');if(maxAge!=-1){var d=new Date();d.setTime(d.getTime()+(maxAge*1000));kvs['expires']=d.toGMTString()}var val;for(var key in kvs){val=kvs[key];if(typeof(val)!='undefined'&&val!=null){cookieString+=key+'='+val+';'}}document.cookie=cookieString}}}function getCookieProperty(cookie,property){if(cookie[property]!='undefined'&&cookie[property]!=null){return cookie[property]}else{return null}}function checkDomainScope(){if(actualClient.cookieDomain.length<=0){return false}var domainCandidate=document.domain;if(actualClient.cookieDomain=='.'+domainCandidate||actualClient.cookieDomain===domainCandidate||actualClient.cookieDomainIDN=='.'+domainCandidate||actualClient.cookieDomainIDN===domainCandidate){return true}var index=domainCandidate.indexOf(actualClient.cookieDomain);if(index==-1){index=domainCandidate.indexOf(actualClient.cookieDomainIDN)}if(index==-1){return false}else{return true}}};ccJs()})();
