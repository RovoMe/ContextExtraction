define(["idcta/idCookie","id-statusbar-config"],function(d,c){var b={};function e(i){this.id=i.id;this.element=document.getElementById(i.id);var g=this;if(i.publiclyCacheable===true){var h=document.getElementById("idcta-link");if(window.location.hostname.match(/(?:\.)([^\.]{1,3}\.?[^\.]*)$/).pop()=="bbc.com"){c.signin_url=c.signin_url.replace(".bbc.co.uk",".bbc.com")}if(d.getInstance().hasCookie()){var j=new RegExp("^([a-z]+://|//)");if(c.signin_url&&!j.test(h.getAttribute("href"))){h.href=c.signin_url.match(/(\/\/.[^/]+)/).pop()+h.getAttribute("href")}a(g)}else{if(c.signin_url){h.href=c.signin_url}g.element.getElementsByTagName("span")[0].innerHTML=c.translation_signedout}}}function a(j){var i=d.getInstance().getNameFromCookie()||c.translation_signedin;var h=c.translation_signedin;if(i){var g=f(i,14);h=g;if(g!==i){j.element.getElementsByTagName("span")[0].title=i}}j.element.className=j.element.className+" idcta-signedin";j.element.getElementsByTagName("span")[0].innerHTML=h}function f(h,g){if(h.length>g){return h.substring(0,g-1)+"â€¦"}return h}b.Statusbar=e;return b});